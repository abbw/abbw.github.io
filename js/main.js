"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var scrollWidth=document.body.scrollWidth||document.documentElement.scrollWidth,darkControlButton=null,searchControlButton=null,searchControlButton=(scrollWidth<=742?(darkControlButton=document.getElementsByClassName("darkwidget")[0],document.getElementsByClassName("searchwidget")):(darkControlButton=document.getElementsByClassName("darknavbar")[0],document.getElementsByClassName("searchnavbar")))[0],smoothScrollToTop=(darkControlButton.addEventListener("click",function(){setDarkmode(reverseDarkModeSetting())}),function t(){var e=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;1<e?(window.requestAnimationFrame(t),scrollTo(0,Math.floor(.85*e))):scrollTo(0,0)}),reversePopButton=(setTimeout(function(){document.getElementById("scrollbutton").onclick=smoothScrollToTop},0),function(){var t=document.getElementById("scrollbutton"),e=document.getElementById("menubutton"),n=document.getElementById("popbutton"),o=document.body.scrollWidth||document.documentElement.scrollWidth,t=("1"===t.style.opacity?(t.style.bottom="32px",t.style.opacity="0",n.style.transform="none"):(n.style.transform="rotate(90deg)",t.style.bottom="85px",t.style.opacity="1"),document.getElementById("mobiletoc")),t=(o<=862&&t&&("1"===e.style.opacity?(e.style.right="32px",e.style.opacity="0"):(e.style.right="85px",e.style.opacity="1")),document.querySelector(".darkwidget")),e=document.querySelector(".searchwidget");o<=742&&("1"===t.style.opacity?(t.style.bottom="32px",t.style.opacity="0",t.style.transform="none"):(t.style.display="flex",n.style.transform="rotate(90deg)",t.style.bottom="138px",t.style.opacity="1"),"1"===e.style.opacity?(e.style.bottom="32px",e.style.opacity="0",e.style.transform="none"):(e.style.display="flex",e.style.transform="rotate(90deg)",e.style.bottom="191px",e.style.opacity="1"))});function menuClick(t){var t=t.target,e=document.getElementById("mobiletoc");e&&!e.contains(t)&&(e.style.display="none",mask.remove(),document.removeEventListener("click",menuClick))}setTimeout(function(){document.getElementById("popbutton").addEventListener("click",reversePopButton)},0);var clickMenuButton=function(){var t=document.getElementById("mobiletoc");t&&(t.style.display="block",(t=document.createElement("div")).id="mask",document.body.append(t),setTimeout(function(){document.addEventListener("click",menuClick)},0))};function searchClick(t){var e,n=document.querySelector("#local-search");n.contains(t.target)||(t=document.querySelector("#search-input"),e=document.querySelector("#search-content"),t.value="",n.style.display="none",e.innerHTML="",mask.remove(),document.removeEventListener("click",searchClick))}setTimeout(function(){document.getElementById("menubutton").onclick=clickMenuButton},0),setTimeout(function(){searchControlButton.addEventListener("click",function(){var t=document.createElement("div");t.id="mask",document.body.append(t),document.querySelector("#local-search").style.display="block",setTimeout(function(){document.addEventListener("click",searchClick)},0)})});var localSearch=function(t){fetch(t).then(function(t){return t.json()}).then(function(t){var e=document.getElementById("search-input"),n=document.getElementById("search-content");e.addEventListener("input",function(){var c='<ul class="search-result-list">',l=this.value.trim().toLowerCase();if(n.innerHTML="",!(this.value.trim().length<=0)){if(t.forEach(function(t){var e,n=!0,o=(t.title&&""!==t.title.trim()||(t.title="Untitled"),t.title.trim().toLowerCase()),r=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),a=-1;""===o||(e=o.indexOf(l),a=r=r.indexOf(l),e<0&&r<0)?n=!1:r<0&&(a=0),n&&(c+='<li><a href="'.concat(t.url,'" class="search-result-title" >').concat(o,"</a>"),e=t.content,0<=a&&(r=Math.max(0,a-12),n=Math.min(e.length,a+12),o=(o=e.substr(r,n)).replace(new RegExp(l,"gi"),'<em class="search-keyword">'+l+"</em>"))&&(c+='<p class="search-result">'+o+"</p>"),c+="</li>")}),-1===(c+="</ul>").indexOf("<li>"))return n.innerHTML='<ul><span class="local-search-empty">没有搜索到结果<span></ul>';n.innerHTML=c}})})},addCopy=function(){var t="";t+='<button class="btn-copy" data-clipboard-snippet="">';$(".highlight .code pre").before('<button class="btn-copy" data-clipboard-snippet=""><span>复制</span></button>'),new ClipboardJS(".btn-copy",{target:function(t){return t.nextElementSibling}})},tabsFn={clickFnOfTabs:function(){document.querySelectorAll("#section .tab > button").forEach(function(t){t.addEventListener("click",function(t){var e,n,o,r=this.parentNode;r.classList.contains("active")||(e=r.parentNode.nextElementSibling,(n=tabsFn.siblings(r,".active")[0])&&n.classList.remove("active"),r.classList.add("active"),o=this.getAttribute("data-href").replace("#",""),_toConsumableArray(e.children).forEach(function(t){t.id===o?t.classList.add("active"):t.classList.remove("active")}))})})},backToTop:function(){document.querySelectorAll("#section .tabs .tab-to-top").forEach(function(t){t.addEventListener("click",function(){scrollTo(0,tabsFn.getEleTop(tabsFn.getParents(this,".tabs")))})})},getEleTop:function(t){for(var e=t.offsetTop,n=t.offsetParent;null!==n;)e+=n.offsetTop,n=n.offsetParent;return e},getParents:function(t,e){for(;t&&t!==document;t=t.parentNode)if(t.matches(e))return t;return null},siblings:function(e,n){return _toConsumableArray(e.parentNode.children).filter(function(t){return n?t!==e&&t.matches(n):t!==e})}};tabsFn.clickFnOfTabs(),tabsFn.backToTop();