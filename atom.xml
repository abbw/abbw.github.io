<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>骑猪看月亮</title>
  <icon>https://www.gravatar.com/avatar/3e294b2fdef7cd669761f5e6fdfa3085</icon>
  <subtitle>To be NO.1</subtitle>
  <link href="https://qzkyl.ml/atom.xml" rel="self"/>
  
  <link href="https://qzkyl.ml/"/>
  <updated>2023-06-05T12:40:41.000Z</updated>
  <id>https://qzkyl.ml/</id>
  
  <author>
    <name>笨蛋海绵</name>
    <email>abbw@foxmail.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Github Actions 触发方式全解析，让你的自动化流程更智能！</title>
    <link href="https://qzkyl.ml/posts/15016.html"/>
    <id>https://qzkyl.ml/posts/15016.html</id>
    <published>2023-06-05T12:40:41.000Z</published>
    <updated>2023-06-05T12:40:41.000Z</updated>
    
    <content type="html"><![CDATA[<p>GitHub Actions 是 GitHub 提供的一项自动化工具，可以帮助开发者自动化构建、测试、部署等工作流程。其中，手动触发方式是一种非常常用的触发方式，可以在需要的时候手动触发工作流程。</p><h2 id="触发方式"><a href="#触发方式" class="headerlink" title="触发方式"></a>触发方式</h2><p>GitHub Actions 支持多种触发方式，包括：</p><ul><li>push：当推送代码到 GitHub 仓库时触发；</li><li>pull_request：当提交 Pull Request 时触发；</li><li>issues： 项目出现新的 issues 时触发；</li><li>schedule：按照预定时间表触发；</li><li>repository_dispatch：通过 API 触发；</li><li>workflow_dispatch：手动触发。</li></ul><p>其中，workflow_dispatch 是一种特殊的触发方式，可以通过 GitHub 网站或 API 手动触发工作流程。</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h2 id="1-Push-触发"><a href="#1-Push-触发" class="headerlink" title="1. Push 触发"></a>1. Push 触发</h2><p>Push 触发是 Github Actions 的默认触发方式，每当代码库中有新的代码 push 到指定分支时，就会触发 Workflow 的执行。我们可以通过在 Workflow 文件中指定 <code>on.push</code> 来启用 Push 触发，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，当代码库中 <code>main</code> 分支有新的代码 push 时，就会触发 Workflow 的执行。</p><h2 id="2-Pull-Request-触发"><a href="#2-Pull-Request-触发" class="headerlink" title="2. Pull Request 触发"></a>2. Pull Request 触发</h2><p>除了 Push 触发，Github Actions 还支持 Pull Request 触发。当有新的 Pull Request 提交时，可以自动触发 Workflow 的执行，我们可以通过在 Workflow 文件中指定 <code>on.pull_request</code> 来启用 Pull Request 触发，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">pull_request:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，当代码库中 <code>main</code> 分支有新的 Pull Request 提交时，就会触发 Workflow 的执行。</p><h2 id="3-Issues-触发"><a href="#3-Issues-触发" class="headerlink" title="3. Issues 触发"></a>3. Issues 触发</h2><p>Issues 触发方式是当 GitHub 项目出现新的 issues 时触发 Workflow 的执行。我们可以通过在 Workflow 文件中指定 on.issues 来启用 Issues 触发，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">issues:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">opened</span>, <span class="string">reopened</span>]</span><br></pre></td></tr></table></figure><p>在上面的例子中，当 GitHub 项目中有新的 issues 或者重开的 issues 时，就会触发 Workflow 的执行。</p><p>需要注意的是，如果需要使用 Issues 触发方式，需要在 Workflow 文件中指定对应的 issues 类型，比如 opened（新建）、reopened（重新打开）、closed（关闭）等。同时，需要在 GitHub 仓库中开启 Issues 选项，使得 issues 触发方式生效。</p><h2 id="4-定时触发"><a href="#4-定时触发" class="headerlink" title="4. 定时触发"></a>4. 定时触发</h2><p>Github Actions 还支持定时触发，可以按照一定的时间间隔自动触发 Workflow 的执行。我们可以通过在 Workflow 文件中指定 <code>on.schedule</code> 来启用定时触发，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">schedule:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">cron:</span> <span class="string">&#x27;0 0 * * *&#x27;</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，每天凌晨 0 点都会自动触发 Workflow 的执行。</p><h2 id="5-外部触发"><a href="#5-外部触发" class="headerlink" title="5. 外部触发"></a>5. 外部触发</h2><p>Github Actions 还支持外部触发，可以通过调用 Github Actions 的 REST API 来触发 Workflow 的执行。我们可以通过在 Workflow 文件中指定 <code>on.repository_dispatch</code> 来启用外部触发，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">repository_dispatch:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">build</span>]</span><br></pre></td></tr></table></figure><p>在上面的例子中，当通过调用 Github Actions 的 REST API 发送一个 <code>build</code> 类型的事件时，就会触发 Workflow 的执行。</p><p>可以使用以下 <code>curl</code> 命令发送一个自定义事件：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">curl -X POST \</span><br><span class="line">  -H &quot;Accept: application/vnd.github.everest-preview+json&quot; \</span><br><span class="line">  -H &quot;Authorization: token YOUR_TOKEN&quot; \</span><br><span class="line">  https://api.github.com/repos/OWNER/REPO/dispatches \</span><br><span class="line">  -d &#x27;&#123;&quot;event_type&quot;:&quot;KEYWORDS&quot;&#125;&#x27;</span><br></pre></td></tr></table></figure><p>需要要替换的值：</p><ul><li><code>OWNER</code> - 项目的所有者用户名</li><li><code>REPO</code> - 需要触发的 Github Action 所在的仓库名称</li><li><code>YOUR_TOKEN</code> - 带有 repo 权限的 Personal access token</li><li><code>KEYWORDS</code> - 自定义 Webhook 事件名称，可以为任意值，Actions 列表中会显示此名称，更多信息请参见下文。</li></ul><p>还可以给每一个步骤设置运行条件，在运行条件中 <code>github.event.action</code> 等于触发关键词，通过判断给定的值是否与 <code>github.event.action</code> 相同来判断该步骤是否需要执行。比如下面例子中只有当触发关键词为 <code>helloworld</code> 时才会执行这个步骤。</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">steps</span><span class="punctuation">:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">name: Hello World</span></span><br><span class="line">  <span class="attribute">if</span><span class="punctuation">:</span> <span class="string">github.event.action == &#x27;helloworld&#x27;</span></span><br><span class="line">  <span class="attribute">run</span><span class="punctuation">:</span> <span class="string">|</span></span><br><span class="line">    echo Hello World!</span><br></pre></td></tr></table></figure><h2 id="6-手动触发"><a href="#6-手动触发" class="headerlink" title="6. 手动触发"></a>6. 手动触发</h2><p>Github Actions 还支持手动触发方式，可以在 Github 上手动触发 Workflow 的执行。我们可以通过在 Workflow 文件中指定 <code>on.workflow_dispatch</code> 来启用手动触发，例如：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">workflow_dispatch:</span></span><br></pre></td></tr></table></figure><p>在上面的例子中，可以在 Github 上手动触发 Workflow 的执行。需要注意的是，手动触发方式需要在 Github 上手动触发，不能通过代码的 push 或者其他自动化方式触发。</p><p>在 Github 上手动触发 Workflow 的执行，可以按照以下步骤操作：</p><ol><li>打开 Github 项目页面，点击上方的 Actions 标签页。</li><li>在左侧的 Workflows 列表中，选择需要手动触发的 Workflow。</li><li>点击页面右侧的 Run workflow 按钮，输入需要的参数，然后点击 Run workflow 按钮即可手动触发 Workflow 的执行。</li></ol><p>以上就是 Github Actions 支持的所有触发方式，根据项目的需求，可以选择合适的触发方式来自动化流程。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;GitHub Actions 是 GitHub 提供的一项自动化工具，可以帮助开发者自动化构建、测试、部署等工作流程。其中，手动触发方式是一种非常常用的触发方式，可以在需要的时候手动触发工作流程。&lt;/p&gt;
&lt;h2 id=&quot;触发方式&quot;&gt;&lt;a href=&quot;#触发方式&quot; clas</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Github Actions" scheme="https://qzkyl.ml/tags/Github-Actions/"/>
    
  </entry>
  
  <entry>
    <title>如何有效快速更换 Hexo 文章中的 jsdelivr 链接</title>
    <link href="https://qzkyl.ml/posts/3462.html"/>
    <id>https://qzkyl.ml/posts/3462.html</id>
    <published>2022-05-30T01:45:04.000Z</published>
    <updated>2022-05-30T01:45:04.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><blockquote><p>最近很长一段时间没有关注网络动态了，以至于 <code>cdn.jsdelivr.net</code> 瘫痪了都不得而知，部分朋友对此感到十分苦恼</p><p>其实呢这个工具在我接触 <code>Hexo</code> 时我就考虑到了，所以就顺手写下了这款工具和 <code>Shell</code> 命令。今天顺手完善了一下操作流程</p></blockquote><p>方式有两种，大家按需选择(我想应该也是PC端的比较实用吧)</p><p>PC工具支持替换内容，并且可以获取文章内的 <code>date</code> 时间对文件属性时间进行统一修改。对于文章内容无变化的，或者博客是以最后修改时间显示文章的都很有用。</p><h2 id="PC-工具-强烈推荐"><a href="#PC-工具-强烈推荐" class="headerlink" title="PC 工具 (强烈推荐)"></a>PC 工具 (强烈推荐)</h2><p>打开工具，选择文章所在目录，输入需要被替换的内容以及用作被替换的内容，点击开始替换即可。</p><p>是否替换成功，最后会提示成功替换次数(等于你的文章个数)</p><p>下载地址：<a href="https://abbw.lanzoum.com/iaRRi05mtvqj">20220530更新.exe</a></p><h2 id="Shell-命令"><a href="#Shell-命令" class="headerlink" title="Shell 命令"></a>Shell 命令</h2><p>时间仓促，只写了快速替换内容，不具备修改 <code>date</code> 时间功能</p><p>Shell 命令：</p><figure class="highlight dos"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &#x27;s/cdn.jsdelivr.<span class="built_in">net</span>/fastly.jsdelivr.<span class="built_in">net</span>/g&#x27; *<span class="built_in">md</span></span><br></pre></td></tr></table></figure><p>cd 到文章所在目录，执行上述命令快速替换内容 <code>cdn.jsdelivr.net</code> 为 <code>fastly.jsdelivr.net</code>。根据需求自行更改</p><h2 id="温馨提示"><a href="#温馨提示" class="headerlink" title="温馨提示"></a>温馨提示</h2><p>PC 工具无毒无害，易语言写的，如果报毒可以选择删除</p><p>此工具可适用绝大数环境，Hexo 只是一个例子</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;最近很长一段时间没有关注网络动态了，以至于 &lt;code&gt;cdn.jsdelivr.net&lt;/code&gt; 瘫痪了都不</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
    <category term="Shell" scheme="https://qzkyl.ml/tags/Shell/"/>
    
  </entry>
  
  <entry>
    <title>SS/SSR/V2Ray/Clash 简介和客户端软件下载</title>
    <link href="https://qzkyl.ml/posts/14232.html"/>
    <id>https://qzkyl.ml/posts/14232.html</id>
    <published>2021-04-09T07:26:17.000Z</published>
    <updated>2021-04-09T07:26:17.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>收集目前市面上Windows，Linux，Android，iOS已知的代理客户端软件。</p></blockquote><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><ul><li>SS &#x3D; Shadowsocks</li><li>SSR &#x3D; ShadowsocksR</li><li>SS ≠ SOCKS5</li><li>SS ≠ VPN</li><li>V2Ray</li><li>VLESS</li><li>Trojan</li><li>Clash</li></ul><h1 id="客户端"><a href="#客户端" class="headerlink" title="客户端"></a>客户端</h1><h2 id="iOS-客户端"><a href="#iOS-客户端" class="headerlink" title="iOS 客户端"></a>iOS 客户端</h2><h3 id="iOS-客户端-全区可下载"><a href="#iOS-客户端-全区可下载" class="headerlink" title="iOS 客户端 (全区可下载)"></a>iOS 客户端 (全区可下载)</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Outline (支持SS)</span><br><span class="line">Leaf</span><br><span class="line">BananaNet</span><br><span class="line">Spectre VPN</span><br></pre></td></tr></table></figure><h3 id="iOS-客户端-中区无法下载"><a href="#iOS-客户端-中区无法下载" class="headerlink" title="iOS 客户端 (中区无法下载)"></a>iOS 客户端 (中区无法下载)</h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Surge iOS 更新订阅制,首年:$49.99,次年开始:$19.99/年 (支持SS/Snell/Vmess/Trojan)</span><br><span class="line">Quantumult Bundle $9.99 (Bundle包,包括Quantumult X和Quantumult)</span><br><span class="line">Quantumult X $7.99 (支持SS/SSR/Vmess/Trojan)</span><br><span class="line">Quantumult $4.99 (也叫:圈, 支持SS/SSR/Vmess)</span><br><span class="line">Shadowrocket $2.99 (也叫:小火箭, 支持SS/SSR/Vmess/Trojan/Snell/Lua/Vless)</span><br><span class="line">Loon $4.99 (支持SS/SSR/Vmess)</span><br><span class="line">Pharos Pro $1.99 (支持SS/SSR/Vmess/Trojan)</span><br><span class="line">Kitsunebi $4.99 (支持SS/Vmess)</span><br><span class="line">Potatso 2 $2.99</span><br><span class="line">Potatso Lite Free</span><br><span class="line">Pepi $1.99</span><br><span class="line">Leaf Free</span><br><span class="line">V2RayX $0.99</span><br><span class="line">Ranger NetworkTool $1.99</span><br><span class="line">Wingy $0.99</span><br><span class="line">ShadowPocket $1.99</span><br><span class="line">AnyFlow $4.99</span><br><span class="line">Shadowfish $0.99</span><br><span class="line">Alice $1.99</span><br><span class="line">Bedrock $3.99</span><br><span class="line">Mume VPN $0.99</span><br><span class="line">寒梅 · Mume Red Free</span><br><span class="line">A.BIG.T Free</span><br><span class="line">Skarp Free</span><br><span class="line">FastSocks Free</span><br><span class="line">ShadowLink Free</span><br><span class="line">NetShuttle Free</span><br><span class="line">Oriole Free</span><br><span class="line">Brook Free</span><br><span class="line">Fugu2 Free</span><br></pre></td></tr></table></figure><h2 id="macOS-客户端"><a href="#macOS-客户端" class="headerlink" title="macOS 客户端"></a>macOS 客户端</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Surge Mac $49.99/$69.99/$99.99 (支持SS/Snell/Vmess/Trojan)</span><br><span class="line">ClashX Clash的Mac图形客户端 (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">ClashX Pro 支持开启”增强模式的”ClashX</span><br><span class="line">Clash for Windows Clash的Windows/macOS图形客户端,简称:CFW (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Clash 内核 一个Go语言开发的多平台代理客户端 (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Clashy Windows/Mac/Ubuntu适用的Clash客户端</span><br><span class="line">Clash Premium 内核</span><br><span class="line">ShadowClash</span><br><span class="line">Mellow (支持SS/Vmess)</span><br><span class="line">ShadowsocksX</span><br><span class="line">ShadowsocksX-NG (支持SS)</span><br><span class="line">ShadowsocksX-NG-R8 (支持SS/SSR)</span><br><span class="line">ShadowsocksX-NG-R8</span><br><span class="line">ShadowsocksX-NG-R</span><br><span class="line">ShadowsocksX-NG-R</span><br><span class="line">electron-ssr</span><br><span class="line">Outline Free</span><br><span class="line">Reborn</span><br><span class="line">Shuttle</span><br><span class="line">SsrConnectPro ¥3.00</span><br><span class="line">GoAgentX</span><br><span class="line">非官方GoAgentX</span><br><span class="line">Flora</span><br><span class="line">SpechtLite</span><br><span class="line">Buff</span><br></pre></td></tr></table></figure><h2 id="Windows-客户端"><a href="#Windows-客户端" class="headerlink" title="Windows 客户端"></a>Windows 客户端</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Clash for Windows Clash的Windows/macOS图形客户端,简称:CFW (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Clash 内核 一个Go语言开发的多平台代理客户端 (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Clash Premium 内核</span><br><span class="line">Clashy Windows /Mac/Ubuntu适用的Clash客户端</span><br><span class="line">ClashCS A Beta version Clash GUI built by C#</span><br><span class="line">Clash-Web-Bat 文档</span><br><span class="line">ClashCMD 文档</span><br><span class="line">ClashWeb 文档</span><br><span class="line">ShadowClash</span><br><span class="line">Netch (支持SS/SSR/Vmess)</span><br><span class="line">Mellow (支持SS/Vmess)</span><br><span class="line">Shadowsocks (简称:SS)</span><br><span class="line">simple-obfs (SS的插件)</span><br><span class="line">Shadowsocks 2.3.1（XP 系统可用）</span><br><span class="line">ShadowsocksR (简称:SSR)</span><br><span class="line">ShadowsocksR (HMBSbige 修改版)</span><br><span class="line">ShadowsocksR 4.7.0 (@breakwa11 破娃最后一版)</span><br><span class="line">ShadowsocksR (SSR,rixCloud, Inc. 修改版)</span><br><span class="line">ShadowsocksRR (简称:SSRR)</span><br><span class="line">SSRR</span><br><span class="line">YtFlow</span><br><span class="line">electron-ssr</span><br><span class="line">SScap</span><br><span class="line">SSTap</span><br><span class="line">SocksCap</span><br><span class="line">WinXray</span><br><span class="line">Outline</span><br><span class="line">x2tap</span><br><span class="line">Shuttle</span><br><span class="line">flora</span><br><span class="line">kcptun</span><br></pre></td></tr></table></figure><h2 id="Android-客户端"><a href="#Android-客户端" class="headerlink" title="Android 客户端"></a>Android 客户端</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Clash for Android Clash的Android图形客户端 (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Clash for Android Google Play Clash的Android图形客户端 (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Surfboard（Surfboard支持导入Surge配置,支持SS/Vmess）</span><br><span class="line">Surfboard Google Play</span><br><span class="line">Pharos (支持SS/SSR/Vmess/Trojan)</span><br><span class="line">Kitsunebi</span><br><span class="line">Kitsunebi Google Play</span><br><span class="line">SSRRAY A ShadowsocksR and V2Ray Client for Android</span><br><span class="line">Shadowsocks 影梭</span><br><span class="line">Shadowsocks 影梭 Google Play</span><br><span class="line">Shadowsocks 影梭 Google Play Beta 版</span><br><span class="line">Simple Obfuscation (影梭的插件)</span><br><span class="line">Simple Obfuscation Google Play (影梭的插件)</span><br><span class="line">ShadowsocksR (简称:SSR)</span><br><span class="line">ShadowsocksR 3.4.0.6 (@breakwa11 破娃最后一版)</span><br><span class="line">ShadowsocksR (SSR,rixCloud, Inc. 修改版)</span><br><span class="line">ShadowsocksR (SSR,魅影修改版)</span><br><span class="line">ShadowsocksRR (简称:SSRR)</span><br><span class="line">shadowsocksRb</span><br><span class="line">Maying (ShadowsocksRR, Java修改版)</span><br><span class="line">ShadowIce Google Play</span><br><span class="line">Outline</span><br><span class="line">NetPatch</span><br><span class="line">Postern（Postern 支持导入 Surge 配置）</span><br><span class="line">BifrostV</span><br><span class="line">kcptun-android</span><br><span class="line">Kitsunebi</span><br></pre></td></tr></table></figure><h2 id="Linux-客户端"><a href="#Linux-客户端" class="headerlink" title="Linux 客户端"></a>Linux 客户端</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Clash 内核 一个Go语言开发的多平台代理客户端 (支持SS/SSR/Snell/Vmess/Trojan)</span><br><span class="line">Clash Premium 内核</span><br><span class="line">Clashr-Auto-Desktop</span><br><span class="line">Clashy Windows/Mac/Ubuntu适用的Clash客户端</span><br><span class="line">ShadowClash</span><br><span class="line">Mellow (支持SS/Vmess)</span><br><span class="line">electron-ssr</span><br><span class="line">Shadowsocks-qt5</span><br><span class="line">ShadowsocksR</span><br><span class="line">Outline</span><br><span class="line">Avege</span><br><span class="line">flora</span><br><span class="line">Shuttle</span><br><span class="line">kcptun</span><br></pre></td></tr></table></figure><h2 id="路由器"><a href="#路由器" class="headerlink" title="路由器"></a>路由器</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">OpenClash</span><br><span class="line">Clash-Merlin</span><br><span class="line">Koolshare OpenWrt/LED</span><br><span class="line">KoolClash</span><br><span class="line">ShellClash</span><br><span class="line">fancyss</span><br><span class="line">Clash for OpenWrt</span><br><span class="line">ClashR for OpenWrt</span><br><span class="line">Luci For Clash - OpenWrt</span><br><span class="line">OpenWRT-Shadowsocks</span><br><span class="line">Padavan</span><br></pre></td></tr></table></figure><h2 id="TV"><a href="#TV" class="headerlink" title="TV"></a>TV</h2><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Clash for Android</span><br><span class="line">Shadowsocks 影梭 (选择shadowsocks-tv)</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;收集目前市面上Windows，Linux，Android，iOS已知的代理客户端软件。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Shadowsocks" scheme="https://qzkyl.ml/tags/Shadowsocks/"/>
    
    <category term="V2ray" scheme="https://qzkyl.ml/tags/V2ray/"/>
    
    <category term="Trojan" scheme="https://qzkyl.ml/tags/Trojan/"/>
    
  </entry>
  
  <entry>
    <title>安卓快手抖音等自动刷视频辅助</title>
    <link href="https://qzkyl.ml/posts/49159.html"/>
    <id>https://qzkyl.ml/posts/49159.html</id>
    <published>2020-12-27T05:37:16.000Z</published>
    <updated>2020-12-27T05:37:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>针对所有短视频App实现自动滑动下一个视频，主要用于刷金币，模拟人为滑动。</p><p>使用方法很简单，只需要填写短视频App的包名，点击开始搞钱即可。</p><p>下载地址：<a href="https://abbw.lanzous.com/idGEDjlb38h">https://abbw.lanzous.com/idGEDjlb38h</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;针对所有短视频App实现自动滑动下一个视频，主要用于刷金币，模拟人为滑动。&lt;/p&gt;
&lt;p&gt;使用方法很简单，只需要填写短视频App的包名，点击开始搞钱即可。&lt;/p&gt;
&lt;p&gt;下载地址：&lt;a href=&quot;https://abbw.lanzous.com/idGEDjlb38h&quot;&gt;</summary>
      
    
    
    
    <category term="Android" scheme="https://qzkyl.ml/categories/Android/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>《帝国时代3：决定版》6号档简体中文绿色版</title>
    <link href="https://qzkyl.ml/posts/63657.html"/>
    <id>https://qzkyl.ml/posts/63657.html</id>
    <published>2020-11-17T04:09:00.000Z</published>
    <updated>2020-11-17T04:09:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>《帝国时代3：决定版（Age of Empires III: Definitive Edition）》是Tantalus Media, Forgotten Empires制作，Xbox Game Studios发行的一款《帝国时代》系列的全新作品，在前作的基础上更加完善了画面，增加了多种功能，加深了玩家的各方面游戏体验。</p></blockquote><h2 id=""><a href="#" class="headerlink" title=""></a><span class='p logo blue'>游戏背景</span></h2><p>《帝国时代 III：决定版》以最完美的形式、增强的功能和充满现代感的玩法，让这款受到广大玩家喜爱的即时战略系列游戏更臻完善。在令人惊艳的 4K 超高清画质和全面重制的原声音乐中，指挥强大文明跋涉欧美大陆，或投入亚洲战场。</p><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><span class='p logo blue'>游戏内容</span></h2><p>两个全新游戏模式：历史战役和战争艺术挑战任务，包括之前推出的所有扩展包和全部 14 个文明，加上瑞典和印加两个全新的文明。立即上线挑战其他玩家，在更新版的在线多人游戏中进行跨网络游玩，还可尽享观战者模式和模组支持等现代游戏功能。</p><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><span class='p logo blue'>宣传视频</span></h2><p><a href="https://player.youku.com/embed/XNDgyMTIzMzI4OA==">https://player.youku.com/embed/XNDgyMTIzMzI4OA==</a></p><h2 id="-3"><a href="#-3" class="headerlink" title=""></a><span class='p logo blue'>游戏截图</span></h2><div class="gallery stretch" col='4'>              <p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd1.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd1.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd2.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd2.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd3.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd3.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd4.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd4.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd5.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd5.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd6.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd6.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd7.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/dgsd7.jpg"></p>            </div><h2 id="-4"><a href="#-4" class="headerlink" title=""></a><span class='p logo blue'>游戏下载</span></h2><ul><li><p><code>!帝国时代3：决定版.exe</code> 是一个由易语言写的启动器，主要是增加主程序识别度，以便用户知道打开哪个</p></li><li><p><code>[6号档]Sound-zh-CN.bar</code> 是中文语音补丁，可自行改名替换至 <code>/Game/Sound/localised/Sound-zh-CN.bar</code></p></li><li><p>升级补丁以及中文语音补丁，均来源3DM <a href="https://bbs.3dmgame.com/thread-6090411-1-1.html">@wscmdyzk</a>，后期有新补丁可自行更新</p></li></ul><details ><summary> <p>6号档完整版下载地址</p> </summary>              <div class='content'>              <p>下载地址: <a href="https://pan.baidu.com/s/1Fd-2JKsTRDwq9zWT3tw6rw">https://pan.baidu.com/s/1Fd-2JKsTRDwq9zWT3tw6rw</a> 提取码: 2222</p><p>请下载后自行校验MD5，确保校验值一致</p>              </div>            </details><p>如无状况，这是我首发，也是最后一发整合版，后续有更新补丁就自己打吧~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;《帝国时代3：决定版（Age of Empires III: Definitive Edition）》是Tantalus Media, Forgotten Empires制作，Xbox Game Studios发行的一款《帝国时代》系列的全新作品，</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>免服务器搭建小米运动步数修改</title>
    <link href="https://qzkyl.ml/posts/62383.html"/>
    <id>https://qzkyl.ml/posts/62383.html</id>
    <published>2020-11-05T04:02:12.000Z</published>
    <updated>2020-11-05T04:02:12.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>只需要注册小米运动账号，无需小米手环即可实现定时刷步数，支持推送消息到微信和QQ</p></blockquote><h3 id="1-注册小米运动账号"><a href="#1-注册小米运动账号" class="headerlink" title="1. 注册小米运动账号"></a>1. 注册小米运动账号</h3><p>各大应用商店搜索 <code>小米运动</code> app下载</p><p>登录后绑定第三方微信，支付宝，用于同步步数</p><h3 id="2-登录腾讯云函数"><a href="#2-登录腾讯云函数" class="headerlink" title="2. 登录腾讯云函数"></a>2. 登录腾讯云函数</h3><p><a href="https://console.cloud.tencent.com/scf/index">https://console.cloud.tencent.com/scf/index</a></p><h3 id="3-新建一个云函数"><a href="#3-新建一个云函数" class="headerlink" title="3. 新建一个云函数"></a>3. 新建一个云函数</h3><p>点击 函数服务 -&gt; 新建，函数名称随便取，运行环境 <code>python3.6</code>，创建方式 <code>空白模板</code></p><h3 id="4-插入刷步数代码"><a href="#4-插入刷步数代码" class="headerlink" title="4. 插入刷步数代码"></a>4. 插入刷步数代码</h3><p>源代码基于吾爱破解 <a href="https://www.52pojie.cn/thread-1290296-1-2.html">@feifeishishuaib</a> 二次修改，增加了微信和QQ提醒</p><p>编辑 <code>index.py</code>，清空并粘贴以下代码</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests,time,re,json</span><br><span class="line">  </span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>:<span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 获取登录code</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_code</span>(<span class="params">location</span>):</span><br><span class="line">    code_pattern = re.<span class="built_in">compile</span>(<span class="string">&quot;(?&lt;=access=).*?(?=&amp;)&quot;</span>)</span><br><span class="line">    code = code_pattern.findall(location)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment">#print(code)</span></span><br><span class="line">    <span class="keyword">return</span> code</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 登录</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">user,password</span>):</span><br><span class="line">    url1 = <span class="string">&quot;https://api-user.huami.com/registrations/+86&quot;</span> + user + <span class="string">&quot;/tokens&quot;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&quot;Content-Type&quot;</span>:<span class="string">&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;</span>,</span><br><span class="line">    <span class="string">&quot;User-Agent&quot;</span>:<span class="string">&quot;MiFit/4.6.0 (iPhone; iOS 14.0.1; Scale/2.00)&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    data1 = &#123;</span><br><span class="line">        <span class="string">&quot;client_id&quot;</span>:<span class="string">&quot;HuaMi&quot;</span>,</span><br><span class="line">        <span class="string">&quot;password&quot;</span>:<span class="string">f&quot;<span class="subst">&#123;password&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&quot;redirect_uri&quot;</span>:<span class="string">&quot;https://s3-us-west-2.amazonaws.com/hm-registration/successsignin.html&quot;</span>,</span><br><span class="line">        <span class="string">&quot;token&quot;</span>:<span class="string">&quot;access&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    r1 = requests.post(url1,data=data1,headers=headers,allow_redirects=<span class="literal">False</span>)</span><br><span class="line">    <span class="built_in">print</span>(r1.text)</span><br><span class="line">    location = r1.headers[<span class="string">&quot;Location&quot;</span>]</span><br><span class="line">    <span class="comment">#print(location)</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        code = get_code(location)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;access_code获取成功！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(code)</span><br><span class="line">     </span><br><span class="line">    url2 = <span class="string">&quot;https://account.huami.com/v2/client/login&quot;</span></span><br><span class="line">    data2 = &#123;</span><br><span class="line">        <span class="string">&quot;app_name&quot;</span>:<span class="string">&quot;com.xiaomi.hm.health&quot;</span>,</span><br><span class="line">        <span class="string">&quot;app_version&quot;</span>:<span class="string">&quot;4.6.0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;code&quot;</span>:<span class="string">f&quot;<span class="subst">&#123;code&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&quot;country_code&quot;</span>:<span class="string">&quot;CN&quot;</span>,</span><br><span class="line">        <span class="string">&quot;device_id&quot;</span>:<span class="string">&quot;2C8B4939-0CCD-4E94-8CBA-CB8EA6E613A1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;device_model&quot;</span>:<span class="string">&quot;phone&quot;</span>,</span><br><span class="line">        <span class="string">&quot;grant_type&quot;</span>:<span class="string">&quot;access_token&quot;</span>,</span><br><span class="line">        <span class="string">&quot;third_name&quot;</span>:<span class="string">&quot;huami_phone&quot;</span>,</span><br><span class="line">        &#125; </span><br><span class="line">    r2 = requests.post(url2,data=data2,headers=headers).json()</span><br><span class="line">    login_token = r2[<span class="string">&quot;token_info&quot;</span>][<span class="string">&quot;login_token&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;login_token获取成功！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(login_token)</span><br><span class="line">    userid = r2[<span class="string">&quot;token_info&quot;</span>][<span class="string">&quot;user_id&quot;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;userid获取成功！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(userid)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> login_token,userid</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 主函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main_handler</span>(<span class="params">event, context</span>):</span><br><span class="line">    <span class="built_in">print</span>(event[<span class="string">&quot;queryString&quot;</span>])</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        user = <span class="built_in">str</span>(event[<span class="string">&quot;queryString&quot;</span>][<span class="string">&quot;user&quot;</span>])</span><br><span class="line">        password = <span class="built_in">str</span>(event[<span class="string">&quot;queryString&quot;</span>][<span class="string">&quot;password&quot;</span>])</span><br><span class="line">        step = <span class="built_in">str</span>(event[<span class="string">&quot;queryString&quot;</span>][<span class="string">&quot;step&quot;</span>])</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;please input user,password,step&quot;</span></span><br><span class="line">     </span><br><span class="line">    login_token = <span class="number">0</span></span><br><span class="line">    login_token,userid = login(user,password)</span><br><span class="line">    <span class="keyword">if</span> login_token == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;登陆失败！&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;login fail!&quot;</span></span><br><span class="line"> </span><br><span class="line">    t = get_time()</span><br><span class="line">     </span><br><span class="line">    app_token = get_app_token(login_token)</span><br><span class="line"> </span><br><span class="line">    date = time.strftime(<span class="string">&quot;%Y-%m-%d&quot;</span>,time.localtime())</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data_json.txt&#x27;</span>,<span class="string">&#x27;rt&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        data_json = f.read()</span><br><span class="line">    data_json += date + <span class="string">&quot;\&quot;&#125;]&quot;</span></span><br><span class="line">    step_pattern = re.<span class="built_in">compile</span>(<span class="string">&quot;12345&quot;</span>)</span><br><span class="line">    de_id_pattern = re.<span class="built_in">compile</span>(<span class="string">&quot;321123&quot;</span>)</span><br><span class="line">    data_json = de_id_pattern.sub(<span class="string">&quot;DA932FFFFE8816E7&quot;</span>,data_json)</span><br><span class="line">    data_json = step_pattern.sub(<span class="string">f&quot;<span class="subst">&#123;step&#125;</span>&quot;</span>,data_json)</span><br><span class="line">     </span><br><span class="line">    url = <span class="string">f&#x27;https://api-mifit-cn.huami.com/v1/data/band_data.json?&amp;t=<span class="subst">&#123;t&#125;</span>&#x27;</span></span><br><span class="line">    head = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (iPhone; CPU iPhone OS 13_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/7.0.12(0x17000c2d) NetType/WIFI Language/zh_CN&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;apptoken&#x27;</span>: <span class="string">f&#x27;<span class="subst">&#123;app_token&#125;</span>&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">     </span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&#x27;data_json&#x27;</span>: <span class="string">f&#x27;<span class="subst">&#123;data_json&#125;</span>&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;userid&#x27;</span>: <span class="string">f&#x27;<span class="subst">&#123;userid&#125;</span>&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;device_type&#x27;</span>: <span class="string">&#x27;0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;last_sync_data_time&#x27;</span>: <span class="string">&#x27;1589917081&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;last_deviceid&#x27;</span>: <span class="string">&#x27;DA932FFFFE8816E7&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">    response = requests.post(url, data=data, headers=head).json()</span><br><span class="line">    <span class="built_in">print</span>(response)</span><br><span class="line">    result = <span class="string">f&quot;更改小米步数为 <span class="subst">&#123;step&#125;</span>:&quot;</span>+ response[<span class="string">&#x27;message&#x27;</span>]</span><br><span class="line">    <span class="built_in">print</span>(result)</span><br><span class="line">    server_send(result)</span><br><span class="line">    kt_send(result)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">  </span><br><span class="line"><span class="comment"># 获取时间戳</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_time</span>():</span><br><span class="line">    url = <span class="string">&#x27;http://api.m.taobao.com/rest/api3.do?api=mtop.common.getTimestamp&#x27;</span></span><br><span class="line">    response = requests.get(url,headers=headers).json()</span><br><span class="line">    t = response[<span class="string">&#x27;data&#x27;</span>][<span class="string">&#x27;t&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span> t</span><br><span class="line">  </span><br><span class="line"><span class="comment"># 获取app_token</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_app_token</span>(<span class="params">login_token</span>):</span><br><span class="line">    url = <span class="string">f&quot;https://account-cn.huami.com/v1/client/app_tokens?app_name=com.xiaomi.hm.health&amp;dn=api-user.huami.com%2Capi-mifit.huami.com%2Capp-analytics.huami.com&amp;login_token=<span class="subst">&#123;login_token&#125;</span>&amp;os_version=4.1.0&quot;</span></span><br><span class="line">    response = requests.get(url,headers=headers).json()</span><br><span class="line">    app_token = response[<span class="string">&#x27;token_info&#x27;</span>][<span class="string">&#x27;app_token&#x27;</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;app_token获取成功！&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(app_token)</span><br><span class="line">    <span class="keyword">return</span> app_token</span><br><span class="line"> </span><br><span class="line"> <span class="comment"># Server酱推送</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">server_send</span>(<span class="params">msg</span>):</span><br><span class="line">    <span class="keyword">if</span> sckey == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    server_url = <span class="string">&quot;https://sc.ftqq.com/&quot;</span> + <span class="built_in">str</span>(sckey) + <span class="string">&quot;.send&quot;</span></span><br><span class="line">    data = &#123;</span><br><span class="line">            <span class="string">&#x27;text&#x27;</span>: <span class="string">&#x27;小米运动步数修改&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;desp&#x27;</span>: msg</span><br><span class="line">        &#125;</span><br><span class="line">    requests.post(server_url, data=data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 酷推QQ推送</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">kt_send</span>(<span class="params">msg</span>):</span><br><span class="line">    <span class="keyword">if</span> ktkey == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    kt_url = <span class="string">&#x27;https://push.xuthus.cc/send/&#x27;</span>+<span class="built_in">str</span>(ktkey)</span><br><span class="line">    data = (<span class="string">&#x27;步数刷取完成，请查看详细信息~\n&#x27;</span>+<span class="built_in">str</span>(msg)).encode(<span class="string">&quot;utf-8&quot;</span>)</span><br><span class="line">    requests.post(kt_url, data=data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># -- 配置 --</span></span><br><span class="line"><span class="comment"># ------------------------------</span></span><br><span class="line">sckey = <span class="string">&#x27;&#x27;</span>  <span class="comment"># server酱key(可空)</span></span><br><span class="line">ktkey = <span class="string">&#x27;&#x27;</span>  <span class="comment"># 酷推key(可空)</span></span><br><span class="line"><span class="comment"># ------------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># main_handler(0,0)</span></span><br></pre></td></tr></table></figure><p>然后点击 文件 -&gt; 新建文件，新建名为 <code>data_json.txt</code>，回车确定</p><p>粘贴以下代码进去</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;summary&quot;</span><span class="punctuation">:</span><span class="string">&quot;&#123;\&quot;slp\&quot;:&#123;\&quot;ss\&quot;:73,\&quot;lt\&quot;:304,\&quot;dt\&quot;:0,\&quot;st\&quot;:1589920140,\&quot;lb\&quot;:36,\&quot;dp\&quot;:92,\&quot;is\&quot;:208,\&quot;rhr\&quot;:0,\&quot;stage\&quot;:[&#123;\&quot;start\&quot;:269,\&quot;stop\&quot;:357,\&quot;mode\&quot;:2&#125;,&#123;\&quot;start\&quot;:358,\&quot;stop\&quot;:380,\&quot;mode\&quot;:3&#125;,&#123;\&quot;start\&quot;:381,\&quot;stop\&quot;:407,\&quot;mode\&quot;:2&#125;,&#123;\&quot;start\&quot;:408,\&quot;stop\&quot;:423,\&quot;mode\&quot;:3&#125;,&#123;\&quot;start\&quot;:424,\&quot;stop\&quot;:488,\&quot;mode\&quot;:2&#125;,&#123;\&quot;start\&quot;:489,\&quot;stop\&quot;:502,\&quot;mode\&quot;:3&#125;,&#123;\&quot;start\&quot;:503,\&quot;stop\&quot;:512,\&quot;mode\&quot;:2&#125;,&#123;\&quot;start\&quot;:513,\&quot;stop\&quot;:522,\&quot;mode\&quot;:3&#125;,&#123;\&quot;start\&quot;:523,\&quot;stop\&quot;:568,\&quot;mode\&quot;:2&#125;,&#123;\&quot;start\&quot;:569,\&quot;stop\&quot;:581,\&quot;mode\&quot;:3&#125;,&#123;\&quot;start\&quot;:582,\&quot;stop\&quot;:638,\&quot;mode\&quot;:2&#125;,&#123;\&quot;start\&quot;:639,\&quot;stop\&quot;:654,\&quot;mode\&quot;:3&#125;,&#123;\&quot;start\&quot;:655,\&quot;stop\&quot;:665,\&quot;mode\&quot;:2&#125;],\&quot;ed\&quot;:1589943900,\&quot;wk\&quot;:0,\&quot;wc\&quot;:0&#125;,\&quot;tz\&quot;:\&quot;28800\&quot;,\&quot;stp\&quot;:&#123;\&quot;runCal\&quot;:1,\&quot;cal\&quot;:6,\&quot;conAct\&quot;:0,\&quot;stage\&quot;:[],\&quot;ttl\&quot;:12345,\&quot;dis\&quot;:144,\&quot;rn\&quot;:0,\&quot;wk\&quot;:5,\&quot;runDist\&quot;:4,\&quot;ncal\&quot;:0&#125;,\&quot;v\&quot;:5,\&quot;goal\&quot;:8000&#125;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;stop&quot;</span><span class="punctuation">:</span><span class="number">1439</span><span class="punctuation">,</span><span class="attr">&quot;value&quot;</span><span class="punctuation">:</span><span class="string">&quot;WhQAUA0AUAAAUAAAUAAAUAAAUAAAWhQAUAYAcBEAUAYAUA8AUAsAUAYAUDIAUCQAUDkAUCkAUD4AUC0AUFcAUD8AUCkAUCEAUCwAUCsAUB4AUCQAUBsAUCcAUBQAUDcAUBoAUCYAUFcAUCAAUDkAUCEAWhQAWhQAWhQAUBAAUEgAUDsAUAgAWhQAUDwAUCEAUAIAUAsAUDoAUD8AWhQAWhQAWhQAWhQAWhQAWhQAAS0QEAsAWhQAAR8SEBcHYC4AUCoAUBMAUAIAUAYAUAsAUCsAUAUAUBIAUBIAUBsAUBgAUAoAUBsAUBUAUBkAUDIAUC0AUC4AUBAAWhQAUCsAUB8AUAIAUB8AUDUAUEEAUDUAUBkAUCYAUEoAUCYAUBIAUCAAUCkAUDAAUB4AUB0AUDEAUCUAUCgAUAQAWhQAUA8AUDwAUB8AUCUAUBQAUB4AUAUAWhQAUAAAUA8AUBkAUCgAUCwAUCkAUCgAYCIAYCIAYCgAUAoAWhQAUBwAWhQAUBoAUDkAUD4AYAkAYAYAWhQAWhQAUB4AWhQAUAQAUBcAUBAAUAUAWhQAUB0AcBYAehQAcBoAehQAehQAehQAcAMAcAMAehQAcAIAehQAcBIAcA0AehQAehQAcAsAcAYAcAEAcAoAehQAehQAcAwAehQAehQAehQAcAEAehQAehQAcAsAehQAehQAcA8AcBkAcAYAcBkAcC0AcAQAcBsAcAMAWhQAUAMAWhQAUBEAUAIAWhQAWhQAWhQAehQAehQAehQAehQAehQAehQAcAAAcB8AcBMAehQAehQAcDkAcBAAcAEAcAMAcAMAcCwAcA8AcAAAcAAAcCIAcAAAcCcAcB4AehQAcAkAehQAcCMAehQAehQAcAoAehQAehQAehQAcBgAcBgAcAkAehQAcAcAcCgAcBQAcA0AcAwAcCcAcCkAcAAAUAAAUAAAUB4AUBwAUAAAUAAAUCkAUBIAUBMAUCgAUA8AUBEAUD0AUCAAYAMAYCkAUBsAUB4AYCgAahQAUBkAWhQAWhQAUCAAUBcAUA8AUBAAUAcAUB8AUCEAUCMAUCkAYAMAYAAAUBsAUBEAUBgAUAUAUB0AUAAAUAAAUAAAUAAAUAAAUAQAUAAAUAAAUAAAUAAAWwAAUAAAcAAAcAAAcAAAcAAAcAAAcAAAcA0AcAAAcAAAcAAAcAIAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcA8AehQAehQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAEAeRMAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAsAcAAAcAAAcAAAcAAAcAAAcAoAcAAAcBMAcAAAcAAAcAAAcAAAcAAAcAAAcA4AcAcAehQAehQAcAAAcAAAcAIAehQAehQAcAAAcAAAcAAAcAAAcAAAcAIAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcBcAehQAehQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAehQAcAMAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcBUAeQAAcAAAcAAAcAAAcFgAcAAAcAAAcAAAcBkAeQAAcAAAcAAAcAAAcAAAcE0AcAQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAeVAAehQAehQAcAAAcAAAcAAAcAAAcAUAeRwAUAAAUFUAUAAAUAAAUAAAUAAAUAAAUCMAeQAAcAAAcAAAcE0AUAAAUAAAUAAAUAAAUAAAUAAAcAAAcAAAcAAAcE4AcAAAcAAAcAAAcAAAcAgAcBAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAkAcAAAcAAAcAAAcAAAcBwAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAYAcBAAeQAAcB8AeQAAcAAAcAAAcAAAeSoAcAAAcAAAcAAAcAAAcAAAcAsAcAAAeScAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcCAAcAAAUAAAUAAAUAAAUAAAUAAAUBEAehQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcBwAehQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcBYAcAAAcAAAcAAAcAYAcAAAcAAAcCsAcAAAcAAAcAgAcAAAcAAAcBsAeRQAcAAAcAAAcAEAcAAAcAAAcAAAcAAAcAAAcAAAcA8AcAAAcAAAcBoAcAAAcAEAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcBIAcAAAcA0AcBAAcAAAcAAAcAAAcAAAehQAehQAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcAAAcCgAcAAAcBkAcAAAcB0AcAAAcAAAcBgAcAAAUAEAUBsAWhQAUB4AWhQAUCkAWQ8AUCsAUA0AWTUAXBAAWhQAUBMAUAQAUAcAUAoAUA8AUBkAUBcAUCoAUAIAUBQAWhQAWhQAUBIAUBQAUAcAWhQAUBYAWhQAUAgAWhQAWhQAUAkAUE0AUHUAAWMTEEcKYDoAYAgAUAMAWhQAUAUAUAYAUAkAUB4AUAsAUAIAUBMAWhQAAVQdAWAlEDYAYCQAUAQAUBgAUAgAUAUAUBQAUAIAWhQAUAkAUAMAUA4AWhQAehQAcAoAcAIAehQAcB0AcCcAUCsAUAEAUAgAUAoAUAIAUAsAUAIAWhQAWhQAUAgAUA0AWhQAUAYAWhQAUAEAWhQAWhQAUBAAUBQAUBIAUBcAUAoAYBAAYAIAAUkZAUglAVYSYBcAYAoAYCAAYAsAUBUAUB0AUBAAUBEAUCAAUBUAUBYAUA0AUB4AUBcAUBsAUBMAUBUAYAsAYAwAYAsAUB4AUBoAUBoAUBoAUBQAUAcAWhQAUBgAUBkAUBsAUBUAUBAAUCAAUCYAUB8AUB4AUBwAUAcAUBsAUBwAUBwAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAAfgAA&quot;</span><span class="punctuation">,</span><span class="attr">&quot;did&quot;</span><span class="punctuation">:</span><span class="string">&quot;321123&quot;</span><span class="punctuation">,</span><span class="attr">&quot;tz&quot;</span><span class="punctuation">:</span><span class="number">32</span><span class="punctuation">,</span><span class="attr">&quot;src&quot;</span><span class="punctuation">:</span><span class="number">17</span><span class="punctuation">,</span><span class="attr">&quot;start&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="attr">&quot;data_hr&quot;</span><span class="punctuation">:</span><span class="string">&quot;\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+\/v7+&quot;</span><span class="punctuation">,</span><span class="attr">&quot;summary_hr&quot;</span><span class="punctuation">:</span><span class="string">&quot;&#123;\&quot;ct\&quot;:0,\&quot;id\&quot;:[]&#125;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;date&quot;</span><span class="punctuation">:</span><span class="string">&quot;</span></span><br></pre></td></tr></table></figure><p>最后点击完成保存</p><h3 id="5-创建API触发器"><a href="#5-创建API触发器" class="headerlink" title="5. 创建API触发器"></a>5. 创建API触发器</h3><p>点击 触发管理 -&gt; 创建触发器，触发方式 <code>API网关触发</code>，API服务 随意取名</p><p>点击提交后，将会在下方显示一个 <code>访问路径</code>，复制它</p><h3 id="6-调用API刷步数"><a href="#6-调用API刷步数" class="headerlink" title="6. 调用API刷步数"></a>6. 调用API刷步数</h3><p>访问以下地址：https:&#x2F;&#x2F;访问路径?user&#x3D;小米运动帐号&amp;password&#x3D;小米运动密码&amp;step&#x3D;步数</p><p>如无异常则显示以下内容</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">更改小米步数为 <span class="number">26666</span> : <span class="type">successs</span></span><br></pre></td></tr></table></figure><p>另外如填写了 <code>Server酱</code> 或 <code>酷推</code> 的Key值，你的微信和QQ也会收到提示消息</p><h3 id="7-每天定时刷步数"><a href="#7-每天定时刷步数" class="headerlink" title="7. 每天定时刷步数"></a>7. 每天定时刷步数</h3><p>前往 <a href="https://console.cron-job.org/dashboard">https://console.cron-job.org/dashboard</a> 注册定时任务</p><p>设置方法参考这篇文章最底部： <a href="/posts/45563.html" title="定时备份 Artalk 评论数据并发送至邮箱">定时备份 Artalk 评论数据并发送至邮箱</a> </p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;只需要注册小米运动账号，无需小米手环即可实现定时刷步数，支持推送消息到微信和QQ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;1-注册小米运动账号&quot;&gt;&lt;a href=&quot;#1-注册小米运动账号&quot; class=&quot;headerlink&quot; titl</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="步数" scheme="https://qzkyl.ml/tags/%E6%AD%A5%E6%95%B0/"/>
    
    <category term="Python" scheme="https://qzkyl.ml/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Valine 评论数据迁移至 Artalk 教程</title>
    <link href="https://qzkyl.ml/posts/48922.html"/>
    <id>https://qzkyl.ml/posts/48922.html</id>
    <published>2020-10-08T15:28:27.000Z</published>
    <updated>2020-10-08T15:28:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>一个基于 PHP 自写的数据一键转换操作接口，Windows 客户端程序正在开发中。</p><p>Api 接口： <a href="https://artalk.ml/api.php">https://artalk.ml/api.php</a></p><p>以下待编辑，暂不考虑公布，伸手党众多</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;一个基于 PHP 自写的数据一键转换操作接口，Windows 客户端程序正在开发中。&lt;/p&gt;
&lt;p&gt;Api 接口： &lt;a href=&quot;https://artalk.ml/api.php&quot;&gt;https://artalk.ml/api.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;以下待编辑，</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Artalk" scheme="https://qzkyl.ml/tags/Artalk/"/>
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="Valine" scheme="https://qzkyl.ml/tags/Valine/"/>
    
  </entry>
  
  <entry>
    <title>使用 SSH 连接到 GitHub Actions 虚拟服务器环境</title>
    <link href="https://qzkyl.ml/posts/17943.html"/>
    <id>https://qzkyl.ml/posts/17943.html</id>
    <published>2020-09-10T04:30:16.000Z</published>
    <updated>2020-09-10T04:30:16.000Z</updated>
    
    <content type="html"><![CDATA[<p>这几天，我一直在捣鼓这个，发现这个实在太强大了。后面我在想，既然是一个服务器，那就应该能实现远程连接进行交互式操作啊。</p><p>果不其然，百度了一圈，发现已经有人实现了</p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Github Actions 一个拥有 <code>E5 2vCPU/​7G RAM/​90G SSD</code> 配置的 VPS。参考 <a href="https://p3terx.com/archives/github-actions-virtual-environment-simple-evaluation.html">@p3terx</a> 的虚拟服务器评测</p><h2 id="方案一"><a href="#方案一" class="headerlink" title="方案一"></a>方案一</h2><p>项目地址：<a href="https://p3terx.com/go/aHR0cHM6Ly9naXRodWIuY29tL214c2NobWl0dC9hY3Rpb24tdG1hdGU=">mxschmitt&#x2F;action-tmate</a></p><p>第一个实现 <code>tmate</code> 连接 Ac­tions 的 ac­tion ，但此方案在退出连接后不能进行到下一个步骤，所以在实际使用中没有多少价值，只能用于 SSH 连接。不过由于其开天辟地的作用，我决定把它放到第一位</p><p>work­flow 文件示例：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">CI</span></span><br><span class="line"><span class="attr">on:</span> <span class="string">push</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">tmate</span> <span class="string">session</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">mxschmitt/action-tmate@v1</span></span><br></pre></td></tr></table></figure><h2 id="方案二"><a href="#方案二" class="headerlink" title="方案二"></a>方案二</h2><p>项目地址：<a href="https://p3terx.com/go/aHR0cHM6Ly9naXRodWIuY29tL2NzZXh0b24vZGVidWdnZXItYWN0aW9u">csexton&#x2F;debugger-action</a></p><p>此 ac­tion 作者受 <code>mxschmitt/action-tmate</code> 启发，同样是通过 <code>tmate</code> 连接，退出连接后可持续进行下一个步骤，能更好的应用到实际项目中使用。作者可能考虑到为 GitHub 节约资源，默认加了 15 分钟自动断开连接，不过可以通过执行 <code>touch /tmp/keepalive</code> 命令去解除</p><p>work­flow 文件示例：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Ubuntu</span></span><br><span class="line"><span class="attr">on:</span> <span class="string">push</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">Ubuntu:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Debug</span> <span class="string">Session</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">csexton/debugger-action@master</span></span><br></pre></td></tr></table></figure><h2 id="方案三"><a href="#方案三" class="headerlink" title="方案三"></a>方案三</h2><p>项目地址：<a href="https://github.com/P3TERX/debugger-action">P3TERX&#x2F;debugger-action</a></p><p>此方案是由 <code>@P3TERX</code> 根据方案二改进，部分提示文案的显示逻辑，修改连接超时为 30 分钟，解决了失去控制的问题</p><p>work­flow 文件示例：</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">name:</span> <span class="string">Ubuntu</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">watch:</span></span><br><span class="line">    <span class="attr">types:</span> <span class="string">started</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">Ubuntu:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">SSH</span> <span class="string">connection</span> <span class="string">to</span> <span class="string">Actions</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">P3TERX/debugger-action@master</span></span><br></pre></td></tr></table></figure><h2 id="方案四（推荐）"><a href="#方案四（推荐）" class="headerlink" title="方案四（推荐）"></a>方案四（推荐）</h2><p>此方案是博主我根据 <code>网友XXX</code> 改进而来的，该方案没有使用 <code>action</code> 来实现，而是另辟蹊径，直接使用 <code>ngrok</code> 来穿透内网</p><p>请先在 <code>Github</code> 项目中创建所需的 <code>Secret</code> 参数</p><table><thead><tr><th align="center">名字</th><th align="center">值</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">NGROK_TOKEN</td><td align="center">string</td><td align="center">在 <a href="https://dashboard.ngrok.com/auth">ngrok 的官网</a> 生成的 Authtoken</td></tr><tr><td align="center">NGROK_SCRIPT</td><td align="center">string</td><td align="center">自定义代码脚本，参考下方</td></tr><tr><td align="center">USER_PASS</td><td align="center">string</td><td align="center">SSH连接时将使用的密码</td></tr></tbody></table><p>自定义代码脚本如下：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">if [[ -z &quot;$NGROK_TOKEN&quot; ]]; then</span><br><span class="line">  echo &quot;请先设置名为 &#x27;NGROK_TOKEN&#x27; 的Secrets&quot;</span><br><span class="line">  exit 2</span><br><span class="line">fi</span><br><span class="line"> </span><br><span class="line">if [[ -z &quot;$USER_PASS&quot; ]]; then</span><br><span class="line">  echo &quot;请先设置名为 &#x27;USER_PASS&#x27; 的Secrets&quot;</span><br><span class="line">  exit 3</span><br><span class="line">fi</span><br><span class="line"> </span><br><span class="line">echo &quot;### 安装 ngrok ###&quot;</span><br><span class="line"> </span><br><span class="line">wget -q https://bin.equinox.io/c/4VmDzA7iaHb/ngrok-stable-linux-386.zip</span><br><span class="line">unzip -q ngrok-stable-linux-386.zip</span><br><span class="line">chmod +x ./ngrok</span><br><span class="line"></span><br><span class="line">echo &quot;### 设置 $USER 用户密码 ###&quot;</span><br><span class="line">echo -e &quot;$USER_PASS\n$USER_PASS&quot; | sudo passwd &quot;$USER&quot;</span><br><span class="line"> </span><br><span class="line">echo &quot;### 启动 ngrok 端口代理 ###&quot;</span><br><span class="line"></span><br><span class="line">rm -f .ngrok.log</span><br><span class="line">./ngrok authtoken &quot;$NGROK_TOKEN&quot;</span><br><span class="line">./ngrok tcp 22 --log &quot;.ngrok.log&quot; &amp;</span><br><span class="line"> </span><br><span class="line">sleep 10</span><br><span class="line">HAS_ERRORS=$(grep &quot;command failed&quot; &lt; .ngrok.log)</span><br><span class="line"> </span><br><span class="line">if [[ -z &quot;$HAS_ERRORS&quot; ]]; then</span><br><span class="line">  echo &quot;&quot;</span><br><span class="line">  echo &quot;================SSH 账号信息===================&quot;</span><br><span class="line">  echo &quot;To connect: $(grep -o -E &quot;tcp://(.+)&quot; &lt; .ngrok.log | sed &quot;s/tcp:\/\//ssh $USER@/&quot; | sed &quot;s/:/ -p /&quot;)&quot;</span><br><span class="line">  echo &quot;==============================================&quot;</span><br><span class="line">else</span><br><span class="line">  echo &quot;$HAS_ERRORS&quot;</span><br><span class="line">  exit 4</span><br><span class="line">fi</span><br></pre></td></tr></table></figure><p>该自定义代码脚本用来为 <code>SSH 服务建立 TCP 隧道</code>，并打印出通过公网连接远程服务器的命令</p><p>紧接着，创建如下的 workflow：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">开启</span> <span class="string">SSH</span> <span class="string">支持</span></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">watch:</span></span><br><span class="line">    <span class="attr">types:</span> <span class="string">started</span></span><br><span class="line">    </span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">github.event.repository.owner.id</span> <span class="string">==</span> <span class="string">github.event.sender.id</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span></span><br><span class="line"> </span><br><span class="line">    </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">尝试破坏构建过程</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">./hello-world.sh</span></span><br><span class="line">       </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">通过</span> <span class="string">ngrok</span> <span class="string">启动</span> <span class="string">ssh</span></span><br><span class="line">      <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">failure()</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">NGROK_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.NGROK_TOKEN</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">NGROK_SCRIPT:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.NGROK_SCRIPT</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">USER_PASS:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.USER_PASS</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        echo &quot;$NGROK_SCRIPT&quot; &amp;&gt; run.sh</span></span><br><span class="line"><span class="string">        bash run.sh</span></span><br><span class="line"><span class="string"></span> </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">设置</span> <span class="string">ssh</span> <span class="string">存活时间</span></span><br><span class="line">      <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">failure()</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">sleep</span> <span class="string">1h</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>服务器存活时间默认是 1 小时，可自行调整，1 小时候需要重新连接</p><p>项目作者点击 <code>Star</code> 就可以运行了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这几天，我一直在捣鼓这个，发现这个实在太强大了。后面我在想，既然是一个服务器，那就应该能实现远程连接进行交互式操作啊。&lt;/p&gt;
&lt;p&gt;果不其然，百度了一圈，发现已经有人实现了&lt;/p&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; </summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Github Actions" scheme="https://qzkyl.ml/tags/Github-Actions/"/>
    
  </entry>
  
  <entry>
    <title>定时备份 Artalk 评论数据并发送至邮箱</title>
    <link href="https://qzkyl.ml/posts/45563.html"/>
    <id>https://qzkyl.ml/posts/45563.html</id>
    <published>2020-09-07T07:36:13.000Z</published>
    <updated>2020-09-07T07:36:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>由于 <code>Artalk</code> 是自托管的评论系统，服务器难免会遇上宕机，意外销毁等。这时如果没有备份评论数据，我们可能面临自我检讨的过程了</p><h2 id=""><a href="#" class="headerlink" title=""></a><span class='p cyan h2'>介绍</span></h2><p>主要是利用开源项目 <a href="https://github.com/phpmailer/phpmailer">@PHPMailer</a> 发送备份的数据文件至邮箱</p><p>实现以下功能：</p><ul><li>带有漂亮的邮件模板</li><li>发送邮件后自动删除备份文件</li><li>写出备份日志到当前目录</li></ul><p>其实我也是东凑西凑，把需要的功能合并在一起。没办法，我只是个业余的 ~</p><h2 id="-1"><a href="#-1" class="headerlink" title=""></a><span class='p cyan'>下载依赖项目</span></h2><p>前往 <a href="https://github.com/PHPMailer/PHPMailer/releases">Releases</a> 页面下载最新项目</p><p>上传压缩包到你的php空间并解压它，目录随意，你能记住就行了</p><h2 id="-2"><a href="#-2" class="headerlink" title=""></a><span class='p cyan'>创建备份文件</span></h2><p>在你php空间任意目录内新建 <code>Artalk_backup.php</code> 空白文件</p><p>将下面代码粘贴进去，并根据自己实际情况填写</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">PHPMailer</span>\<span class="title">PHPMailer</span>\<span class="title">PHPMailer</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">PHPMailer</span>\<span class="title">PHPMailer</span>\<span class="title">Exception</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// PHPMailer 路径</span></span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;./vendor/phpmailer/phpmailer/src/Exception.php&#x27;</span>;</span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;./vendor/phpmailer/phpmailer/src/PHPMailer.php&#x27;</span>;</span><br><span class="line"><span class="keyword">require</span> <span class="string">&#x27;./vendor/phpmailer/phpmailer/src/SMTP.php&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable">$mail</span> = <span class="keyword">new</span> <span class="title class_">PHPMailer</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="variable">$mail</span>-&gt;CharSet =<span class="string">&quot;UTF-8&quot;</span>; <span class="comment">// 设定邮件编码</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;SMTPDebug = <span class="number">0</span>; <span class="comment">// 调试模式输出</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">isSMTP</span>(); <span class="comment">// 使用SMTP</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;Host = <span class="string">&#x27;smtp.163.com&#x27;</span>; <span class="comment">// SMTP服务器</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;SMTPAuth = <span class="literal">true</span>; <span class="comment">// 允许 SMTP 认证</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;Username = <span class="string">&#x27;xxxx@163.com&#x27;</span>; <span class="comment">// SMTP 用户名</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;Password = <span class="string">&#x27;xxxx&#x27;</span>; <span class="comment">// SMTP 密码</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;SMTPSecure = <span class="string">&#x27;ssl&#x27;</span>; <span class="comment">// 允许 TLS 或者ssl协议</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;Port = <span class="number">465</span>; <span class="comment">// 服务器端口 25 或者465</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">setFrom</span>(<span class="string">&#x27;xxxx@163.com&#x27;</span>, <span class="string">&#x27;Artalk评论备份&#x27;</span>); <span class="comment">// 发件人</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">addAddress</span>(<span class="string">&#x27;1037886804@qq.com&#x27;</span>, <span class="string">&#x27;笨蛋海绵&#x27;</span>); <span class="comment">// 收件人</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 创建压缩文件</span></span><br><span class="line">    <span class="variable">$path</span> = <span class="string">&quot;./data/comments.data.json&quot;</span>; <span class="comment">// 需要打包的文件名</span></span><br><span class="line">    <span class="variable">$path2</span> = <span class="string">&quot;./data/comments.config.json&quot;</span>; <span class="comment">// 需要打包的文件名</span></span><br><span class="line">    <span class="variable">$filename</span> = <span class="string">&#x27;Artalk_data(&#x27;</span> . <span class="title function_ invoke__">time</span>() . <span class="string">&#x27;).zip&#x27;</span>; <span class="comment">// 压缩包文件名</span></span><br><span class="line">    <span class="variable">$zip</span> = <span class="keyword">new</span> <span class="title class_">ZipArchive</span>(); <span class="comment">// new一个ZipArchive类</span></span><br><span class="line">    <span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">open</span>(<span class="variable">$filename</span>,<span class="title class_">ZipArchive</span>::<span class="variable constant_">CREATE</span>);   <span class="comment">// 新建一个压缩包</span></span><br><span class="line">    <span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">addFile</span>(<span class="variable">$path</span>,<span class="title function_ invoke__">basename</span>(<span class="variable">$path</span>));   <span class="comment">// 向压缩包中添加文件</span></span><br><span class="line">    <span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">addFile</span>(<span class="variable">$path2</span>,<span class="title function_ invoke__">basename</span>(<span class="variable">$path2</span>));   <span class="comment">// 向压缩包中添加文件</span></span><br><span class="line">    <span class="variable">$zip</span>-&gt;<span class="title function_ invoke__">close</span>(); <span class="comment">// 关闭压缩包</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 发送附件</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">addAttachment</span>(<span class="variable">$filename</span>, <span class="string">&#x27;Artalk_data.zip&#x27;</span>); <span class="comment">// 发送附件并且重命名</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_ invoke__">date_default_timezone_set</span>(<span class="string">&#x27;Asia/Shanghai&#x27;</span>); <span class="comment">// 设置时区</span></span><br><span class="line">    <span class="variable">$time</span> = <span class="title function_ invoke__">date</span>(<span class="string">&#x27;Y-m-d H:i:s&#x27;</span>); <span class="comment">// 获取时间</span></span><br><span class="line">    <span class="comment">// 主题内容</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">isHTML</span>(<span class="literal">true</span>); <span class="comment">// 是否以HTML文档格式发送</span></span><br><span class="line">    <span class="variable">$mail</span>-&gt;Subject = <span class="string">&#x27;👉 叮咚，您博客评论数据备份成功啦&#x27;</span>;</span><br><span class="line">    <span class="variable">$Html</span> = <span class="string">&#x27;</span></span><br><span class="line"><span class="string">      &lt;div style=&quot;background-color:white;border-top:2px solid #12ADDB;box-shadow:0 1px 3px #AAAAAA;line-height:180%;padding:0 15px 12px;width:500px;margin:50px auto;color:#555555;font-size:12px;&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;h2 style=&quot;border-bottom:1px solid #DDD;font-size:14px;font-weight:normal;padding:13px 0 10px 8px;&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;span style=&quot;color: #12ADDB;font-weight:bold;&quot;&gt;</span></span><br><span class="line"><span class="string">          您的博客Artalk评论数据已备份：</span></span><br><span class="line"><span class="string">          &lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;/h2&gt;</span></span><br><span class="line"><span class="string">        &lt;div style=&quot;padding:0 12px 0 12px; margin-top:18px;&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;div style=&quot;background-color: #f5f5f5;padding: 10px 15px;margin:18px 0;word-wrap:break-word;&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;备份时间：&#x27;</span> . <span class="variable">$time</span> . <span class="string">&#x27;&lt;/p&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;p&gt;&lt;a style=&quot;text-decoration:none; color:#12addb&quot; href=&quot;https://artalk.ml/Artalk备份日志.txt&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;查看最后备份时间&lt;/a&gt;&lt;/p&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;&#x27;</span>;</span><br><span class="line">    <span class="variable">$mail</span>-&gt;Body    = <span class="variable">$Html</span>;</span><br><span class="line">    <span class="variable">$mail</span>-&gt;AltBody = <span class="string">&#x27;备份日期&#x27;</span> . <span class="variable">$time</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$mail</span>-&gt;<span class="title function_ invoke__">send</span>();</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;邮件发送成功啦&#x27;)&lt;/script&gt;&quot;</span>;</span><br><span class="line">    <span class="title function_ invoke__">unlink</span>(<span class="variable">$filename</span>); <span class="comment">// 删除压缩包</span></span><br><span class="line">    <span class="comment">// 写出备份日志</span></span><br><span class="line">    <span class="variable">$myfile</span> = <span class="title function_ invoke__">fopen</span>(<span class="string">&quot;Artalk备份日志.txt&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">&quot;Unable to open file!&quot;</span>);</span><br><span class="line">    <span class="title function_ invoke__">fwrite</span>(<span class="variable">$myfile</span>, <span class="string">&#x27;上一次备份于： &#x27;</span> . <span class="variable">$time</span>);</span><br><span class="line">    <span class="title function_ invoke__">fclose</span>(<span class="variable">$myfile</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (<span class="built_in">Exception</span> <span class="variable">$e</span>) &#123;</span><br><span class="line">    <span class="title function_ invoke__">unlink</span>(<span class="variable">$filename</span>); <span class="comment">// 删除压缩包</span></span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;script&gt;alert(&#x27;邮件发送失败&#x27;)&lt;/script&gt;&quot;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="variable">$mail</span>-&gt;ErrorInfo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>只需要配置 <code>6~8</code> 和 <code>15~22</code> 行就可以了</p><p>主要是 <code>SMTP 用户名</code> <code>SMTP 密码</code> 一定要填写对</p><h2 id="-3"><a href="#-3" class="headerlink" title=""></a><span class='p cyan'>开始备份数据</span></h2><p>访问 <code>https://域名/Artalk_backup.php</code> 就能自动备份 <code>Artalk</code> 的评论数据并发送到你的邮箱了</p><p>此时，你会想 <psw>我会傻到每天自己定时访问进行备份吗？</psw></p><p>跟着我走往下看 ~</p><h2 id="-4"><a href="#-4" class="headerlink" title=""></a><span class='p cyan'>创建定时任务</span></h2><h3 id="1-注册cron-job帐号"><a href="#1-注册cron-job帐号" class="headerlink" title="1.注册cron-job帐号"></a>1.注册cron-job帐号</h3><p>注册地址：<a href="https://cron-job.org/en/signup/">https://cron-job.org/en/signup/</a></p><p>注册时的<code>Time zone</code>时区选择<code>Asia/Shanghai</code></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495535.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495535.png"></p><h3 id="2-添加一个计划任务"><a href="#2-添加一个计划任务" class="headerlink" title="2.添加一个计划任务"></a>2.添加一个计划任务</h3><p>登陆之后依次点击 Members -&gt; Cronjobs -&gt; Create cronjob</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020841008.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020841008.png"></p><ul><li><p>Title, Address<br><code>Title</code> 任务名称, 可以随便填写一个<br><code>Address</code> 任务地址，填写 <code>https://域名/Artalk_backup.php</code></p></li><li><p>Schedule<br>选择 User-defined 进行自定义设置，按住Ctrl可多选<br>没什么要求，你需要什么时候备份一次，就选择哪个<br><code>Days of month:</code> 每月的第几天<br><code>Days of week:</code>  每月的星期几<br><code>Months:</code> 月份<br><code>Hours:</code> 小时<br><code>Minutes:</code> 分钟</p></li><li><p>Notifications<br>邮件通知选项，可以不用修改，也可以根据自己的需要修改</p></li><li><p>Common<br>勾选<code>Save responses</code>, 保存唤醒日志, 在 <code>Members</code> 有日志</p></li></ul><p>最后点击Create cronjob，创建任务就行了</p><h2 id="-5"><a href="#-5" class="headerlink" title=""></a><span class='p cyan'>完成</span></h2><p>尽情享受人生的每一刻 ~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;由于 &lt;code&gt;Artalk&lt;/code&gt; 是自托管的评论系统，服务器难免会遇上宕机，意外销毁等。这时如果没有备份评论数据，我们可能面临自我检讨的过程了&lt;/p&gt;
&lt;h2 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;&lt;</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="PHP" scheme="https://qzkyl.ml/tags/PHP/"/>
    
    <category term="Artalk" scheme="https://qzkyl.ml/tags/Artalk/"/>
    
  </entry>
  
  <entry>
    <title>基于 Butterfly 主题侧栏添加显示 Artalk 最新评论</title>
    <link href="https://qzkyl.ml/posts/23786.html"/>
    <id>https://qzkyl.ml/posts/23786.html</id>
    <published>2020-09-05T10:33:13.000Z</published>
    <updated>2020-09-05T10:33:13.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>最近看到 <code>Butterfly</code> 主题新增了最新评论组件功能。发现自己使用了自托管的 <code>Artalk</code> 导致无法使用，就想把这个功能移植过来，于是就有了这样一个最初的版本</p><p>在原有的功能基础上，增加以下功能：</p><ul><li>评论头像默认识别QQ头像(判断是否为QQ邮箱)</li></ul><h2 id="新增-Artalk-最新评论获取"><a href="#新增-Artalk-最新评论获取" class="headerlink" title="新增 Artalk 最新评论获取"></a>新增 Artalk 最新评论获取</h2><p>打开 <code>/themes/Butterfly/layout/includes/third-party/newest-comments</code> ，新建名为 <code>artalk.pug</code> 的文件</p><p>复制以下代码，粘贴并保存</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">script(src=&quot;https://gcore.jsdelivr.net/npm/blueimp-md5@2.17.0/js/md5.min.js&quot;)</span><br><span class="line">script.</span><br><span class="line">  window.addEventListener(&#x27;load&#x27;, () =&gt; &#123;</span><br><span class="line">    const changeContent = (content) =&gt; &#123;</span><br><span class="line">      if (content === &#x27;&#x27;) return content</span><br><span class="line"></span><br><span class="line">      content = content.replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;) // remove html tag</span><br><span class="line">      content = content.replace(/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|gif|png|webp)/g, &#x27;&#x27;) // remove image link</span><br><span class="line">      content = content.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&amp;@#\/%?=~_|!:,.;]*[-A-Z0-9+&amp;@#\/%=~_|])/gi, &#x27;&#x27;) // remove url</span><br><span class="line"></span><br><span class="line">      if (content.length &gt; 150) &#123;</span><br><span class="line">        content = content.substring(0,150) + &#x27;...&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">      return content</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const getArtalkIssues = () =&gt; &#123;</span><br><span class="line">      let artalkArray = []</span><br><span class="line">      $.getJSON(&#x27;!&#123;theme.newest_comments.artalk.dataUrl&#125;&#x27;, (data) =&gt; &#123;</span><br><span class="line">        data.sort(function(x,y)&#123;return (x.id &lt; y.id) ? 1 : -1&#125;)</span><br><span class="line">        $.each(data, (index, item) =&gt; &#123;</span><br><span class="line">          </span><br><span class="line">          artalkArray.push(&#123;</span><br><span class="line">            &#x27;content&#x27;: changeContent(item.content),</span><br><span class="line">            &#x27;nick&#x27;: item.nick,</span><br><span class="line">            &#x27;mail&#x27;: item.email,</span><br><span class="line">            &#x27;url&#x27;: item.page_key,</span><br><span class="line">            &#x27;date&#x27;: item.date</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">        saveToLocal.set(&#x27;artalk-newest-comments&#x27;, JSON.stringify(artalkArray), 10/(60*24))</span><br><span class="line">        generateHtml(artalkArray)</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const getAllIcon = (mail) =&gt; &#123;</span><br><span class="line">      if(mail.indexOf(&quot;@qq.com&quot;) &gt;= 0)&#123;</span><br><span class="line">        let prefix = mail.replace(/@.*/, &quot;&quot;);</span><br><span class="line">        let pattern=/^\d+$/g;</span><br><span class="line">        let result= prefix.match(pattern);</span><br><span class="line">        if(result !== null)&#123;</span><br><span class="line">          iconUrl = &quot;https://q1.qlogo.cn/g?b=qq&amp;nk=&quot;+ prefix +&quot;&amp;s=100&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">        let defaultIcon = &#x27;!&#123; theme.newest_comments.artalk.default_avatar ? `?d=$&#123;theme.newest_comments.artalk.default_avatar&#125;` : &#x27;&#x27;&#125;&#x27;</span><br><span class="line">        iconUrl = `https://gravatar.loli.net/avatar/$&#123;md5(mail.toLowerCase()) + defaultIcon&#125;`</span><br><span class="line">      &#125;</span><br><span class="line">      return iconUrl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    const generateHtml = array =&gt; &#123;</span><br><span class="line">      let result = &#x27;&#x27;</span><br><span class="line"></span><br><span class="line">      for (let i = 0; i &lt; array.length; i++) &#123;</span><br><span class="line">        result += &#x27;&lt;div class=\&#x27;aside-list-item\&#x27;&gt;&#x27;</span><br><span class="line"></span><br><span class="line">        if (!&#123;theme.newest_comments.avatar&#125;) &#123;</span><br><span class="line">          result += `&lt;a href=&#x27;$&#123;array[i].url&#125;&#x27; class=&quot;thumbnail&quot;&gt;&lt;img src=&#x27;$&#123;getAllIcon(array[i].mail)&#125;&#x27;&gt;&lt;/a&gt;`</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        result += `&lt;div class=&#x27;content&#x27;&gt;</span><br><span class="line">        &lt;a class=&#x27;comment&#x27; href=&#x27;$&#123;array[i].url&#125;&#x27;&gt;$&#123;array[i].content&#125;&lt;/a&gt;</span><br><span class="line">        &lt;div class=&#x27;name&#x27;&gt;&lt;span&gt;$&#123;array[i].nick&#125;&lt;/span&gt;&lt;time&gt; / $&#123;btf.diffDate(array[i].date, true)&#125;&lt;/time&gt;&lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;&lt;/div&gt;`</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      let $dom = document.querySelector(&#x27;.card-newest-comments .aside-list&#x27;)</span><br><span class="line">      $dom.innerHTML= result</span><br><span class="line">      window.pjax &amp;&amp; window.pjax.refresh($dom)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    const newestCommentInit = () =&gt; &#123;</span><br><span class="line">      if (document.querySelector(&#x27;.card-newest-comments .aside-list&#x27;)) &#123;</span><br><span class="line">        const data = saveToLocal.get(&#x27;artalk-newest-comments&#x27;)</span><br><span class="line">        if (data) &#123;</span><br><span class="line">          generateHtml(JSON.parse(data))</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">          getArtalkIssues()</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    newestCommentInit()</span><br><span class="line">    document.addEventListener(&#x27;pjax:complete&#x27;, newestCommentInit)</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h2 id="将-Artalk-插入侧栏"><a href="#将-Artalk-插入侧栏" class="headerlink" title="将 Artalk 插入侧栏"></a>将 Artalk 插入侧栏</h2><p>打开 <code>/themes/butterfly/layout/includes/third-party/newest-comments</code> 路径下的”index.pug”</p><p>将代码添加至末尾，添加后的代码如下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if theme.newest_comments.leancloud.enable</span><br><span class="line">  include ./leancloud.pug</span><br><span class="line">else if theme.newest_comments.github_issues.enable</span><br><span class="line">  include ./github-issues.pug</span><br><span class="line">else if theme.newest_comments.disqus.enable</span><br><span class="line">  include ./disqus-comment.pug</span><br><span class="line">else if theme.newest_comments.artalk.enable</span><br><span class="line">  include ./artalk.pug</span><br></pre></td></tr></table></figure><p>打开主题配置 <code>_config.yml</code> 文件，跳转到 <code>newest_comments</code> 处</p><p>添加 <code>Artalk</code> 开关等参数代码</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">artalk:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">dataUrl:</span> <span class="string">/data/comments.data.json</span></span><br><span class="line">  <span class="attr">default_avatar:</span> <span class="string">mp</span></span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">参数</th><th align="center">解释</th></tr></thead><tbody><tr><td align="center">enable</td><td align="center">是否启用 Artalk 最新评论显示</td></tr><tr><td align="center">dataUrl</td><td align="center">评论数据Url地址</td></tr><tr><td align="center">default_avatar</td><td align="center">非QQ邮箱时，Gravatar的默认头像</td></tr></tbody></table><h2 id="Enjoy"><a href="#Enjoy" class="headerlink" title="Enjoy ~"></a>Enjoy ~</h2><p>其实并不难，主要是排序难倒我了，因为完全没接触过这类代码</p><p>好在百度了一圈，使用 <code>sort()</code> 解决了</p><p>参考本站预览效果 ~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;简介&quot;&gt;&lt;a href=&quot;#简介&quot; class=&quot;headerlink&quot; title=&quot;简介&quot;&gt;&lt;/a&gt;简介&lt;/h2&gt;&lt;p&gt;最近看到 &lt;code&gt;Butterfly&lt;/code&gt; 主题新增了最新评论组件功能。发现自己使用了自托管的 &lt;code&gt;Artalk&lt;/co</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Artalk" scheme="https://qzkyl.ml/tags/Artalk/"/>
    
    <category term="Butterfly" scheme="https://qzkyl.ml/tags/Butterfly/"/>
    
  </entry>
  
  <entry>
    <title>利用 Github Actions 自动部署 Hexo 博客</title>
    <link href="https://qzkyl.ml/posts/17113.html"/>
    <id>https://qzkyl.ml/posts/17113.html</id>
    <published>2020-08-29T14:12:05.000Z</published>
    <updated>2020-08-29T14:12:05.000Z</updated>
    
    <content type="html"><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><hr><p>Github Actions 可以很方便实现 CI&#x2F;CD 工作流，类似 Travis 的用法，来帮我们完成一些工作，比如实现自动化测试、打包、部署等操作。当我们运行 Jobs 时，它会创建一个容器 (runner)，容器支持：Ubuntu、Windows 和 MacOS 等系统，在容器中我们可以安装软件，利用安装的软件帮我们处理一些数据，然后把处理好的数据推送到某个地方。</p><p>本文将介绍利用 Github Actions 实现自动部署 hexo 到 Github Pages，在之前我们需要写完文章执行 <code>hexo generate --deploy</code> 来部署，当你文章比较多的时候，可能还需要等待很久，而且还可能会遇到本地安装的 Node.js 版本与 Hexo 不兼容的问题。利用 Github Actions 你将会没有这些烦恼</p><h2 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h2><hr><h3 id="创建所需仓库"><a href="#创建所需仓库" class="headerlink" title="创建所需仓库"></a>创建所需仓库</h3><ol><li>创建 <code>blog-source</code> 仓库用来存放 Hexo 项目</li><li>创建 <code>your.github.io</code> 仓库用来存放静态博客页面</li></ol><h3 id="生成部署密钥"><a href="#生成部署密钥" class="headerlink" title="生成部署密钥"></a>生成部署密钥</h3><p>使用终端输入以下内容，一路按回车直到生成成功</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -f github-deploy-key</span><br></pre></td></tr></table></figure><p>当前目录下会有 <code>github-deploy-key</code> 和 <code>github-deploy-key.pub</code> 两个文件</p><h3 id="配置部署密钥"><a href="#配置部署密钥" class="headerlink" title="配置部署密钥"></a>配置部署密钥</h3><p>复制 <code>github-deploy-key</code> 文件内容，在 <code>blog-source</code> 仓库 <code>Settings -&gt; Secrets -&gt; Add a new secret</code> 页面上添加</p><ol><li>在 <code>Name</code> 输入框填写 <code>HEXO_DEPLOY_RSA</code></li><li>在 <code>Value</code> 输入框填写 <code>github-deploy-key</code> 文件内容</li></ol><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200829220311.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200829220311.PNG"></p><p>复制 <code>github-deploy-key.pub</code> 文件内容，在 <code>your.github.io</code> 仓库 <code>Settings -&gt; Deploy keys -&gt; Add deploy key</code> 页面上添加</p><ol><li>在 <code>Title</code> 输入框填写 <code>HEXO_DEPLOY_PUB</code></li><li>在 <code>Key</code> 输入框填写 <code>github-deploy-key.pub</code> 文件内容</li><li>勾选 <code>Allow write access</code> 选项</li></ol><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200829220611.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200829220611.PNG"></p><h2 id="编写-Github-Actions"><a href="#编写-Github-Actions" class="headerlink" title="编写 Github Actions"></a>编写 Github Actions</h2><h3 id="Workflow-模版"><a href="#Workflow-模版" class="headerlink" title="Workflow 模版"></a>Workflow 模版</h3><p>在 <code>blog-source</code> 仓库根目录下依次创建 <code>.github/workflows/deploy.yml</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">blog-source (repository)</span><br><span class="line">└── .github</span><br><span class="line">    └── workflows</span><br><span class="line">        └── deploy.yml</span><br></pre></td></tr></table></figure><p>在 <code>deploy.yml</code> 文件中粘贴以下内容</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Blog</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span> [<span class="string">push</span>] <span class="comment"># 当有新push时运行</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span> <span class="comment"># 一项叫做build的任务</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span> <span class="comment"># 在最新版的Ubuntu系统下运行</span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="comment"># 将仓库内master分支的内容下载到工作目录</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/checkout@v1</span> <span class="comment"># 脚本来自 https://github.com/actions/checkout</span></span><br><span class="line">      </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Use</span> <span class="string">Node.js</span> <span class="number">13.14</span> <span class="comment"># 配置Node环境</span></span><br><span class="line">      <span class="attr">uses:</span> <span class="string">actions/setup-node@v1</span> <span class="comment"># 配置脚本来自 https://github.com/actions/setup-node</span></span><br><span class="line">      <span class="attr">with:</span></span><br><span class="line">        <span class="attr">node-version:</span> <span class="string">&quot;13.14&quot;</span></span><br><span class="line">    </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Hexo</span></span><br><span class="line">      <span class="attr">env:</span></span><br><span class="line">        <span class="attr">HEXO_DEPLOY_RSA:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.HEXO_DEPLOY_RSA</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        # 部署私钥文件</span></span><br><span class="line"><span class="string">        mkdir -p ~/.ssh/</span></span><br><span class="line"><span class="string">        echo &quot;$HEXO_DEPLOY_RSA&quot; &gt; ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        chmod 600 ~/.ssh/id_rsa</span></span><br><span class="line"><span class="string">        ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts</span></span><br><span class="line"><span class="string">        # 设置git信息</span></span><br><span class="line"><span class="string">        git config --global user.name &#x27;笨蛋海绵&#x27;</span></span><br><span class="line"><span class="string">        git config --global user.email &#x27;1037886804@qq.com&#x27;</span></span><br><span class="line"><span class="string">        # 安装依赖项目</span></span><br><span class="line"><span class="string">        npm i -g hexo-cli</span></span><br><span class="line"><span class="string">        npm i</span></span><br><span class="line"><span class="string"></span>  </span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span></span><br><span class="line">      <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">        # publish</span></span><br><span class="line"><span class="string">        hexo generate &amp;&amp; hexo deploy # 执行部署程序</span></span><br></pre></td></tr></table></figure><h3 id="执行任务"><a href="#执行任务" class="headerlink" title="执行任务"></a>执行任务</h3><p>写一篇文章，<code>push</code> 到 <code>blog-source</code> 仓库的 <code>master</code> 分支，在此仓库 Actions 页面查看当前 task 任务进度</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200829222111.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200829222111.PNG"></p><p>当任务完成后查看您的博客 <code>https://your.github.io</code>，如果不出意外的话已经可以看到新添加的文章了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;介绍&quot;&gt;&lt;a href=&quot;#介绍&quot; class=&quot;headerlink&quot; title=&quot;介绍&quot;&gt;&lt;/a&gt;介绍&lt;/h2&gt;&lt;hr&gt;
&lt;p&gt;Github Actions 可以很方便实现 CI&amp;#x2F;CD 工作流，类似 Travis 的用法，来帮我们完成一些工作，比如</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="travis-ci" scheme="https://qzkyl.ml/tags/travis-ci/"/>
    
    <category term="Github Actions" scheme="https://qzkyl.ml/tags/Github-Actions/"/>
    
  </entry>
  
  <entry>
    <title>简单的利用Heroku平台免费搭建Artalk评论系统后端</title>
    <link href="https://qzkyl.ml/posts/3978.html"/>
    <id>https://qzkyl.ml/posts/3978.html</id>
    <published>2020-08-28T09:21:16.000Z</published>
    <updated>2020-08-28T09:21:16.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/qwqcode/Artalk">@qwqcode&#x2F;Artalk</a> 是一款有趣的自托管评论系统，是一个少数开源的前后端评论系统</p></blockquote><p>由于需要服务器来搭建后端导致劝退了大部分玩家，今天，我就教你们不花钱如何搭建Artalk后端方法</p><h2 id="注册-x2F-登录-Heroku"><a href="#注册-x2F-登录-Heroku" class="headerlink" title="注册&#x2F;登录 Heroku"></a>注册&#x2F;登录 Heroku</h2><p>成功登录后打开：<a href="https://dashboard.heroku.com/">https://dashboard.heroku.com/</a></p><p>然后Fork一份Artalk项目的后端代码：<a href="https://github.com/qwqcode/Artalk-API-PHP">https://github.com/qwqcode/Artalk-API-PHP</a></p><p>Fork记得打开 <code>Config.example.php</code> 文件，按照注释来配置, 并将文件名更名为 <code>Config.php</code></p><h2 id="创建新项目"><a href="#创建新项目" class="headerlink" title="创建新项目"></a>创建新项目</h2><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828174121.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828174121.PNG"></p><p>右上方依次点击 New &gt;&#x3D; Create new app</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828174521.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828174521.PNG"></p><p>App name：用于二级域名，自己记得住就行<br>region：默认</p><p>填写后，点击 <code>Create app</code> 按钮，开始创建项目</p><h2 id="部署后端"><a href="#部署后端" class="headerlink" title="部署后端"></a>部署后端</h2><p>创建项目后，在 <code>Deploy</code> 栏下， <code>Deployment method</code> 部署模式下选择 Github 方式</p><p>授权登录Github，搜索之前Fork的仓库名，点击 <code>Connect</code></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828175321.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828175321.PNG"></p><p>等待数秒后，页面下方找到 <code>Manual deploy</code> ，点击 <code>Deploy Branch</code> 手动部署项目</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828175521.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200828175521.PNG"></p><p>成功后就可以点击 View ，新打开的网址后面加上 <code>/public/</code> 如显示以下内容则表示后端搭建成功了</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Artalk Server Php v0.0.2</span><br><span class="line"></span><br><span class="line"> &gt; https://github.com/qwqcode/ArtalkServerPhp</span><br><span class="line"> &gt; https://artalk.js.org</span><br><span class="line"> &gt; https://github.com/qwqcode/Artalk</span><br><span class="line"> &gt; https://qwqaq.com</span><br></pre></td></tr></table></figure><p>至此，Artalk评论系统的后端已经搭建完成, 只需要前端页面 Artalk 配置 <code>serverUrl</code> 为文件 <code>/public/index.php</code> 外部可访问的 URL，例如：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Artalk</span>(&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">serverUrl</span>: <span class="string">&#x27;https://example.com/public/index.php&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/qwqcode/Artalk&quot;&gt;@qwqcode&amp;#x2F;Artalk&lt;/a&gt; 是一款有趣的自托管评论系统，是一个少数开源的前后端评论系统&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;由于需要</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Artalk" scheme="https://qzkyl.ml/tags/Artalk/"/>
    
    <category term="Heroku" scheme="https://qzkyl.ml/tags/Heroku/"/>
    
  </entry>
  
  <entry>
    <title>利用Cloudflare Workers 制作Google镜像站</title>
    <link href="https://qzkyl.ml/posts/64413.html"/>
    <id>https://qzkyl.ml/posts/64413.html</id>
    <published>2020-08-04T02:45:12.000Z</published>
    <updated>2020-08-04T02:45:12.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>本文主要介绍一下利用CloudFlare Worker 来搭建Google, facebook, youtube等镜像站<br>CloudFlare Worker 是 CloudFlare 的边缘计算服务。开发者可通过 JavaScript 对 CDN 进行编程，从而能灵活处理 HTTP 请求。这使得很多任务可在 CDN 上完成，无需自己的服务器参与</p></blockquote><span class='p h2 green'>项目介绍</span><p>JSProxy 一个基于浏览器端 JS 实现的在线代理，这里不多介绍！</p><p>项目地址：<a href="https://github.com/EtherDream/jsproxy">https://github.com/EtherDream/jsproxy</a></p><span class='p h2 green'>新建 Workers</span><p>打开 <a href="https://workers.cloudflare.com/">https://workers.cloudflare.com</a> ，登陆上你的 Cloudflare 账号激活 Workers 服务</p><p>点击 <code>创建 Worker</code></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084103016.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084103016.png"></p><span class='p h2 green'>部署代码脚本</span><p>复制 <a href="https://raw.githubusercontent.com/EtherDream/jsproxy/master/cf-worker/index.js">https://raw.githubusercontent.com/EtherDream/jsproxy/master/cf-worker/index.js</a> 的内容到左侧代码（脚本）区域</p><p>左上角修改项目名，项目名会成为你后面访问的域名，然后点击保存并部署</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084103422.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084103422.png"></p><p>确认部署后，访问你的站点https:&#x2F;&#x2F;项目名.子域名.workers.dev查看效果</p><span class='p h2 green'>绑定域名</span><p>回到域名管理，选择你的域名点击Workers，点击添加路由</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084104019.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084104019.png"></p><p>路由填写你需要解析的域名，Workers选择刚刚新建的Workers项目名<br>我这里以 qzkyl.tk 举例，注意在域名后面填写<code>/*</code></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208410410.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208410410.png"></p><p>保存就行了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;本文主要介绍一下利用CloudFlare Worker 来搭建Google, facebook, youtube等镜像站&lt;br&gt;CloudFlare Worker 是 CloudFlare 的边缘计算服务。开发者可通过 JavaScript 对 C</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Cloudflare" scheme="https://qzkyl.ml/tags/Cloudflare/"/>
    
  </entry>
  
  <entry>
    <title>如何使用 Vercel(ZEIT) 托管静态hexo博客</title>
    <link href="https://qzkyl.ml/posts/19115.html"/>
    <id>https://qzkyl.ml/posts/19115.html</id>
    <published>2020-08-02T07:23:12.000Z</published>
    <updated>2020-08-02T07:23:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>Vercel (原名ZEIT) 是一家云部署服务的公司，支持静态托管以及 Serverless 服务，是一个比 Netlify 和 Github Pages 以及 Heroku 等都快的托管平台</p><div class="post-note note-info"><p>Vercel有两种部署方式，一个是自动构建，一个是导入Github静态项目<br>我们首选导入Github静态项目，因为这是最简单，也是最方便的操作</p></div><span class='p h2 red'>注册登录Vercel</span><p>使用Github账号登陆 <a href="https://vercel.com/">https://vercel.com/</a> , 授权读取仓库项目</p><span class='p h2 red'>导入静态项目</span><p>登录后，点击<code>Overview</code>选择<code>Import Project</code>，或者 <a href="https://vercel.com/import">点这里</a></p><p>这里有两个选项：From Git Repository (从Git仓库导入) 和 From Template (从模板新建)，这里我们选择第一个，第二个是自动构建用的</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208215654.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208215654.png"></p><p>我们可以从 Github&#x2F;Gitlab&#x2F;Bitbukkit 导入我们的静态项目文件，只需要输入项目地址，不要带<code>.git</code>，例如我的：<a href="https://github.com/abbw/abbw.github.io">https://github.com/abbw/abbw.github.io</a></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208215814.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208215814.png"></p><p>如果你没有域名，项目名字最好简短好记点，后面将会以你的项目名生成二级域名</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202082151337.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202082151337.png"></p><p>等待进度完成，成功后就会显示成这样</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202082151426.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202082151426.png"></p><span class='p h2 red'>绑定自定义域名</span><p>在项目主页点击 Settings -&gt; Domains，输入域名，按提示解析即可</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202082151924.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202082151924.png"></p><span class='p h2 red'>完成 ~</span><p>后面只要Github仓库有更新，就会自动同步推送到 Vercel</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Vercel (原名ZEIT) 是一家云部署服务的公司，支持静态托管以及 Serverless 服务，是一个比 Netlify 和 Github Pages 以及 Heroku 等都快的托管平台&lt;/p&gt;
&lt;div class=&quot;post-note note-info&quot;&gt;&lt;p</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="Vercel" scheme="https://qzkyl.ml/tags/Vercel/"/>
    
  </entry>
  
  <entry>
    <title>基于Coding CI (持续集成) 实现 Hexo 在 Coding 上的自动化部署</title>
    <link href="https://qzkyl.ml/posts/65006.html"/>
    <id>https://qzkyl.ml/posts/65006.html</id>
    <published>2020-08-01T15:23:12.000Z</published>
    <updated>2020-08-01T15:23:12.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>自动部署只需要把你的源代码提交，云端将会自动帮你执行编译过程，从而省去了自己编译的过程，而Coing 自带的 CI 工具其实就是 Jenkins</p></blockquote><span class='p h1 cyan'>创建访问认证</span><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081194335.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081194335.png"></p><p>如图，创建令牌，然后描述随便写，全写给 <code>project:depot</code> 即可，不然没办法拉去仓库</p><p>创建完成后会出现访问项目的账号和密码，复制下来，因为只会出现一次</p><span class='p h1 cyan'>创建新的构建计划</span><p>左侧栏选择 持续集成-构建计划，点新建</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081193144.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081193144.png"></p><p>按照下图填写并保存，代码仓库选择你的博客项目</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081193733.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081193733.png"></p><span class='p h1 cyan'>Jenkinsfile文件的编写</span><p>保存构建计划后，点击 <code>流程配置</code> ，我们选择文本编辑器方式</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208119409.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208119409.png"></p><p>复制以下代码，粘贴进去并保存</p><figure class="highlight nestedtext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">language</span><span class="punctuation">:</span> <span class="string">node_js</span></span><br><span class="line"><span class="attribute">node_js</span><span class="punctuation">:</span> <span class="string">stable</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">install</span><span class="punctuation">:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">npm install</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">script</span><span class="punctuation">:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">hexo g</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">after_script</span><span class="punctuation">:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">cd ./public</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git init </span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git config user.name &quot;abbw&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git config user.email &quot;1037886804@qq.com&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git add .</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git commit -m &quot;Update&quot;</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">git push --force --quiet &quot;推送密钥&quot; master:master</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">branches</span><span class="punctuation">:</span></span><br><span class="line">  <span class="attribute">only</span><span class="punctuation">:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">master</span></span><br></pre></td></tr></table></figure><p>关于推送密钥填写方法，我举个例子：</p><p>假如令牌用户名是：root 密码是：123456</p><p>博客项目地址是：<a href="https://e.coding.net/abbw/blog.git">https://e.coding.net/abbw/blog.git</a></p><p>那么推送密钥就是 <a href="https://root:123456@e.coding.net/abbw/blog.git">https://root:123456@e.coding.net/abbw/blog.git</a></p><span class='p h1 cyan'>完成 ~</span><p>现在，你只要在博客项目仓库里编辑或新建文章，如果不出意外，我们就可以在构建计划中看到新任务运行中了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;自动部署只需要把你的源代码提交，云端将会自动帮你执行编译过程，从而省去了自己编译的过程，而Coing 自带的 CI 工具其实就是 Jenkins&lt;/p&gt;
&lt;/blockquote&gt;
&lt;span class=&#39;p h1 cyan&#39;&gt;创建访问认证&lt;/s</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="travis-ci" scheme="https://qzkyl.ml/tags/travis-ci/"/>
    
  </entry>
  
  <entry>
    <title>手把手教你使用Travis CI自动部署你的Hexo博客到Github上</title>
    <link href="https://qzkyl.ml/posts/32720.html"/>
    <id>https://qzkyl.ml/posts/32720.html</id>
    <published>2020-08-01T09:23:12.000Z</published>
    <updated>2020-08-01T09:23:12.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id=""><a href="#" class="headerlink" title=""></a><span class='p logo cyan'>什么是Travis CI</span></h1><blockquote><p>Travis CI 是目前新兴的开源持续集成构建项目，它与jenkins，GO的很明显的特别在于采用yaml格式，同时他是在在线的服务，不像jenkins需要你本地搭建服务器。目前大多数的github项目都已经移入到Travis CI的构建队列中，据说Travis CI每天运行超过4000次完整构建。对于做开源项目或者github的使用者，如果你的项目还没有加入Travis CI构建队列，那么我真的想对你说out了</p></blockquote><p>Travis CI目前有两个站点：</p><div class="post-note note-primary"><p>分别是 <a href="https://travis-ci.org/">https://travis-ci.org</a> 和 <a href="https://travis-ci.com/">https://travis-ci.com</a><br><a href="https://travis-ci.org/">https://travis-ci.org</a> 是旧平台，已经逐渐往新平台 <a href="https://travis-ci.com/">https://travis-ci.com</a> 上迁移了。对于私有仓库的免费自动构建，Travis CI在新平台上给予了支持</p></div><h1 id="-1"><a href="#-1" class="headerlink" title=""></a><span class='p logo cyan'>为什么要用Travis CI</span></h1><p>有人可能会有疑问: 在本地写完博客，直接一个命令hexo d，不就搞定了么， 为啥要费力搞CI？</p><p>假如你想新增一篇文章或者修改文章内容，但你手头又没有完整的<code>hexo+nodejs+git</code>的开发环境设备，重新下载<code>hexo+nodejs+git</code>再配置会花费不少时间，特别不划算<br>如果按照这篇完整折腾完，你可以直接用浏览器访问github个人项目仓库，直接新增或编辑文章的原md文件。 稍等片刻，你的博客就自动更新了</p><h1 id="-2"><a href="#-2" class="headerlink" title=""></a><span class='p logo cyan'>Travis CI 做了什么</span></h1><p>首先我的博客是使用Hexo来搭建的，托管到Github提供的Gitpages服务上的</p><p>每次写完博客git push到github，然后Travis自动构建，构建完成后自动推送到Gitpages服务上</p><h1 id="-3"><a href="#-3" class="headerlink" title=""></a><span class='p logo cyan'>Travis CI 使用流程</span></h1><p>在github上生成Access Token</p><p>打开 <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a> 页面，点击Personal access tokens，点击右上角的Generate new token按钮生成一个Token，点击后他会让你输入密码，然后来到如下界面，给他去一个名字，下面是勾选一些权限</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081202942.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081202942.png"></p><p>生成完后，你需要拷贝下来，只有这时候他才显示，下次进来为了安全他就不会显示了，如果忘了只能重新生成一个了，拷贝完以后我们需要到Travis CI网站配置下</p><p>使用Github账号登录 <a href="https://travis-ci.org/">Travis CI</a> 官网</p><p>点击 头像-Settings-Repositories 选择你的博客项目仓库</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081201220.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081201220.png"></p><p>开启后，点击项目胖的Settings，找到<code>Environment Variables</code>, 填写刚获取的token</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081201615.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202081201615.png"></p><p>Name处填GH_TOKEN，VALUE处填你的token密钥。至于为什么我们要在这里配置，我想大家肯定应该明白了，写在程序里不安全，配置到这里相当于一个环境变量，我们在构建的时候就可以引用他</p><p>到这里我已经配置了要构建的仓库和要访问的Token，但是问题来了，他知道怎么构建，怎么生成静态文件吗，怎么push的gitpages，又push到哪个仓库吗，所以这里我们还需要在博客项目的仓库里创建一个<code>.travis.yml</code>配置文件，放到博客项目的根目录，代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">language</span>: node_js</span><br><span class="line"><span class="attr">node_js</span>: stable</span><br><span class="line"></span><br><span class="line"># <span class="attr">S</span>: <span class="title class_">Build</span> <span class="title class_">Lifecycle</span></span><br><span class="line"><span class="attr">install</span>:</span><br><span class="line">  - npm install</span><br><span class="line"></span><br><span class="line">#<span class="attr">before_script</span>:</span><br><span class="line"> # - npm install -g gulp</span><br><span class="line"></span><br><span class="line"><span class="attr">script</span>:</span><br><span class="line">  - hexo g</span><br><span class="line"></span><br><span class="line"><span class="attr">after_script</span>:</span><br><span class="line">  - cd ./public</span><br><span class="line">  - git init</span><br><span class="line">  - git config user.<span class="property">name</span> <span class="string">&quot;abbw&quot;</span></span><br><span class="line">  - git config user.<span class="property">email</span> <span class="string">&quot;abbw@foxmail.com&quot;</span></span><br><span class="line">  - git add .</span><br><span class="line">  - git commit -m <span class="string">&quot;Update&quot;</span></span><br><span class="line">  - git push --force --quiet <span class="string">&quot;https://$&#123;GH_TOKEN&#125;@$&#123;GH_REF&#125;&quot;</span> <span class="attr">master</span>:master</span><br><span class="line"># <span class="attr">E</span>: <span class="title class_">Build</span> <span class="title class_">LifeCycle</span></span><br><span class="line"></span><br><span class="line"><span class="attr">branches</span>:</span><br><span class="line">  <span class="attr">only</span>:</span><br><span class="line">    - master</span><br><span class="line"><span class="attr">env</span>:</span><br><span class="line"> <span class="attr">global</span>:</span><br><span class="line">   - <span class="attr">GH_REF</span>: github.<span class="property">com</span>/abbw/blog.<span class="property">git</span></span><br></pre></td></tr></table></figure><p>请自行修改代码中的值，GH_REF的值更改为你的博客项目仓库地址</p><h1 id="-4"><a href="#-4" class="headerlink" title=""></a><span class='p logo cyan'>完成 ~</span></h1><p>现在，你只要在博客项目仓库里编辑或新建文章，如果不出意外，我们可以就可以在Travis CI网站看到他已经在构建了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; title=&quot;&quot;&gt;&lt;/a&gt;&lt;span class=&#39;p logo cyan&#39;&gt;什么是Travis CI&lt;/span&gt;&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;Travis CI 是目前新兴的开源持续</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="travis-ci" scheme="https://qzkyl.ml/tags/travis-ci/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客实现多种评论系统随用户需求更换</title>
    <link href="https://qzkyl.ml/posts/1416.html"/>
    <id>https://qzkyl.ml/posts/1416.html</id>
    <published>2020-07-29T12:30:03.000Z</published>
    <updated>2020-07-29T12:30:03.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>第三方主题几乎很少见到有集成多评论系统任用户切换的，可能是觉得鸡肋吧，但对于做大的网站就很需要了，可以满足不同人群的，随意切换的评论系统</p></blockquote><p>先来个gif动图，让你们直观体验体验</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200729_203335.gif" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200729_203335.gif"></p><p>比如你现在用Valine评论系统，先复制一份重命名为 valine2.ejs ，打开原文件替换所有内容为以下代码即可</p><p>其中的 <code>&lt;%- partial(&#39;../plugins/xxxx&#39;) %&gt;</code> 为你的其它评论系统路径，或者你将主要代码替换也行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.comments-mode</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>:none</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.comments-type</span><span class="selector-class">.active</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">background-color</span>:<span class="number">#ff0</span></span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.show</span> &#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">display</span>:block</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">style</span>=<span class="string">&quot;float:right;border: 1px solid #ccc!important;border-radius: 20px!important;&quot;</span>&gt;</span></span><br><span class="line">  点击切换到：<span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;comments-type active&quot;</span>&gt;</span>Valine<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;comments-type&quot;</span>&gt;</span>Gitee<span class="tag">&lt;/<span class="name">a</span>&gt;</span> | <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;comments-type&quot;</span>&gt;</span>Gitalk<span class="tag">&lt;/<span class="name">a</span>&gt;</span> 评论系统</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comments-mode show&quot;</span>&gt;</span></span><br><span class="line">    &lt;%- partial(&#x27;../plugins/valine&#x27;) %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comments-mode&quot;</span>&gt;</span></span><br><span class="line">    &lt;%- partial(&#x27;../plugins/gitee&#x27;) %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;comments-mode&quot;</span>&gt;</span></span><br><span class="line">    &lt;%- partial(&#x27;../plugins/gitalk&#x27;) %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> comments_type = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comments-type&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> comments_mode = <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&quot;comments-mode&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;comments_type.<span class="property">length</span>;i++)&#123;</span></span><br><span class="line"><span class="language-javascript">    comments_type[i].<span class="property">index</span> = i; <span class="comment">// 储存所有键值</span></span></span><br><span class="line"><span class="language-javascript">    comments_type[i].<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 点击事件的实现功能，this就是点击的comments-type</span></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">for</span>(<span class="keyword">var</span> j=<span class="number">0</span>;j&lt;comments_type.<span class="property">length</span>;j++)&#123;</span></span><br><span class="line"><span class="language-javascript">          comments_type[j].<span class="property">className</span> = comments_type[j].<span class="property">className</span>.<span class="title function_">replace</span>(<span class="string">&#x27; active&#x27;</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript">          comments_mode[j].<span class="property">className</span> = comments_mode[j].<span class="property">className</span>.<span class="title function_">replace</span>(<span class="string">&#x27; show&#x27;</span>, <span class="string">&#x27;&#x27;</span>).<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      </span></span><br><span class="line"><span class="language-javascript">      <span class="comment">// 再给应该添加的对象添加className</span></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">this</span>.<span class="property">className</span> = <span class="variable language_">this</span>.<span class="property">className</span> + <span class="string">&#x27; active&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">      comments_mode[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">className</span> = comments_mode[<span class="variable language_">this</span>.<span class="property">index</span>].<span class="property">className</span> + <span class="string">&#x27; show&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此代码是实现3合一评论的，如需要集成更多，可以照葫芦画瓢</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;第三方主题几乎很少见到有集成多评论系统任用户切换的，可能是觉得鸡肋吧，但对于做大的网站就很需要了，可以满足不同人群的，随意切换的评论系统&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;先来个gif动图，让你们直观体验体验&lt;/p&gt;
&lt;p&gt;&lt;img  sr</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
  </entry>
  
  <entry>
    <title>教你们如何制作面具（Magisk Manager）自定义更新通道</title>
    <link href="https://qzkyl.ml/posts/553.html"/>
    <id>https://qzkyl.ml/posts/553.html</id>
    <published>2020-07-24T05:57:00.000Z</published>
    <updated>2020-07-24T05:57:00.000Z</updated>
    
    <content type="html"><![CDATA[<div class="post-note note-success"><p>真正的全民不花一分钱搭搭建属于自己的自定义更新通道，也可以公开使用</p></div><p>面具检测更新有2种办法：</p><ul><li>挂梯子，vpn，翻墙啥的都可以，毕竟别人服务器在国外</li><li>自定义更新通道</li></ul><h1 id="怎么做自定义更新通道？"><a href="#怎么做自定义更新通道？" class="headerlink" title="怎么做自定义更新通道？"></a>怎么做自定义更新通道？</h1><div class="post-note note-danger"><p>我们可以利用gitee pages，github pages，coding pages创建自己的更新网站<br>国内用户，推荐gitee pages或coding pages来创建，后者可以免费绑定自己已有的域名<br>这里主要讲gitee创建过程，其它类似</p></div><h1 id="注册登录并创建一个新项目"><a href="#注册登录并创建一个新项目" class="headerlink" title="注册登录并创建一个新项目"></a>注册登录并创建一个新项目</h1><p>新项目的路径最好是你自己ID，不然你的网址会很长，勾选使用Readme初始化这个仓库</p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724133058.png" alt="新建项目" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724133058.png" class="lozad post-image"></p><p>新建名为 <code>magisk.json</code> 的配置文件</p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724133158.png" alt="新建配置文件" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724133158.png" class="lozad post-image"></p><p>复制以下内容到 <code>magisk.json</code> 添加到配置文件中</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;app&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;7.5.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;versionCode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;267&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://abbw.ml/magisk.apk&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;magisk&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;20.3&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;versionCode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;20300&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://abbw.ml/magisk.zip&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;md5&quot;</span><span class="punctuation">:</span> <span class="string">&quot;959e46971c2eb500b91a053b2f1c1a8c&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;uninstaller&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;link&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://abbw.ml/uninstall.zip&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>配置文件修改详解</p><div class="post-note note-info"><p>magisk.json主要是定义了magisk Manager，magisk，magisk uninstall的下载地址，以及版本号和文件检验值</p></div><p>一张图告诉你们该怎么填写</p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724132124.png" alt="配置解析" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724132124.png" class="lozad post-image"></p><p>至于面具app，我们可以从<a href="https://github.com/topjohnwu/Magisk">官方Github项目</a>单独获取，也可以提取面具包里的apk</p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200724130418456.png" alt="配置获取" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200724130418456.png" class="lozad post-image"></p><h1 id="开启Pages服务"><a href="#开启Pages服务" class="headerlink" title="开启Pages服务"></a>开启Pages服务</h1><p>配置文件都正确填写后，点击pages服务，点击启动即可</p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724134742.png" alt="开启pages" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020724134742.png" class="lozad post-image"></p><h1 id="分享你的更新通道"><a href="#分享你的更新通道" class="headerlink" title="分享你的更新通道"></a>分享你的更新通道</h1><p>当你已开启 Gitee Pages 服务，你将会获得一个网站地址，复制这个地址并加上<code>magisk.json</code>，填写到面具app自定义通道上就可以啦</p><p>比如使用我搭建的的 <a href="https://magisk.ml/magisk.json">https://magisk.ml/magisk.json</a> , 会一直更随Github正式版本更新</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;post-note note-success&quot;&gt;&lt;p&gt;真正的全民不花一分钱搭搭建属于自己的自定义更新通道，也可以公开使用&lt;/p&gt;&lt;/div&gt;

&lt;p&gt;面具检测更新有2种办法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;挂梯子，vpn，翻墙啥的都可以，毕竟别人服务器在国外&lt;</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="magisk" scheme="https://qzkyl.ml/tags/magisk/"/>
    
  </entry>
  
  <entry>
    <title>用 Cloudflare CDN 如何自定义节点（CF自选IP）</title>
    <link href="https://qzkyl.ml/posts/59596.html"/>
    <id>https://qzkyl.ml/posts/59596.html</id>
    <published>2020-07-23T06:21:00.000Z</published>
    <updated>2020-07-23T06:21:00.000Z</updated>
    
    <content type="html"><![CDATA[<div class="post-note note-success"><p>一般需要自选IP的原因是因为国内访问CF的节点比较慢，因此我们指定一个在国内访问比较快的IP</p><p>自选IP的原理简单来说就是，国内DNS解析域名的时候能够解析到一个相对较快的IP，而国外解析的IP不变</p></div><h1 id="注册cloudflare和笨牛CDN"><a href="#注册cloudflare和笨牛CDN" class="headerlink" title="注册cloudflare和笨牛CDN"></a>注册cloudflare和笨牛CDN</h1><ul><li>免费版cloudflare 自定义ip需要使用第三方版本cfp（就是cloudflare partener）后文使用cfp代替。这里推荐笨牛CDN <a href="http://cdn.bnxb.com/">http://cdn.bnxb.com/</a></li><li>很明显自定义ip要使用非dns接入方式。但是官方版只支持dns接入，所以要使用第三方版本</li></ul><h1 id="使用笨牛CDN接入域名"><a href="#使用笨牛CDN接入域名" class="headerlink" title="使用笨牛CDN接入域名"></a>使用笨牛CDN接入域名</h1><p>添加你的域名：<br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020723164815.png" alt="添加域名" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020723164815.png" class="lozad post-image"></p><p>接入方式选择CNAMEE&#x2F;IP接入：<br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020723165126.png" alt="选择CNAMEE/IP接入" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020723165126.png" class="lozad post-image"><br>回源方式和地址填你网站的ip，提交后进入域名解析管理</p><p>填写域名解析记录：<br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020723165516.png" alt="填写解析记录" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020723165516.png" class="lozad post-image"><br>记住下面的<code>cname记录</code>, 待会要用到</p><h1 id="智能DNS服务商分线路解析"><a href="#智能DNS服务商分线路解析" class="headerlink" title="智能DNS服务商分线路解析"></a>智能DNS服务商分线路解析</h1><p>本站使用的是dnspod，同时还有国内还有aliyun,dns.la,dns.com等很多服务商也提供智能线路解析，可以网上搜下</p><p>以dnspod解析为例，添加域名，然后按照提示在你的域名注册商修改ns到dnspod提供的ns服务器</p><p>然后把刚记下来的<code>cname记录</code>添加进去，解析线路选择默认</p><h1 id="分线路解析"><a href="#分线路解析" class="headerlink" title="分线路解析"></a>分线路解析</h1><p>选择一个线路较好的IP，然后分运营商做好相对应的IP的A记录解析即可</p><h1 id="网上搜集的节点"><a href="#网上搜集的节点" class="headerlink" title="网上搜集的节点"></a>网上搜集的节点</h1><p>国内速较快的IP段, 自行筛选节点，这儿提供一个筛选方法：</p><p>然后选择节点后在 <a href="https://ping.chinaz.com/">https://ping.chinaz.com</a> 查询延迟，选择合适的节点</p><details ><summary> <p>联通移动推荐的节点</p> </summary>              <div class='content'>              <p>104.23.240.0-104.23.243.254</p>              </div>            </details><details ><summary> <p>电信推荐CloudFlare 百度云合作 ip</p> </summary>              <div class='content'>              <p>162.159.208.4-162.159.208.103<br>162.159.209.4-162.159.209.103<br>162.159.210.4-162.159.210.103<br>162.159.211.4-162.159.211.103</p>              </div>            </details><p>网上他人推荐的ip：</p><p><a href="https://www.zhuji.im/553.html">https://www.zhuji.im/553.html</a><br><a href="https://pc6a.com/1430.html">https://pc6a.com/1430.html</a><br><a href="https://www.31du.cn/blog/cloudflare-cdn-ip.html">https://www.31du.cn/blog/cloudflare-cdn-ip.html</a><br><a href="https://loukky.com/archives/641">https://loukky.com/archives/641</a></p><p>等待一段时间之后就可以查看解析生效了没有。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;div class=&quot;post-note note-success&quot;&gt;&lt;p&gt;一般需要自选IP的原因是因为国内访问CF的节点比较慢，因此我们指定一个在国内访问比较快的IP&lt;/p&gt;&lt;p&gt;自选IP的原理简单来说就是，国内DNS解析域名的时候能够解析到一个相对较快的IP，而国外解析的I</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Cloudflare" scheme="https://qzkyl.ml/tags/Cloudflare/"/>
    
  </entry>
  
  <entry>
    <title>Hexo添加代码块复制功能</title>
    <link href="https://qzkyl.ml/posts/17353.html"/>
    <id>https://qzkyl.ml/posts/17353.html</id>
    <published>2020-07-22T09:00:00.000Z</published>
    <updated>2020-07-22T09:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>此方法对所有没有代码块复制功能的主题都有效，基于 <a href="https://github.com/zenorocha/clipboard.js">https://github.com/zenorocha/clipboard.js</a> 实现</p></blockquote><h1 id="下载-clipboard-js"><a href="#下载-clipboard-js" class="headerlink" title="下载 clipboard.js"></a>下载 clipboard.js</h1><p>下载第三方插件：<a href="https://raw.githubusercontent.com/zenorocha/clipboard.js/master/dist/clipboard.min.js">clipboard.js</a></p><p>保存文件到 theme&#x2F;xxx&#x2F;source&#x2F;js 下。</p><p>然后在 theme&#x2F;xxx&#x2F;source&#x2F;js 目录下，创建 clipboard-use.js，添加内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*页面载入完成后，创建复制按钮*/</span></span><br><span class="line">!<span class="keyword">function</span> (<span class="params">e, t, a</span>) &#123; </span><br><span class="line">  <span class="comment">/* code */</span></span><br><span class="line">  <span class="keyword">var</span> initCopyCode = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> copyHtml = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    copyHtml += <span class="string">&#x27;&lt;button class=&quot;btn-copy&quot; data-clipboard-snippet=&quot;&quot;&gt;&#x27;</span>;</span><br><span class="line">    copyHtml += <span class="string">&#x27;&lt;span&gt;复制&lt;/span&gt;&#x27;</span>;</span><br><span class="line">    copyHtml += <span class="string">&#x27;&lt;/button&gt;&#x27;</span>;</span><br><span class="line">    $(<span class="string">&quot;.highlight .code pre&quot;</span>).<span class="title function_">before</span>(copyHtml);</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ClipboardJS</span>(<span class="string">&#x27;.btn-copy&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">target</span>: <span class="keyword">function</span>(<span class="params">trigger</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> trigger.<span class="property">nextElementSibling</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="title function_">initCopyCode</span>();</span><br><span class="line">&#125;(<span class="variable language_">window</span>, <span class="variable language_">document</span>);</span><br></pre></td></tr></table></figure><p>在 theme&#x2F;xxx&#x2F;source&#x2F;css&#x2F;style.css 样式中添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//代码块复制按钮</span><br><span class="line"><span class="selector-class">.highlight</span>&#123;</span><br><span class="line">  //方便copy代码按钮（btn-copy）的定位</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(<span class="number">#fcfcfc</span>,<span class="number">#eee</span>);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    -webkit-user-select: none;</span><br><span class="line">    -moz-user-select: none;</span><br><span class="line">    -ms-user-select: none;</span><br><span class="line">    user-select: none;</span><br><span class="line">    -webkit-appearance: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    -webkit-<span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    -o-<span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span>&#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="引用js文件"><a href="#引用js文件" class="headerlink" title="引用js文件"></a>引用js文件</h1><p>将以下代码加入到 <code>/body</code> 之前：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 代码块复制功能 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/clipboard.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span>  </span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/clipboard-use.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>或者将 clipboard.min.js 和 clipboard-use.js 保存到CDN上，通过远程引用也可以</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;此方法对所有没有代码块复制功能的主题都有效，基于 &lt;a href=&quot;https://github.com/zenorocha/clipboard.js&quot;&gt;https://github.com/zenorocha/clipboard.js&lt;/a&gt; 实</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
  </entry>
  
  <entry>
    <title>安卓免root+xposed实现刷支付宝和微信步数</title>
    <link href="https://qzkyl.ml/posts/24561.html"/>
    <id>https://qzkyl.ml/posts/24561.html</id>
    <published>2020-07-12T10:33:31.000Z</published>
    <updated>2020-07-12T10:33:31.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>改步数的方法很多，想要稳定且迅速的方法却不多，利用我写的辅助APP可快速稳定刷到你想要的步数</p></blockquote><p>本教程刷步数原理：使用三星健康步数管理一键修改步数，然后通过三星健康同步至支付宝和悦动圈，然后悦动圈再同步至微信</p><p>需要注意的是，支付宝如果想获取三星健康的步数，就一定要伪装成三星手机型号，微信则不需要</p><p>这里我推荐3种伪装机型方法，往下看有详细教程</p><ul><li>1.使用三星手机</li><li>2.使用magisk模块更改机型(要解锁bl+root)</li><li>3.使用应用转生(推荐，不需要解bl+root)</li></ul><p>准备必要工作，<a href="https://abbw.lanzous.com/b015lsrwf">点我下载工具</a></p><ul><li>0.安装悦动圈</li><li>1.安装支付宝</li><li>2.安装三星健康</li><li>3.安装应用转生</li><li>4.安装应用变量</li><li>5.安装三星健康步数管理</li></ul><details ><summary> <p>应用转生详细用法</p> </summary>              <div class='content'>              <p>1.添加支付宝和三星健康至应用转生内</p><ul><li>应用转生首页-右下角(会弹出四个选项)-第一个“+”号-选择应用(可以搜索，如需选择安装包转生，再点右下角“+”号以选择安装包)-确定-确定(请勿开启Debug)-确定(确认已数据备份后再卸载)-安装<br>2.启用模拟机型的模块</li><li>应用转生首页-右下角(会弹出四个选项)-第二个(模块管理)-给应用变量打勾<br>3.设置模拟机型模块的作用域</li><li>打开应用转生的模块管理页面，长按应用变量模块-模块作用域-把支付宝勾选以添加至该模块的作用域内<br>4.应用变量模拟机型</li><li>打开应用变量，找到支付宝和三星健康，厂商选择三星，型号选择S8+，保存退出<br>5.重启应用以加载模块</li><li>打开应用转生，长按应用，点击强行停止</li></ul>              </div>            </details><p>当你的机型已成功模拟为三星手机后，就可以进行修改步数了</p><details ><summary> <p>步数修改详细教程</p> </summary>              <div class='content'>              <p>1.打开三星健康，进入设置，点击关于三星健康<br>2.点击版本号，点击10次左右，直至出现Developer mode即可<br>3.回到设置页面，点击数据权限<br>4.打开数据权限后，可以看到有支付宝、悦动圈和三星健康步数管理，依次打开，然后把所有权限都开启<br>5.打开三星健康步数管理，点击右下角的+号就可以增加步数了</p>              </div>            </details><p>这时你发现步数虽然有了，你却发现无法同步至微信和支付宝，怎么办呢？当然有办法，往下看</p><details ><summary> <p>同步步数详细教程</p> </summary>              <div class='content'>              <p>1.同步到支付宝</p><ul><li>打开支付宝，进入运动，右上角设置，数据来源选择三星健康</li><li>步数更改后，强行停止支付宝，再打开就可以看到新步数了</li></ul><p>2.同步到微信</p><ul><li>打开悦动圈，设置勾选三星健康S授权，就能获取三星健康的步数，并且自动同步至微信</li><li>不过，每次只能一次一次刷1000步，多了无法同步</li></ul>              </div>            </details><p>为了方便修改微信步数，我写了一个脚本来自动多次刷步数，此脚本简单易用</p><p>全自动脚本：<a href="https://abbw.lanzous.com/iJ9odejqnwj">https://abbw.lanzous.com/iJ9odejqnwj</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;改步数的方法很多，想要稳定且迅速的方法却不多，利用我写的辅助APP可快速稳定刷到你想要的步数&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;本教程刷步数原理：使用三星健康步数管理一键修改步数，然后通过三星健康同步至支付宝和悦动圈，然后悦动圈再同步至微信</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="步数" scheme="https://qzkyl.ml/tags/%E6%AD%A5%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>修改hosts解决raw.githubusercontent.com无法访问</title>
    <link href="https://qzkyl.ml/posts/20626.html"/>
    <id>https://qzkyl.ml/posts/20626.html</id>
    <published>2020-05-30T00:54:00.000Z</published>
    <updated>2020-05-30T00:54:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>在国内网络环境下使用 GitHub 相关服务体验很差，其域名github.com和仓库文件直链域名raw.githubusercontent.com被 DNS 污染，可以临时通过修改hosts解决掉此问题</p></blockquote><span class='p h2 cyan'>查询真实IP</span><p>进入 <a href="https://www.ipaddress.com/">https://www.ipaddress.com/</a> 首页,输入<code>raw.githubusercontent.com</code>查询真实的IP地址</p><p>根据你的设备，接下来选择根据设备选择相应教程</p><div class="tabs" id="github"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#github-1">Linux</button></li><li class="tab"><button type="button" data-href="#github-2">Windows</button></li><li class="tab"><button type="button" data-href="#github-3">Android</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="github-1"><p>打开终端，依次输入以下内容</p><p><code>sudo vi /etc/hosts</code></p><p>尾部新增添加以下内容保存，重启电脑即可</p><p><code>199.232.68.133 raw.githubusercontent.com</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="iconfont icon-top1"></i></button></div><div class="tab-item-content" id="github-2"><p>以管理员身份权限，文本编辑器打开<code>C:\Windows\System32\drivers\etc\hosts</code>文件</p><p>尾部新增添加以下内容保存，重启电脑即可</p><p><code>199.232.68.133 raw.githubusercontent.com</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="iconfont icon-top1"></i></button></div><div class="tab-item-content" id="github-3"><p>需要ROOT，文本编辑器打开<code>\etc\hosts</code>文件</p><p>尾部新增添加以下内容保存，重启手机即可</p><p><code>199.232.68.133 raw.githubusercontent.com</code></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="iconfont icon-top1"></i></button></div></div></div>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;在国内网络环境下使用 GitHub 相关服务体验很差，其域名github.com和仓库文件直链域名raw.githubusercontent.com被 DNS 污染，可以临时通过修改hosts解决掉此问题&lt;/p&gt;
&lt;/blockquote&gt;
&lt;sp</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>强大的上帝专属特权菜单，可以给物品&amp;复活&amp;传送&amp;变身等等</title>
    <link href="https://qzkyl.ml/posts/35.html"/>
    <id>https://qzkyl.ml/posts/35.html</id>
    <published>2020-05-21T04:00:00.000Z</published>
    <updated>2020-05-21T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>这是我自写的一套源码内的一个插件，最初写于2016年。作者我不喜欢用别的人源代码，因为看别人的代码很累，别人看我的代码也很累，所以我都是全自写自用，我会慢慢逐渐放出我的一套插件的</p></blockquote><p>部分介绍图，未展示全部功能，如需要，自行体验</p><div class="gallery ">              <p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115954.PNG" alt="主菜单1" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115954.PNG" class="lozad post-image"><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115955.PNG" alt="主菜单2" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115955.PNG" class="lozad post-image"><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115956.PNG" alt="自定义轮廓颜色" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115956.PNG" class="lozad post-image"><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115957.PNG" alt="上帝库" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115957.PNG" class="lozad post-image"><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115958.PNG" alt="上帝库2" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115958.PNG" class="lozad post-image"><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115959.PNG" alt="传送库" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521115959.PNG" class="lozad post-image"><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521120000.PNG" alt="人数库" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200521120000.PNG" class="lozad post-image"></p>            </div><p>插件指令：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">!vip                 <span class="regexp">//</span> 打开主菜单</span><br><span class="line">!vip R G B           <span class="regexp">//</span> 指定轮廓颜色，例如红色：!vip <span class="number">255</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>插件下载地址：<a href="https://gcore.jsdelivr.net/gh/abbw/CDN/l4d2_abbw_vip.zip">l4d2_abbw_vip.zip</a></p><details ><summary> <p>插件注意事项</p> </summary>              <div class='content'>              <p>本插件不是拥有管理员权限就能使用的，将读取cfg参数获取特权用户</p><p>配置方法，打开<code>data/l4d2_abbw_vip.txt</code>，按照文中内的例子填写</p>              </div>            </details>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;这是我自写的一套源码内的一个插件，最初写于2016年。作者我不喜欢用别的人源代码，因为看别人的代码很累，别人看我的代码也很累，所以我都是全自写自用，我会慢慢逐渐放出我的一套插件的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;部分介绍图，未展示全部功能</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>一键初始化 Gitalk 和 Gitment 以及 Giteement 评论</title>
    <link href="https://qzkyl.ml/posts/43751.html"/>
    <id>https://qzkyl.ml/posts/43751.html</id>
    <published>2020-05-19T01:52:27.000Z</published>
    <updated>2020-05-19T01:52:27.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>无论是 Gitalk 还是 Gitment ，甚至是 Giteement 都只能手动初始化所有文章的评论<br>我觉得这件事情非常麻烦，所以就有了这篇文章 <code>自动化初始评论的脚本</code></p></blockquote><h1 id="获得-Issues-操作权限"><a href="#获得-Issues-操作权限" class="headerlink" title="获得 Issues 操作权限"></a>获得 Issues 操作权限</h1><ol><li>在使用该脚本之前, 首先要在 GitHub 中创建一个新的 <code>Personal access tokens</code> 私人密钥</li></ol><p>  <a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></p><ol start="2"><li>选择 <code>Generate new token</code> ，在当前的页面中为该 Token 添加所有 Repo 的权限</li></ol><p>  <img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202005191204.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202005191204.PNG"></p><ol start="3"><li>在这里创建之后，点击界面最下的面 <code>Generate token</code> 按钮获得一个新的 token, 一定要保存这个token，只显示一次</li></ol><p>  <img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202005191206.PNG" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202005191206.PNG"></p><h1 id="编写自动化初始化脚本"><a href="#编写自动化初始化脚本" class="headerlink" title="编写自动化初始化脚本"></a>编写自动化初始化脚本</h1><p>因为评论服务是通过 GitHub 提供的 API 创建含有相应标签的 issue，所以我们应该也可以直接使用 GitHub 的 API 创建所有博客文章对应的 issue，这与通过评论插件创建 issue 是完全一样的，在创建之后无论是 Gitalk 还是 Gitment 都可以通过对应的标签直接在仓库中找到对应的 issue 了</p><ol><li>为 hexo 添加生成 sitemap</li></ol><p>  由于脚本是基于网站sitemap的批量创建issue的，所以需要安装该插件</p><p>  <a href="https://phantomt.github.io/2019/05/02/Hexo-001-sitemap/">https://phantomt.github.io/2019/05/02/Hexo-001-sitemap/</a></p><ol start="2"><li>使用 MD5 加密文章ID</li></ol><p>  因为在脚本中的id一栏设置了对 <code>pathname</code> 进行MD5加密，因此在自动初始化的脚本中，也要相对的在<code>label</code>里对<code>path</code>进行MD5处理</p><p>  如果脚本中不进行MD5加密，那么创建的 Issue 的 label 就会是原始的文章地址，而 Gitalk 并不识别这个 Issue，还是需要手动初始化（两个 Issue 是不会合并的）</p><p>  因此，如果在Gitalk 和 Gitment 里设置了 MD5，那么在脚本里同样要进行 MD5，同一文件的 MD5 摘要是一样的</p><ol start="3"><li>安装脚本依赖组件</li></ol>  <figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install request <span class="type">xml</span>-<span class="keyword">parser</span> yamljs cheerio <span class="comment">--save</span></span><br></pre></td></tr></table></figure><ol start="4"><li>下载保存脚本文件</li></ol><p>  下载地址：<a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/js/giteement&gitalk.js">giteement&amp;gitalk.js</a></p><ol start="5"><li>配置脚本参数</li></ol><p>  编辑下载好的脚本文件, 并根据自己的情况进行配置</p>   <figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">username: <span class="string">&quot;YourGithubUserName&quot;</span>, <span class="regexp">//</span> GitHub 用户名</span><br><span class="line">token: <span class="string">&quot;YourPersonalAccessToken&quot;</span>,  <span class="regexp">//</span> GitHub Token</span><br><span class="line">repo: <span class="string">&quot;YourGitalkIssueRepo&quot;</span>,  <span class="regexp">//</span> 存放 issues的git仓库</span><br><span class="line"><span class="regexp">//</span> sitemap.xml的路径，无需修改，其他情况自行处理</span><br><span class="line">sitemapUrl: path.resolve(__dirname, <span class="string">&quot;./public/sitemap.xml&quot;</span>),</span><br><span class="line">kind: <span class="string">&quot;Gitalk&quot;</span>,  <span class="regexp">//</span> <span class="string">&quot;Gitalk&quot;</span> or <span class="string">&quot;Gitment&quot;</span></span><br></pre></td></tr></table></figure><p>  其中token就是上面申请并保存的 Token, 没有 token 是无法使用API的，token 错误会导致 issues 变量内容错误</p><ol start="6"><li>执行脚本</li></ol>  <figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">node</span> <span class="title">giteement</span>&amp;gitalk.js</span><br></pre></td></tr></table></figure><p>  等待 40 秒后，批量自动生成正确的 Issue<br>当然如果想要部署博客的时候自动运行可以在 Hexo 根目录的 package.json 文件里加入</p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;deploy&quot;</span><span class="punctuation">:</span> <span class="string">&quot;hexo clean &amp;&amp; hexo g -d &amp;&amp; node giteement&amp;gitalk.js&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>  之后直接输入 <code>npm run deploy</code> 即可直接执行</p><h1 id="Giteement-自动初始化"><a href="#Giteement-自动初始化" class="headerlink" title="Giteement 自动初始化"></a>Giteement 自动初始化</h1><p>如果需求量大，我会将 <code>Giteement</code> 批量初始化脚本公布, 也同样是基于 nodejs 编写的</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;无论是 Gitalk 还是 Gitment ，甚至是 Giteement 都只能手动初始化所有文章的评论&lt;br&gt;我觉得这件事情非常麻烦，所以就有了这篇文章 &lt;code&gt;自动化初始评论的脚本&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 </summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Gitee" scheme="https://qzkyl.ml/tags/Gitee/"/>
    
    <category term="Gitalk" scheme="https://qzkyl.ml/tags/Gitalk/"/>
    
    <category term="Gitment" scheme="https://qzkyl.ml/tags/Gitment/"/>
    
  </entry>
  
  <entry>
    <title>使用 cron-job 解决 LeanCloud 因流控原因自动唤醒失败</title>
    <link href="https://qzkyl.ml/posts/1135.html"/>
    <id>https://qzkyl.ml/posts/1135.html</id>
    <published>2020-05-09T07:23:12.000Z</published>
    <updated>2020-05-09T07:23:12.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495130.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495130.png"></p><blockquote><p>Valine-admin 由于 Leancloud 流控原因，使用自带的自动唤醒任务可能会失败，详情：<a href="https://forum.leancloud.cn/t/topic/22595">https://forum.leancloud.cn/t/topic/22595</a></p></blockquote><p>所以这里介绍一个使用第三方计划任务网站进行定时唤醒 Valine-admin 的方法</p><span class='p h2 green'>注册cron-job帐号</span><p>注册地址：<a href="https://cron-job.org/en/signup/">https://cron-job.org/en/signup/</a></p><p>注册时的<code>Time zone</code>时区选择<code>Asia/Shanghai</code></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495535.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495535.png"></p><span class='p h2 green'>添加一个计划任务</span><p>登陆之后依次点击 Members -&gt; Cronjobs -&gt; Create cronjob</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020841008.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020841008.png"></p><ul><li>Title, Address<br><code>Title</code>是任务名称, 可以随便填写一个<br><code>Address</code>填写你的云引擎环境变量的ADMIN_URL，也就是 Leancloud 的Web 主机域名。推荐使用 <a href="https://github.com/HCLonely/Valine-Admin">@HCLonely</a> 的Valine-Admin，在后面加上&#x2F;start会有唤醒日志</li></ul><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208410634.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208410634.png"></p><ul><li><p>Schedule<br>选择 User-defined 进行自定义设置，按住Ctrl可多选<br><code>Days of month:</code>全选<br><code>Days of week:</code> 全选<br><code>Months:</code> 全选<br><code>Hours:</code> 你需要在哪个时间段唤醒就选择什么<br><code>Minutes:</code> 选择0,20,40，表示每20分钟</p></li><li><p>Notifications<br>邮件通知选项，可以不用修改，也可以根据自己的需要修改</p></li><li><p>Common<br>勾选<code>Save responses</code>, 保存唤醒日志, 在 <code>Members</code> 有日志</p></li></ul><p>最后点击Create cronjob，创建任务就行了。稳的很，看截图</p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084101746.png" alt="唤醒日志" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/202084101746.png" class="lozad post-image"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20208495130.png&quot;</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Valine" scheme="https://qzkyl.ml/tags/Valine/"/>
    
    <category term="leancloud" scheme="https://qzkyl.ml/tags/leancloud/"/>
    
  </entry>
  
  <entry>
    <title>Linux nodejs 安装以及配置环境</title>
    <link href="https://qzkyl.ml/posts/11527.html"/>
    <id>https://qzkyl.ml/posts/11527.html</id>
    <published>2020-05-08T00:52:27.000Z</published>
    <updated>2020-05-08T00:52:27.000Z</updated>
    
    <content type="html"><![CDATA[<h1 id="从官网中下载nodejs"><a href="#从官网中下载nodejs" class="headerlink" title="从官网中下载nodejs"></a>从官网中下载nodejs</h1><p>国内下载源：<a href="http://nodejs.cn/download/">http://nodejs.cn/download/</a></p><p>根据自己的平台，选择对应版本，并复制链接</p><p>下载复制的链接</p><p><code>wget https://npm.taobao.org/mirrors/node/v14.2.0/node-v14.2.0-linux-x64.tar.xz</code></p><p>解压并更改文件夹名字</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf <span class="keyword">node</span><span class="title">-v14</span>.<span class="number">2.0</span>-linux-x64.tar.xz</span><br><span class="line">mv <span class="keyword">node</span><span class="title">-v14</span>.<span class="number">2.0</span>-linux-x64 nodejs</span><br></pre></td></tr></table></figure><h1 id="配置环境变量"><a href="#配置环境变量" class="headerlink" title="配置环境变量"></a>配置环境变量</h1><p>编辑<code>.bash_profile</code>文件</p><p><code>vi .bash_profile</code></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 往 .bash_profile 新增环境变量</span></span><br><span class="line"><span class="built_in">export</span> <span class="attribute">NODE_HOME</span>=nodejs</span><br><span class="line"><span class="built_in">export</span> <span class="attribute">PATH</span>=<span class="variable">$PATH</span>:$NODE_HOME/bin </span><br><span class="line"><span class="built_in">export</span> <span class="attribute">NODE_PATH</span>=<span class="variable">$NODE_HOME</span>/lib/node_modules</span><br></pre></td></tr></table></figure><p>保存，并更新环境变量</p><p><code>source .bash_profile</code></p><p>检查是否安装成功</p><p><code>node -v</code></p><p>有版本号出现则表示成功</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;从官网中下载nodejs&quot;&gt;&lt;a href=&quot;#从官网中下载nodejs&quot; class=&quot;headerlink&quot; title=&quot;从官网中下载nodejs&quot;&gt;&lt;/a&gt;从官网中下载nodejs&lt;/h1&gt;&lt;p&gt;国内下载源：&lt;a href=&quot;http://nodejs.c</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Android一键搭建aria2下载神器工具</title>
    <link href="https://qzkyl.ml/posts/28345.html"/>
    <id>https://qzkyl.ml/posts/28345.html</id>
    <published>2020-04-26T07:33:31.000Z</published>
    <updated>2020-04-26T07:33:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>一个多线程下载神器，传闻曾经的PanDownload就是利用aria2实现加速下载的</p><p>作者我也写过pc端的aria2一键搭建程序，有兴趣的可以搜索下</p><p>要实现方法很多，可我发现自己不喜欢安装多个app，所以还是做成magisk模块了</p><p><strong>安装教程</strong></p><ol><li><p>下载模块</p></li><li><p>刷入模块</p></li><li><p>重启</p></li></ol><hr><p>不需要配置任何文件，刷入即食用</p><p>默认RPC端口：6800<br>默认密码：未设置（方便自动连接）<br>默认下载路径：&#x2F;sdcard&#x2F;Download&#x2F;</p><p>至于aria2的使用方法，想必需要的都知道怎么用了，不做解释</p><p>本次打包两个版本，主要是因为体积看个人爱好</p><ul><li><p>集成AriaNG管理界面<br>为了方便，用了caddy服务，输入网址<code>http://127.0.0.1</code>，就可以打开管理界面了<br>caddy使用了80端口，确保自己没有相关服务正在使用<br>下载地址：<a href="https://abbw.lanzous.com/imYcddxpamd">带AriaNG管理.zip</a><br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200426154732193.jpg" alt="AriaNG" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200426154732193.jpg" class="lozad post-image"></p></li><li><p>无管理界面<br>下载地址：<a href="https://abbw.lanzous.com/ixkzhdxpbwj">无管理界面.zip</a></p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;一个多线程下载神器，传闻曾经的PanDownload就是利用aria2实现加速下载的&lt;/p&gt;
&lt;p&gt;作者我也写过pc端的aria2一键搭建程序，有兴趣的可以搜索下&lt;/p&gt;
&lt;p&gt;要实现方法很多，可我发现自己不喜欢安装多个app，所以还是做成magisk模块了&lt;/p&gt;
&lt;p&gt;</summary>
      
    
    
    
    <category term="Android" scheme="https://qzkyl.ml/categories/Android/"/>
    
    
    <category term="magisk" scheme="https://qzkyl.ml/tags/magisk/"/>
    
    <category term="aria2" scheme="https://qzkyl.ml/tags/aria2/"/>
    
  </entry>
  
  <entry>
    <title>自编译的Valine评论美化版，带个性表情包等</title>
    <link href="https://qzkyl.ml/posts/21236.html"/>
    <id>https://qzkyl.ml/posts/21236.html</id>
    <published>2020-04-15T06:18:27.000Z</published>
    <updated>2020-04-15T06:18:27.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Valine 诞生于2017年8月7日，是一款基于LeanCloud的快速、简洁且高效的无后端评论系统<br>理论上支持但不限于静态博客，目前已有Hexo、Jekyll、Typecho、Hugo、Ghost 等博客程序在使用Valine</p></blockquote><p>当前修改版基于v1.3.10&#96;，源代码由 <a href="https://github.com/xCss/Valine">@xCss</a> 提供</p><p>最后编译时间：<code>2020-7-20 16:32:16</code></p><p>自编译Valine拥有以下特点：</p><ul><li>漂亮的样式风格</li><li>精简英文语言块</li><li>精简无用代码块</li><li>增加精选表情包</li><li>增加邮箱为必填项</li><li>增加评论区显示博主标签</li><li>增加自动识别QQ头像</li></ul><p>2种使用方法：</p><ul><li><p>1.远程引用最新Valine(推荐)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.jsdelivr.net/gh/abbw/CDN/js/Valine.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>2.下载js文件替换，本地使用<br>下载到本地，替换源码js文件夹中的<code>valine.js</code></p></li></ul><p>效果可以看本站评论界面</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Valine 诞生于2017年8月7日，是一款基于LeanCloud的快速、简洁且高效的无后端评论系统&lt;br&gt;理论上支持但不限于静态博客，目前已有Hexo、Jekyll、Typecho、Hugo、Ghost 等博客程序在使用Valine&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="Valine" scheme="https://qzkyl.ml/tags/Valine/"/>
    
    <category term="leancloud" scheme="https://qzkyl.ml/tags/leancloud/"/>
    
  </entry>
  
  <entry>
    <title>小米系统一键精简，所有app支持游戏模式小窗口工具</title>
    <link href="https://qzkyl.ml/posts/64401.html"/>
    <id>https://qzkyl.ml/posts/64401.html</id>
    <published>2020-04-13T07:06:27.000Z</published>
    <updated>2020-04-13T07:06:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>精简无用app不卡mi</p><p>游戏模式下，支持小窗口打开所有app</p><div class="gallery ">              <p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/843f6d237907fb8b.png" alt="system/app 精简列表" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/843f6d237907fb8b.png" class="lozad post-image"></p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/410f1435ea937804.png" alt="system/data-app 精简列表" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/410f1435ea937804.png" class="lozad post-image"></p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2869121c6d294811.png" alt="system/priv-app 精简列表" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2869121c6d294811.png" class="lozad post-image"></p>            </div><p>下载地址：<a href="https://abbw.lanzous.com/i8lDHdxpjmh">abbw_miui.zip</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;精简无用app不卡mi&lt;/p&gt;
&lt;p&gt;游戏模式下，支持小窗口打开所有app&lt;/p&gt;
&lt;div class=&quot;gallery &quot;&gt;
              &lt;p&gt;&lt;img src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/</summary>
      
    
    
    
    <category term="Android" scheme="https://qzkyl.ml/categories/Android/"/>
    
    
    <category term="magisk" scheme="https://qzkyl.ml/tags/magisk/"/>
    
  </entry>
  
  <entry>
    <title>收集到的全部Valine美化教程</title>
    <link href="https://qzkyl.ml/posts/48314.html"/>
    <id>https://qzkyl.ml/posts/48314.html</id>
    <published>2020-04-12T06:18:27.000Z</published>
    <updated>2020-04-12T06:18:27.000Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.jinrishici.com/">今日诗词</a>：一个可以随机返回一句古诗词名句的接口，可用来做 Valine 的 placeholder 显示内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://sdk.jinrishici.com/v2/browser/jinrishici.js&quot;</span> charset=<span class="string">&quot;utf-8&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">jinrishici.<span class="title function_">load</span>(<span class="keyword">function</span>(<span class="params">result</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">var</span> jrsc_plac =  result.<span class="property">data</span>.<span class="property">content</span> + <span class="string">&quot;\n「&quot;</span> + result.<span class="property">data</span>.<span class="property">origin</span>.<span class="property">title</span> + <span class="string">&quot;」&quot;</span> + result.<span class="property">data</span>.<span class="property">origin</span>.<span class="property">dynasty</span> + <span class="string">&quot; · &quot;</span> + result.<span class="property">data</span>.<span class="property">origin</span>.<span class="property">author</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;veditor&quot;</span>).<span class="title function_">setAttribute</span>(<span class="string">&quot;placeholder&quot;</span>,jrsc_plac);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>Valine 懒加载</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="title function_">loadComments</span>();</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">loadComments</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="title class_">Valine</span> === <span class="string">&#x27;undefined&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> <span class="title function_">getScript</span> = (<span class="params">options</span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">var</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">      script.<span class="property">defer</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript">      script.<span class="property">crossOrigin</span> = <span class="string">&#x27;anonymous&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">      <span class="title class_">Object</span>.<span class="title function_">keys</span>(options).<span class="title function_">forEach</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          script[key] = options[key];</span></span><br><span class="line"><span class="language-javascript">      &#125;);</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script);</span></span><br><span class="line"><span class="language-javascript">    &#125;;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">getScript</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">src</span>: <span class="string">&#x27;https://gcore.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">      <span class="attr">onload</span>: <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">newValine</span>();</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript">  &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="title function_">newValine</span>();</span></span><br><span class="line"><span class="language-javascript">  &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"><span class="keyword">function</span> <span class="title function_">newValine</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">new</span> <span class="title class_">Valine</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//原配置</span></span></span><br><span class="line"><span class="language-javascript">  &#125;);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>文章列表显示评论数和阅读数</p><p>评论数</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;span <span class="attribute">class</span>=<span class="string">&quot;valine-comment-count&quot;</span> <span class="attribute">data-xid</span>=<span class="string">&quot;pathname&quot;</span>&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure><p>自动查找网页中class值为 valine-comment-count 的元素并自动填充查询结果，如果文章完整网址是 <a href="https://qzkyl.ml/valine-show-comment-views">https://qzkyl.ml/valine-show-comment-views</a> ，pathname则是 &#x2F;valine-show-comment-views。</p><p>阅读数<br>直接套用手册：<a href="https://valine.js.org/visitor.html">https://valine.js.org/visitor.html</a></p><p>评论框美化css：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span>&#123;<span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">44px</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.veditor</span>&#123;<span class="attribute">min-height</span>:<span class="number">7rem</span>;<span class="attribute">resize</span>:none;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vedit</span>&#123;<span class="attribute">padding-top</span>:<span class="number">0</span>&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vheader</span>&#123;<span class="attribute">width</span>: <span class="number">80%</span>;<span class="attribute">bottom</span>:<span class="number">0</span>;<span class="attribute">position</span>: absolute;<span class="attribute">background</span>: <span class="number">#f7f7f7</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vinput</span>&#123;<span class="attribute">padding</span>:<span class="number">10px</span> <span class="number">15px</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vheader</span> <span class="selector-class">.vinput</span>&#123;<span class="attribute">border-bottom</span>:<span class="number">0px</span>&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vedit</span> <span class="selector-class">.vctrl</span>&#123;<span class="attribute">margin-top</span>:-<span class="number">44px</span>;<span class="attribute">right</span>:<span class="number">0</span>;<span class="attribute">position</span>:absolute;<span class="attribute">margin-right</span>:-<span class="number">3px</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vcontrol</span>&#123;    <span class="attribute">position</span>:absolute;<span class="attribute">right</span>:<span class="number">0</span>;<span class="attribute">bottom</span>:<span class="number">0</span>;<span class="attribute">width</span>:<span class="number">20%</span>;<span class="attribute">padding-top</span>:<span class="number">0px</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vcontrol</span> <span class="selector-class">.col</span><span class="selector-class">.col-80</span>&#123;<span class="attribute">width</span>: <span class="number">100%</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vbtn</span><span class="selector-class">.vsubmit</span>&#123;<span class="attribute">border-radius</span>: <span class="number">0</span>;<span class="attribute">padding</span>: <span class="number">0</span>;<span class="attribute">color</span>: <span class="number">#fff</span>;<span class="attribute">line-height</span>: <span class="number">44px</span>;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">border</span>: none;<span class="attribute">background</span>:<span class="number">#1abc9c</span>;&#125;<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vedit</span> <span class="selector-class">.vctrl</span> <span class="selector-tag">span</span><span class="selector-class">.vpreview-btn</span>,<span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vcontrol</span> <span class="selector-class">.col</span><span class="selector-class">.col-20</span>,<span class="selector-class">.v</span> <span class="selector-class">.vlist</span> <span class="selector-class">.vcard</span> <span class="selector-class">.vhead</span> <span class="selector-class">.vsys</span>&#123;<span class="attribute">display</span>:none;&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">520px</span>)&#123;</span><br><span class="line"><span class="selector-class">.v</span> <span class="selector-class">.vwrap</span> <span class="selector-class">.vheader</span> <span class="selector-class">.vinput</span>&#123;<span class="attribute">width</span>: <span class="number">33.33%</span>;<span class="attribute">padding</span>:<span class="number">10px</span> <span class="number">5px</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.jinrishici.com/&quot;&gt;今日诗词&lt;/a&gt;：一个可以随机返回一句古诗词名句的接口，可用来做 Valine 的 placeholder 显示内容&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Valine" scheme="https://qzkyl.ml/tags/Valine/"/>
    
    <category term="leancloud" scheme="https://qzkyl.ml/tags/leancloud/"/>
    
  </entry>
  
  <entry>
    <title>Android网易云音乐灰色歌曲解锁工具</title>
    <link href="https://qzkyl.ml/posts/21671.html"/>
    <id>https://qzkyl.ml/posts/21671.html</id>
    <published>2020-04-09T00:52:27.000Z</published>
    <updated>2020-04-09T00:52:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>PC版本出了这么久，当然也不能少了我大安卓用户群体</p><p>安卓实现解锁的方法也是和PC版本一样，都是使用 <a href="https://github.com/nondanee/UnblockNeteaseMusic">@nondanee</a> 的开源项目实现的</p><p>制作本模块，主要是为不使用xposed的用户</p><p>最后更新于：20200606</p><h1 id="使用前提"><a href="#使用前提" class="headerlink" title="使用前提"></a>使用前提</h1><ul><li>已安装magisk的手机</li><li>已安装网易云音乐app</li><li>未使用类似的解锁软件</li></ul><h1 id="安装教程"><a href="#安装教程" class="headerlink" title="安装教程"></a>安装教程</h1><ol><li><p>打开magisk，刷入本magisk模块</p></li><li><p>选择运行模式</p><div class="tabs" id="mode"><ul class="nav-tabs"><li class="tab"><button type="button" data-href="#mode-1">本地模式(推荐)</button></li><li class="tab active"><button type="button" data-href="#mode-2">服务器模式(不推荐)</button></li></ul><div class="tab-contents"><div class="tab-item-content" id="mode-1"><p>使用本地模式，刷入后重启手机，日志文件位于:<code>/sdcard/abbw_Unlock163music.log</code><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200429192304.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/20200429192304.png"></p><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="iconfont icon-top1"></i></button></div><div class="tab-item-content active" id="mode-2"><p>使用服务器模式，确保自己拥有共享的IP地址，否则请使用本地模式<br>如需自定义服务器，需要先在<code>/sdcard/</code>下新建 <code>abbw_Unlock163music.ini</code>文件，第一行填<code>http ip</code>，第二行填<code>https ip</code>，然后再刷入本模块<br>举个例子，不要照搬，不要照搬，不要照搬</p><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">110.110.110.110:80</span></span><br><span class="line"><span class="number">110.110.110.110:443</span></span><br></pre></td></tr></table></figure><button type="button" class="tab-to-top" aria-label="scroll to top"><i class="iconfont icon-top1"></i></button></div></div></div></li><li><p>重启手机即可</p></li></ol><h1 id="解锁效果"><a href="#解锁效果" class="headerlink" title="解锁效果"></a>解锁效果</h1><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/92463493edbf333d.jpg" alt="周杰伦的歌都能听了" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/92463493edbf333d.jpg" class="lozad post-image"></p><details ><summary> <p>下载地址</p> </summary>              <div class='content'>              <p>已测试支持版本：7.0.10，7.1.0，其它版本理论上也是支持的，自行测试</p><p>最新20200606：<a href="https://wwe.lanzous.com/i2QXPdxje9i">2合1网易云灰色歌曲解锁.zip</a></p>              </div>            </details><details ><summary> <p>常见问题解答</p> </summary>              <div class='content'>              <p>Q1：一直提示“网络异常，请重试”或者“加载失败，请点击重试。code：2，error：conn”<br>A1：禁用一切相关网易云操作的插件，并尝试更换网易云音乐app版本</p><p>Q2：提示错误“Error: connect ECONNREFUSED 59.111.21.13:443”<br>A2：网络连接失败，尝试换到正常的网络</p><p>Q3：如何检测是否正常运行？<br>A3：打开日志文件 <code>/sdcard/abbw_Unlock163music.log</code>，显示<code>已正常运行，正在解锁灰色歌曲</code>即表示成功运行</p><p>Q4：提示无版权，只能播放30秒或者歌曲匹配错误等<br>A4：原理为使用其他音频网站的音源替换无版权歌曲音源，可能会出现不匹配或者只有128kbps的情况，若为网易云独家版权则可能无法播放，暂无解</p>              </div>            </details><p>另外，我的magisk模板已公开：<a href="https://github.com/abbw/magisk-module-template">https://github.com/abbw/magisk-module-template</a></p><p>支持按键检测，自动更新模块~</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;PC版本出了这么久，当然也不能少了我大安卓用户群体&lt;/p&gt;
&lt;p&gt;安卓实现解锁的方法也是和PC版本一样，都是使用 &lt;a href=&quot;https://github.com/nondanee/UnblockNeteaseMusic&quot;&gt;@nondanee&lt;/a&gt; 的开源项目实现的</summary>
      
    
    
    
    <category term="Android" scheme="https://qzkyl.ml/categories/Android/"/>
    
    
    <category term="magisk" scheme="https://qzkyl.ml/tags/magisk/"/>
    
  </entry>
  
  <entry>
    <title>linux一键安装求生之路2服务端脚本</title>
    <link href="https://qzkyl.ml/posts/53484.html"/>
    <id>https://qzkyl.ml/posts/53484.html</id>
    <published>2020-04-08T05:47:36.000Z</published>
    <updated>2020-04-08T05:47:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>总是看到群友询问怎么用linux搭建server，我不会命令怎么办</p><p>于是乎，它诞生了，这是第一版，希望能有第二版</p><p>本项目地址：<a href="https://github.com/abbw/l4d2_server">https://github.com/abbw/l4d2_server</a></p><p>主要还是闲得没事做，也算是给自己的童年留下句号</p><h1 id="主要功能"><a href="#主要功能" class="headerlink" title="主要功能"></a>主要功能</h1><ul><li>自动安装所需支持库</li><li>自动安装steamcmd</li><li>自动安装l4d2服务端</li></ul><h1 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h1><p>已测试</p><ul><li>支持的操作系统：CentOS 7-8、Ubuntu 16-18</li><li>操作系统要求64位</li></ul><p><strong>虽然以上系统经过了基本测试，但不排除可能存着某些特殊情况无法安装，如有问题，请留言反馈</strong></p><h1 id="安装l4d2-server"><a href="#安装l4d2-server" class="headerlink" title="安装l4d2_server"></a>安装l4d2_server</h1><p>一键安装脚本（使用root用户）：</p><p>强烈使用screen运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/abbw/l4d2_server/master/l4d2_server.sh &amp;&amp; bash l4d2_server.sh</span><br></pre></td></tr></table></figure><h1 id="脚本截图"><a href="#脚本截图" class="headerlink" title="脚本截图"></a>脚本截图</h1><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8388bffdf51fffc1.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8388bffdf51fffc1.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;总是看到群友询问怎么用linux搭建server，我不会命令怎么办&lt;/p&gt;
&lt;p&gt;于是乎，它诞生了，这是第一版，希望能有第二版&lt;/p&gt;
&lt;p&gt;本项目地址：&lt;a href=&quot;https://github.com/abbw/l4d2_server&quot;&gt;https://github</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="Linux脚本" scheme="https://qzkyl.ml/tags/Linux%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>从零开始免root在安卓手机上部署hexo博客程序</title>
    <link href="https://qzkyl.ml/posts/28947.html"/>
    <id>https://qzkyl.ml/posts/28947.html</id>
    <published>2020-04-07T02:21:36.000Z</published>
    <updated>2020-04-07T02:21:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>此篇文章教程，一切重零开始，以便用于各类手机</p><p>安装必备工具：<a href="https://f-droid.org/en/packages/com.termux">点我下载最新Termux</a></p><p>版本随意，推荐最新，本文使用的是0.92</p><details ><summary> <p>首次使用termux，请点击</p> </summary>              <div class='content'>              <p>依次输入以下命令</p><p>1.更换清华源，提升下载速度</p><p><code>sed -i &#39;s@^\(deb.*stable main\)$@#\1\ndeb https://mirrors.tuna.tsinghua.edu.cn/termux stable main@&#39; $PREFIX/etc/apt/sources.list &amp;&amp; apt update &amp;&amp; apt upgrade</code></p><p>2.添加双行键盘，方便后续操作</p><figure class="highlight csp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir $HOME/.termux</span><br><span class="line">echo &quot;extra-keys = [[<span class="string">&#x27;ESC&#x27;</span>,<span class="string">&#x27;/&#x27;</span>,<span class="string">&#x27;-&#x27;</span>,<span class="string">&#x27;HOME&#x27;</span>,<span class="string">&#x27;UP&#x27;</span>,<span class="string">&#x27;END&#x27;</span>,<span class="string">&#x27;PGUP&#x27;</span>],[<span class="string">&#x27;TAB&#x27;</span>,<span class="string">&#x27;CTRL&#x27;</span>,<span class="string">&#x27;ALT&#x27;</span>,<span class="string">&#x27;LEFT&#x27;</span>,<span class="string">&#x27;DOWN&#x27;</span>,<span class="string">&#x27;RIGHT&#x27;</span>,<span class="string">&#x27;PGDN&#x27;</span>]]&quot; &gt;&gt; $HOME/.termux/termux.properties</span><br></pre></td></tr></table></figure>              </div>            </details><p>接下来，这才是需要认真看的</p><p>部署hexo正题，请一步一步按教程来，当然你学有所成，可以用自己的方法</p><hr><h1 id="安装-nodejs"><a href="#安装-nodejs" class="headerlink" title="安装 nodejs"></a>安装 nodejs</h1><p>最新的是13.0，但由于npm不支持该版本，所以使用12.16</p><p><code>pkg install -y nodejs-lts</code></p><details ><summary> <p>如何确认是否安装成功</p> </summary>              <div class='content'>              <p><code>node -v</code></p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/IMG_20200407_102136.jpg" alt="显示版本号则安装成功" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/IMG_20200407_102136.jpg" class="lozad post-image"></p>              </div>            </details><hr><h1 id="安装-git"><a href="#安装-git" class="headerlink" title="安装 git"></a>安装 git</h1><p><code>pkg install -y git</code></p><details ><summary> <p>如何确认是否安装成功</p> </summary>              <div class='content'>              <p><code>git version</code></p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/IMG_20200407_102628.jpg" alt="显示版本号则安装成功" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/IMG_20200407_102628.jpg" class="lozad post-image"></p>              </div>            </details><hr><h1 id="安装-hexo"><a href="#安装-hexo" class="headerlink" title="安装 hexo"></a>安装 hexo</h1><p>将npm源切换到淘宝源，提升下载速度</p><p><code>npm config set registry https://registry.npm.taobao.org</code></p><p><code>npm install -g hexo-cli</code></p><details ><summary> <p>如何确认是否安装成功</p> </summary>              <div class='content'>              <p><code>hexo version</code></p><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/IMG_20200407_103351.jpg" alt="显示版本号则安装成功" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/IMG_20200407_103351.jpg" class="lozad post-image"></p>              </div>            </details><hr><h1 id="搭建网站"><a href="#搭建网站" class="headerlink" title="搭建网站"></a>搭建网站</h1><p>安装 Hexo 完成后，执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件</p><p>这里我使用 blog 目录</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"></span>hexo init <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"></span>cd <span class="keyword">blog</span></span><br><span class="line"><span class="keyword"></span>npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure><p>到这里，正常情况下，你的博客已经可以启动了</p><hr><h1 id="启动网站"><a href="#启动网站" class="headerlink" title="启动网站"></a>启动网站</h1><p><code>hexo clean &amp;&amp; hexo s</code></p><p>启动后，默认情况下，访问网址为：</p><p><a href="http://localhost:4000/">http://localhost:4000/</a></p><hr><h1 id="在内部储存里操作-hexo-目录文件"><a href="#在内部储存里操作-hexo-目录文件" class="headerlink" title="在内部储存里操作 hexo 目录文件"></a>在内部储存里操作 hexo 目录文件</h1><p>如果你想在内部储存下操作 hexo 目录，那么你就需要这步骤了</p><p>首先复制 hexo 目录所有文件到 内部储存</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">termux-setup-storage</span><br><span class="line">cp -rv ~<span class="regexp">/blog ~/</span>storage<span class="regexp">/shared/</span>blog</span><br></pre></td></tr></table></figure><p>接着，你就可以在 内部储存&#x2F;blog 修改任何文件了</p><details ><summary> <p>内部储存操作注意事项</p> </summary>              <div class='content'>              <p>如果要启动网站，则需要进入该文件夹</p><p><code>cd ~/storage/shared/blog/</code></p><p>再执行</p><p><code>hexo clean &amp;&amp; hexo s</code></p>              </div>            </details><hr><p>搭建hexo教程，到此结束，如有疑问评论区我会一一解答</p><p>搭建后，如需给外网访问，可以参考博主的相关文章，比如部署到gitee，github，coding等</p><p>也可以单纯使用内网穿透，我就不一一细说了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;此篇文章教程，一切重零开始，以便用于各类手机&lt;/p&gt;
&lt;p&gt;安装必备工具：&lt;a href=&quot;https://f-droid.org/en/packages/com.termux&quot;&gt;点我下载最新Termux&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;版本随意，推荐最新，本文使用的是0.92&lt;/p</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>HTML + CSS 实现 GitHub 项目标签、徽章样式</title>
    <link href="https://qzkyl.ml/posts/25809.html"/>
    <id>https://qzkyl.ml/posts/25809.html</id>
    <published>2020-04-04T04:04:17.000Z</published>
    <updated>2020-04-04T04:04:17.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>经常会在GitHub上项目介绍的README.md文件中看到许多漂亮的标签，这些标签可以显示version、stars、license等信息，其实我们也可以通过 HTML + CSS 来实现</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.github-badge</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">text-shadow</span>: none;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#ABBAC3</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.badge-subject</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#4D4D4D</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">4px</span> <span class="number">4px</span> <span class="number">6px</span>;</span><br><span class="line">  <span class="attribute">border-top-left-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.badge-value</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">4px</span> <span class="number">6px</span> <span class="number">4px</span> <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-top-right-radius</span>: <span class="number">4px</span>;</span><br><span class="line">  <span class="attribute">border-bottom-right-radius</span>: <span class="number">4px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-brightgreen</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#4DC820</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-orange</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#FFA500</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-yellow</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#D8B024</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-blueviolet</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#8833D7</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-pink</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#F26BAE</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-red</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#e05d44</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-blue</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#007EC6</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.github-badge</span> <span class="selector-class">.bg-grey</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#9F9F9F</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span>Powered<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-blue&quot;</span>&gt;</span>Hexo<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span>Hosted<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-brightgreen&quot;</span>&gt;</span>GitHub<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span>DNR<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-firebrick&quot;</span>&gt;</span>Aliyun<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span>CDN<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-orange&quot;</span>&gt;</span>jsDelivr<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span>PictureBed<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-blueviolet&quot;</span>&gt;</span>SM.MS<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span>Theme<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-blue&quot;</span>&gt;</span>Material X<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;github-badge&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-subject&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-copyright&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;badge-value bg-grey&quot;</span>&gt;</span>BY-NC-SA 4.0<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;经常会在GitHub上项目介绍的README.md文件中看到许多漂亮的标签，这些标签可以显示version、stars、license等信息，其实我们也可以通过 HTML + CSS 来实现&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure cl</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="HTML" scheme="https://qzkyl.ml/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>重大日子里让整个网站网页变灰方法&amp;&amp;网站自动变灰</title>
    <link href="https://qzkyl.ml/posts/14234.html"/>
    <id>https://qzkyl.ml/posts/14234.html</id>
    <published>2020-04-04T04:04:17.000Z</published>
    <updated>2020-04-04T04:04:17.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>一般在公祭日或一些影响力很大的伟人逝世或纪念日，作为站长会将网站全站页面变成灰色，以表示我们对逝者的悼念。那今天讲讲几种让网站全站变灰的方法</p></blockquote><p>1、修改CSS，无论是修改CSS文件，还是HTML内部写都可以</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-tag">html</span> &#123;</span></span><br><span class="line"><span class="language-css"><span class="attribute">filter</span>: progid:DXImageTransform.Microsoft.<span class="built_in">BasicImage</span>(grayscale=<span class="number">1</span>);</span></span><br><span class="line"><span class="language-css">-webkit-<span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>);&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> *&#123;</span><br><span class="line">-webkit-<span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>); <span class="comment">/* webkit */</span></span><br><span class="line">-moz-<span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>); <span class="comment">/*firefox*/</span></span><br><span class="line">-ms-<span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>); <span class="comment">/*ie9*/</span></span><br><span class="line">-o-<span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>); <span class="comment">/*opera*/</span></span><br><span class="line"><span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">100%</span>);</span><br><span class="line"><span class="attribute">filter</span>:progid:DXImageTransform.Microsoft.<span class="built_in">BasicImage</span>(grayscale=<span class="number">1</span>);</span><br><span class="line"><span class="attribute">filter</span>:gray; <span class="comment">/*ie9- */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、HTML内嵌</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;html <span class="attribute">style</span>=<span class="string">&quot;filter: progid:DXImageTransform.Microsoft.BasicImage(grayscale=1);</span></span><br><span class="line"><span class="string">-webkit-filter: grayscale(100%);&quot;</span>&gt;</span><br></pre></td></tr></table></figure><p>3、JS定期自动变灰</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/jquery/3.4.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> myDate = <span class="keyword">new</span> <span class="title class_">Date</span>;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> mon = myDate.<span class="title function_">getMonth</span>() + <span class="number">1</span>; <span class="comment">//获取当前月</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> date = myDate.<span class="title function_">getDate</span>(); <span class="comment">//获取当前日</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> days=[<span class="string">&#x27;4.4&#x27;</span>,<span class="string">&#x27;5.12&#x27;</span>,<span class="string">&#x27;7.7&#x27;</span>,<span class="string">&#x27;9.18&#x27;</span>,<span class="string">&#x27;12.13&#x27;</span>]; <span class="comment">//在这里自定义日期</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">for</span> (<span class="keyword">var</span> day <span class="keyword">of</span> days) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> d=day.<span class="title function_">split</span>(<span class="string">&#x27;.&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">if</span> (mon == d[<span class="number">0</span>] &amp;&amp; date == d[<span class="number">1</span>]) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">var</span> gray=<span class="string">&#x27;grayscale(100%)&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">            $(<span class="string">&quot;html,body&quot;</span>).<span class="title function_">css</span>(&#123;<span class="string">&quot;filter&quot;</span>:<span class="string">&#x27;gray !important;&#x27;</span>,<span class="string">&quot;filter&quot;</span>:<span class="string">&quot;progid:DXImageTransform.Microsoft.BasicImage(grayscale=1)&quot;</span>,<span class="string">&quot;filter&quot;</span>:gray,<span class="string">&quot;-webkit-filter&quot;</span>:gray,<span class="string">&#x27;-moz-filter&#x27;</span>:gray,<span class="string">&#x27;-ms-filter&#x27;</span>:gray,<span class="string">&#x27;-o-filter&#x27;</span>:gray&#125;);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">break</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;一般在公祭日或一些影响力很大的伟人逝世或纪念日，作为站长会将网站全站页面变成灰色，以表示我们对逝者的悼念。那今天讲讲几种让网站全站变灰的方法&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;1、修改CSS，无论是修改CSS文件，还是HTML内部写都可以&lt;</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
    <category term="HTML" scheme="https://qzkyl.ml/tags/HTML/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客优化之博客美化系列</title>
    <link href="https://qzkyl.ml/posts/65176.html"/>
    <id>https://qzkyl.ml/posts/65176.html</id>
    <published>2020-03-26T07:38:36.000Z</published>
    <updated>2020-03-26T07:38:36.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>不同主题可能方法有些不同，相同主题不同版本，配置方法也有所差异！阅读主题文档非常重要<br>有一定的前端基础，了解 HTML、CSS、JS，了解 CSS 预处理语言 Sass、Less、Stylus，搞懂 hexo 的目录结构<br>选定主题，认真阅读主题文档，分析主题目录结构，了解每个文件是对应网页哪个部分的，认真阅读美化教程，美化教程本质上只为你提供核心代码和思路，具体代码要添加到哪个地方，需要你自己搞懂主题结构，添加到需要的、合适的位置</p></blockquote><h1 id="添加卡通人物（看板娘）"><a href="#添加卡通人物（看板娘）" class="headerlink" title="添加卡通人物（看板娘）"></a>添加卡通人物（看板娘）</h1><p>发现好多博客的右下角居然有一个萌萌的卡通人物，还能根据你鼠标位置摇头，是不是也想为自己主题添加呢</p><p>该项目地址<a href="https://github.com/EYHN/hexo-helper-live2d">https://github.com/EYHN/hexo-helper-live2d</a></p><p>也可以安装官方提供的插件</p><p><code>npm install --save hexo-helper-live2d</code></p><p>输入以下命令，下载相应的模型，将<code>packagename</code>更换成模型名称即可，更多模型选择请<a href="https://github.com/xiazeyu/live2d-widget-models">点击此处</a>，各个模型的预览请访问原作者的博客</p><p>打开站点目录下的 _config.yml 文件，添加如下代码</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">    <span class="attr">model:</span> </span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-haruto</span> <span class="comment">#模型选择</span></span><br><span class="line">    <span class="attr">display:</span> </span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span>  <span class="comment">#模型位置</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">150</span>       <span class="comment">#模型宽度</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">300</span>      <span class="comment">#模型高度</span></span><br><span class="line">    <span class="attr">mobile:</span> </span><br><span class="line">    <span class="attr">show:</span> <span class="literal">false</span>      <span class="comment">#是否在手机端显示</span></span><br></pre></td></tr></table></figure><p>设置好过后我们就拥有了一个卡通人物</p><h1 id="添加鼠标点击爱心效果"><a href="#添加鼠标点击爱心效果" class="headerlink" title="添加鼠标点击爱心效果"></a>添加鼠标点击爱心效果</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/click_love.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="添加鼠标点击显示字体效果"><a href="#添加鼠标点击显示字体效果" class="headerlink" title="添加鼠标点击显示字体效果"></a>添加鼠标点击显示字体效果</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/jquery/3.4.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/click_text.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="添加鼠标点击烟花爆炸效果"><a href="#添加鼠标点击烟花爆炸效果" class="headerlink" title="添加鼠标点击烟花爆炸效果"></a>添加鼠标点击烟花爆炸效果</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;fireworks&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/animejs/2.2.0/anime.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/fireworks.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="添加彩色滚动变换字体"><a href="#添加彩色滚动变换字体" class="headerlink" title="添加彩色滚动变换字体"></a>添加彩色滚动变换字体</h1><p>在你想要添加彩色滚动变换字体的地方写入以下代码即可，其中文字可自行更改</p><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;binft&quot;</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> binft = <span class="keyword">function</span> (<span class="params">r</span>) &#123;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">t</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> b[Math.<span class="built_in">floor</span>(Math.<span class="built_in">random</span>() * b.<span class="built_in">length</span>)]</span><br><span class="line">      &#125;  </span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">e</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> String.<span class="built_in">fromCharCode</span>(<span class="number">94</span> * Math.<span class="built_in">random</span>() + <span class="number">33</span>)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">n</span>(<span class="params">r</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> n = document.createDocumentFragment(), i = <span class="number">0</span>; r &gt; i; i++) &#123;</span><br><span class="line">          <span class="keyword">var</span> l = document.createElement(<span class="string">&quot;span&quot;</span>);</span><br><span class="line">          l.textContent = e(), l.style.color = t(), n.appendChild(l)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> n</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">i</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> t = o[c.skillI];</span><br><span class="line">        c.step ? c.step-- : (c.step = g, c.prefixP &lt; l.<span class="built_in">length</span> ? (c.prefixP &gt;= <span class="number">0</span> &amp;&amp; (c.<span class="built_in">text</span> += l[c.prefixP]), c.prefixP++) : <span class="string">&quot;forward&quot;</span> === c.direction ? c.skillP &lt; t.<span class="built_in">length</span> ? (c.<span class="built_in">text</span> += t[c.skillP], c.skillP++) : c.delay ? c.delay-- : (c.direction = <span class="string">&quot;backward&quot;</span>, c.delay = a) : c.skillP &gt; <span class="number">0</span> ? (c.<span class="built_in">text</span> = c.<span class="built_in">text</span>.<span class="built_in">slice</span>(<span class="number">0</span>, <span class="number">-1</span>), c.skillP--) : (c.skillI = (c.skillI + <span class="number">1</span>) % o.<span class="built_in">length</span>, c.direction = <span class="string">&quot;forward&quot;</span>)), r.textContent = c.<span class="built_in">text</span>, r.appendChild(n(c.prefixP &lt; l.<span class="built_in">length</span> ? Math.<span class="built_in">min</span>(s, s + c.prefixP) : Math.<span class="built_in">min</span>(s, t.<span class="built_in">length</span> - c.skillP))), setTimeout(i, d)</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> l = <span class="string">&quot;&quot;</span>,</span><br><span class="line">      o = [<span class="string">&quot;青青陵上柏，磊磊涧中石。&quot;</span>, <span class="string">&quot;人生天地间，忽如远行客。&quot;</span>,<span class="string">&quot;斗酒相娱乐，聊厚不为薄。&quot;</span>, <span class="string">&quot;驱车策驽马，游戏宛与洛。&quot;</span>,<span class="string">&quot;洛中何郁郁，冠带自相索。&quot;</span>,<span class="string">&quot;长衢罗夹巷，王侯多第宅。&quot;</span>,<span class="string">&quot;两宫遥相望，双阙百余尺。&quot;</span>,<span class="string">&quot;极宴娱心意，戚戚何所迫？&quot;</span>].<span class="built_in">map</span>(<span class="keyword">function</span> (<span class="params">r</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> r + <span class="string">&quot;&quot;</span></span><br><span class="line">      &#125;),</span><br><span class="line">      a = <span class="number">2</span>,</span><br><span class="line">      g = <span class="number">1</span>,</span><br><span class="line">      s = <span class="number">5</span>,</span><br><span class="line">      d = <span class="number">75</span>,</span><br><span class="line">      b = [<span class="string">&quot;rgb(110,64,170)&quot;</span>, <span class="string">&quot;rgb(150,61,179)&quot;</span>, <span class="string">&quot;rgb(191,60,175)&quot;</span>, <span class="string">&quot;rgb(228,65,157)&quot;</span>, <span class="string">&quot;rgb(254,75,131)&quot;</span>, <span class="string">&quot;rgb(255,94,99)&quot;</span>, <span class="string">&quot;rgb(255,120,71)&quot;</span>, <span class="string">&quot;rgb(251,150,51)&quot;</span>, <span class="string">&quot;rgb(226,183,47)&quot;</span>, <span class="string">&quot;rgb(198,214,60)&quot;</span>, <span class="string">&quot;rgb(175,240,91)&quot;</span>, <span class="string">&quot;rgb(127,246,88)&quot;</span>, <span class="string">&quot;rgb(82,246,103)&quot;</span>, <span class="string">&quot;rgb(48,239,130)&quot;</span>, <span class="string">&quot;rgb(29,223,163)&quot;</span>, <span class="string">&quot;rgb(26,199,194)&quot;</span>, <span class="string">&quot;rgb(35,171,216)&quot;</span>, <span class="string">&quot;rgb(54,140,225)&quot;</span>, <span class="string">&quot;rgb(76,110,219)&quot;</span>, <span class="string">&quot;rgb(96,84,200)&quot;</span>],</span><br><span class="line">      c = &#123;</span><br><span class="line">        <span class="attr">text</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="attr">prefixP</span>: -s,</span><br><span class="line">        <span class="attr">skillI</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">skillP</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">direction</span>: <span class="string">&quot;forward&quot;</span>,</span><br><span class="line">        <span class="attr">delay</span>: a,</span><br><span class="line">        <span class="attr">step</span>: g</span><br><span class="line">      &#125;;</span><br><span class="line">      i()</span><br><span class="line">      &#125;;</span><br><span class="line">      binft(document.getElementById(<span class="string">&#x27;binft&#x27;</span>));</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><h1 id="浏览器网页标题恶搞"><a href="#浏览器网页标题恶搞" class="headerlink" title="浏览器网页标题恶搞"></a>浏览器网页标题恶搞</h1><p>首先在目录 \themes\主题目录\source\js 下新建一个 FunnyTitle.js 文件，在里面填写如下代码</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">OriginTitle</span> = <span class="variable language_">document</span>.<span class="property">title</span>;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">hidden</span>) &#123;</span><br><span class="line">        $(<span class="string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>, <span class="string">&quot;/funny.ico&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;╭(°A°`)╮ 页面崩溃啦 ~&#x27;</span>;</span><br><span class="line">        <span class="built_in">clearTimeout</span>(titleTime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="title function_">attr</span>(<span class="string">&#x27;href&#x27;</span>, <span class="string">&quot;/favicon.ico&quot;</span>);</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;(ฅ&gt;ω&lt;*ฅ) 噫又好啦 ~&#x27;</span> + <span class="title class_">OriginTitle</span>;</span><br><span class="line">        titleTime = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">title</span> = <span class="title class_">OriginTitle</span>;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>其中 funny.ico 是用户切换到其他标签后你网站的图标，favicon.ico 是正常图标，然后在 \themes\主题目录\layout\layout.ejs 文件中添加如下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/FunnyTitle.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="背景添加动态线条效果"><a href="#背景添加动态线条效果" class="headerlink" title="背景添加动态线条效果"></a>背景添加动态线条效果</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script async <span class="attribute">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/canvas-nest.min.js&quot;</span> <span class="attribute">color</span>=<span class="string">&quot;0,0,255&quot;</span> <span class="attribute">opacity</span>=<span class="string">&#x27;0.5&#x27;</span> <span class="attribute">zIndex</span>=<span class="string">&quot;-2&quot;</span> <span class="attribute">count</span>=<span class="string">&quot;200&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>color：表示线条颜色，三个数字分别为(R,G,B)，默认：（0,0,0）</li><li>opacity：表示线条透明度（0~1），默认：0.5</li><li>count：表示线条的总数量，默认：150</li><li>zIndex：表示背景的z-index属性，css属性用于控制所在层的位置，默认：-1</li></ul><h1 id="添加人体时钟等有趣的挂件"><a href="#添加人体时钟等有趣的挂件" class="headerlink" title="添加人体时钟等有趣的挂件"></a>添加人体时钟等有趣的挂件</h1><p>无意中发现了个有趣的人体时钟 HONE HONE CLOCK，作者是个日本人，点击此处访问作者博客，点击此处在作者原博客上查看动态样式，点击此处查看动态大图，如果你的博客上有合适的地方，加上一个人体时钟会很有趣的</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMTkvMDMvMzEvNWM5Zjk5YTg3NWVlNS5wbmc" class="lozad post-image"src="https://imgconvert.csdnimg.cn/aHR0cHM6Ly9pLmxvbGkubmV0LzIwMTkvMDMvMzEvNWM5Zjk5YTg3NWVlNS5wbmc"></p><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--人体时钟背景透明--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">&quot;Shift_JIS&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://chabudai.sakura.ne.jp/blogparts/honehoneclock/honehone_clock_tr.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--人体时钟背景白--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">&quot;Shift_JIS&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://chabudai.sakura.ne.jp/blogparts/honehoneclock/honehone_clock_wh.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="添加网站雪花飘落效果"><a href="#添加网站雪花飘落效果" class="headerlink" title="添加网站雪花飘落效果"></a>添加网站雪花飘落效果</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--样式一--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/jquery/3.4.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/snow.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--样式二--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/jquery/3.4.1/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/snow2.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="添加背景动态彩带效果"><a href="#添加背景动态彩带效果" class="headerlink" title="添加背景动态彩带效果"></a>添加背景动态彩带效果</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 样式一（鼠标点击更换样式）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/Ribbon.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 样式二（飘动的彩带）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/Ribbon2.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="添加背景代码雨特效"><a href="#添加背景代码雨特效" class="headerlink" title="添加背景代码雨特效"></a>添加背景代码雨特效</h1><p>在 \themes\主题目录\layout\layout.ejs 文件末尾添加以下代码</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;link <span class="attribute">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attribute">href</span>=<span class="string">&quot;//abbw.gitee.io/asset/css/DigitalRain.css&quot;</span>&gt;</span><br><span class="line">&lt;script <span class="attribute">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attribute">src</span>=<span class="string">&quot;//abbw.gitee.io/asset/js/DigitalRain.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>部分代码收集于网络，仅供参考学习</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;不同主题可能方法有些不同，相同主题不同版本，配置方法也有所差异！阅读主题文档非常重要&lt;br&gt;有一定的前端基础，了解 HTML、CSS、JS，了解 CSS 预处理语言 Sass、Less、Stylus，搞懂 hexo 的目录结构&lt;br&gt;选定主题，认真</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
  </entry>
  
  <entry>
    <title>在linux中安装Beyond Compare 4破解版</title>
    <link href="https://qzkyl.ml/posts/61161.html"/>
    <id>https://qzkyl.ml/posts/61161.html</id>
    <published>2020-03-26T06:43:10.000Z</published>
    <updated>2020-03-26T06:43:10.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Beyond Compare是一款功能强大的文件对比工具，是程序员的最爱，能够使用简单，功能强大的命令比较文件和文件夹，这些命令专注于用户感兴趣的差异，并忽略那些不感兴趣的差异。合并更改，同步文件并且生成报告。Beyond Compare 还适用于各种数据类型的内置比较查看器。除了文本，还可以比较表格，图像，二进制文件，注册表配置单元等</p></blockquote><p>1.官网下载最新版 Beyond Compare 4 并安装</p><p><a href="http://www.scootersoftware.com/download.php">Beyond Compare 4</a></p><p>或者使用命令进行安装</p><p><code>sudo apt install -i bcompare-4.2.3.22587_amd64.deb</code></p><p>如果报错“依赖关系问题 - 仍未被配置” 使用如下命令</p><p><code>sudo apt-get install -f</code></p><p>等分析完之后重新执行安装命令</p><details ><summary> <p>点我查看破解方法</p> </summary>              <div class='content'>              <p>2.开始破解</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd <span class="regexp">/usr/</span>lib<span class="regexp">/beyondcompare/</span></span><br><span class="line">sudo sed -i <span class="string">&quot;s/keexjEP3t4Mue23hrnuPtY4TdcsqNiJL-5174TsUdLmJSIXKfG2NGPwBL6vnRPddT7tH29qpkneX63DO9ECSPE9rzY1zhThHERg8lHM9IBFT+rVuiY823aQJuqzxCKIE1bcDqM4wgW01FH6oCBP1G4ub01xmb4BGSUG6ZrjxWHJyNLyIlGvOhoY2HAYzEtzYGwxFZn2JZ66o4RONkXjX0DF9EzsdUef3UAS+JQ+fCYReLawdjEe6tXCv88GKaaPKWxCeaUL9PejICQgRQOLGOZtZQkLgAelrOtehxz5ANOOqCaJgy2mJLQVLM5SJ9Dli909c5ybvEhVmIC0dc9dWH+/N9KmiLVlKMU7RJqnE+WXEEPI1SgglmfmLc1yVH7dqBb9ehOoKG9UE+HAE1YvH1XX2XVGeEqYUY-Tsk7YBTz0WpSpoYyPgx6Iki5KLtQ5G-aKP9eysnkuOAkrvHU8bLbGtZteGwJarev03PhfCioJL4OSqsmQGEvDbHFEbNl1qJtdwEriR+VNZts9vNNLk7UGfeNwIiqpxjk4Mn09nmSd8FhM4ifvcaIbNCRoMPGl6KU12iseSe+w+1kFsLhX+OhQM8WXcWV10cGqBzQE9OqOLUcg9n0krrR3KrohstS9smTwEx9olyLYppvC0p5i7dAx2deWvM1ZxKNs0BvcXGukR+/g&quot;</span> BCompare</span><br></pre></td></tr></table></figure><p>3.此时BCompare文件已被破解，打开软件会提示“Trial Mode Error！”表示成功，输入下面TEAM ZWT生成的密钥即可注册成功</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">---</span> <span class="comment">BEGIN LICENSE KEY</span> <span class="literal">---</span></span><br><span class="line"><span class="comment">GXN1eh9FbDiX1ACdd7XKMV7hL7x0ClBJLUJ</span><span class="literal">-</span><span class="comment">zFfKofjaj2yxE53xauIfkqZ8FoLpcZ0Ux6McTyNmODDSvSIHLYhg1QkTxjCeSCk6ARz0ABJcnUmd3dZYJNWFyJun14rmGByRnVPL49QH</span><span class="literal">+</span><span class="comment">Rs0kjRGKCB</span><span class="literal">-</span><span class="comment">cb8IT4Gf0Ue9WMQ1A6t31MO9jmjoYUeoUmbeAQSofvuK8GN1rLRv7WXfUJ0uyvYlGLqzq1ZoJAJDyo0Kdr4ThF</span><span class="literal">-</span><span class="comment">IXcv2cxVyWVW1SaMq8GFosDEGThnY7C</span><span class="literal">-</span><span class="comment">SgNXW30jqAOgiRjKKRX9RuNeDMFqgP2cuf0NMvyMrMScnM1ZyiAaJJtzbxqN5hZOMClUTE</span><span class="literal">+++</span></span><br><span class="line"><span class="literal">---</span> <span class="comment">END LICENSE KEY</span> <span class="literal">-----</span></span><br></pre></td></tr></table></figure><p>4.成功后在目录~&#x2F;.config&#x2F;bcompare&#x2F;下会生成文件BC4Key.txt，如下</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Beyond</span> <span class="string">Compare</span> <span class="number">4</span></span><br><span class="line"><span class="attr">Licensed to:</span>    <span class="string">pwelyn</span></span><br><span class="line"><span class="attr">Quantity:</span>       <span class="number">9999 </span><span class="string">users</span></span><br><span class="line"><span class="attr">Serial number:</span>  <span class="number">9571</span><span class="number">-9981</span></span><br><span class="line"><span class="attr">License type:</span>   <span class="string">Pro</span> <span class="string">Edition</span> <span class="string">for</span> <span class="string">Windows/Linux/OS</span> <span class="string">X</span></span><br><span class="line"></span><br><span class="line"><span class="string">---</span> <span class="string">BEGIN</span> <span class="string">LICENSE</span> <span class="string">KEY</span> <span class="string">---</span></span><br><span class="line"><span class="string">GXN1eh9FbDiX1ACdd7XKMV7hL7x0ClBJLUJ-zFfKofjaj2yxE53xauIfk</span></span><br><span class="line"><span class="string">qZ8FoLpcZ0Ux6McTyNmODDSvSIHLYhg1QkTxjCeSCk6ARz0ABJcnUmd3d</span></span><br><span class="line"><span class="string">ZYJNWFyJun14rmGByRnVPL49QH+Rs0kjRGKCB-cb8IT4Gf0Ue9WMQ1A6t</span></span><br><span class="line"><span class="string">31MO9jmjoYUeoUmbeAQSofvuK8GN1rLRv7WXfUJ0uyvYlGLqzq1ZoJAJD</span></span><br><span class="line"><span class="string">yo0Kdr4ThF-IXcv2cxVyWVW1SaMq8GFosDEGThnY7C-SgNXW30jqAOgiR</span></span><br><span class="line"><span class="string">jKKRX9RuNeDMFqgP2cuf0NMvyMrMScnM1ZyiAaJJtzbxqN5hZOMClUTE+</span></span><br><span class="line"><span class="string">---</span> <span class="string">END</span> <span class="string">LICENSE</span> <span class="string">KEY</span> <span class="string">-----</span></span><br></pre></td></tr></table></figure><p>5.为所有用户注册bcompare 命令</p><p>sudo cp ~&#x2F;.config&#x2F;bcompare&#x2F;BC4Key.txt &#x2F;etc&#x2F;</p>              </div>            </details>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Beyond Compare是一款功能强大的文件对比工具，是程序员的最爱，能够使用简单，功能强大的命令比较文件和文件夹，这些命令专注于用户感兴趣的差异，并忽略那些不感兴趣的差异。合并更改，同步文件并且生成报告。Beyond Compare 还适用于</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>教你使用Hexo+Gitee免费搭建个人博客</title>
    <link href="https://qzkyl.ml/posts/63094.html"/>
    <id>https://qzkyl.ml/posts/63094.html</id>
    <published>2020-03-22T07:53:12.000Z</published>
    <updated>2020-03-22T07:53:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>为何使用Gitee而不是GitHub</p><p>目前国内访问GitHub速度慢，还可能被墙，所以Gitee来构建个人博客。Gitee类似国内版的GitHub，访问速度有保证</p><h1 id=""><a href="#" class="headerlink" title=""></a><span class='p logo cyan'>介绍</span></h1><p>使用gitee-pages服务搭建博客的好处有：</p><blockquote><p>全是静态文件，访问速度快<br>免费方便，不用花一分钱就可以搭建一个自由的个人博客，不需要服务器不需要后台<br>可以绑定自己的域名，不仔细看的话根本看不出来你的网站是基于gitee的<br>数据绝对安全，基于git的版本管理，想恢复到哪个历史版本都行<br>博客内容可以轻松打包、转移、发布到其它平台<br>等等不一一详述，待你发掘</p></blockquote><h1 id="-1"><a href="#-1" class="headerlink" title=""></a><span class='p logo cyan'>环境要求</span></h1><h2 id="1-Git"><a href="#1-Git" class="headerlink" title="1.Git"></a>1.Git</h2><ul><li><h3 id="Windows下安装Git"><a href="#Windows下安装Git" class="headerlink" title="Windows下安装Git"></a>Windows下安装Git</h3></li></ul><p>在Windows上安装Git较为简单，因此不过多叙述</p><ul><li><h3 id="Linux下安装Git"><a href="#Linux下安装Git" class="headerlink" title="Linux下安装Git"></a>Linux下安装Git</h3></li></ul><p>使用Linux包管理工具进行安装<code>sudo apt-get install git</code></p><ul><li><h3 id="Mac下安装Git"><a href="#Mac下安装Git" class="headerlink" title="Mac下安装Git"></a>Mac下安装Git</h3></li></ul><p>Git在Mac下既可以通过GUI的方式来安装也可以通过Command的方式来安装，使用Homebrew进行安装：sudo brew install git。如果没有安装HomBrew，可以参考 <a href="https://brew.sh/index_zh-cn">https://brew.sh/index_zh-cn</a></p><h2 id="2-NodeJs"><a href="#2-NodeJs" class="headerlink" title="2.NodeJs"></a>2.NodeJs</h2><ul><li><h3 id="Windows下安装Node"><a href="#Windows下安装Node" class="headerlink" title="Windows下安装Node"></a>Windows下安装Node</h3></li></ul><p>在Windows上安装Node较为简单，因此不过多叙述</p><ul><li><h3 id="Linux上安装Node"><a href="#Linux上安装Node" class="headerlink" title="Linux上安装Node"></a>Linux上安装Node</h3></li></ul><p>使用Linux包管理工具进行安装<code>sudo apt-get install nodejs</code></p><ul><li><h3 id="Mac上安装Node"><a href="#Mac上安装Node" class="headerlink" title="Mac上安装Node"></a>Mac上安装Node</h3></li></ul><p>Node为Mac提供了GUI方式, 但是我们还可以通过HomeBrew来安装<code>sudo brew install node</code></p><h1 id="-2"><a href="#-2" class="headerlink" title=""></a><span class='p logo cyan'>开始搭建hexo</span></h1><h2 id="1-安装Hexo核心库"><a href="#1-安装Hexo核心库" class="headerlink" title="1.安装Hexo核心库"></a>1.安装Hexo核心库</h2><p>终端输入命令<code>npm install -g hexo-cli</code></p><h2 id="2-初始化Hexo"><a href="#2-初始化Hexo" class="headerlink" title="2.初始化Hexo"></a>2.初始化Hexo</h2><p>在你的电脑上任意位置创建Hexo文件夹，在终端中进入到Hexo目录，输入命令 </p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br><span class="line">npm <span class="keyword">install</span></span><br></pre></td></tr></table></figure><p>这样hexo就安装完成了，接下来就可以启动hexo了<br>##3.启动hexo</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean# 清除所有缓存</span><br><span class="line">hexo <span class="keyword">generate</span># 生成静态网页</span><br><span class="line">hexo server# 启动服务</span><br></pre></td></tr></table></figure><p>然后使用浏览器访问<code>http://server_ip</code>就可以看到效果啦</p><h1 id="-3"><a href="#-3" class="headerlink" title=""></a><span class='p logo cyan'>部署博客到Gitee</span></h1><h2 id="1-创建Gitee账号"><a href="#1-创建Gitee账号" class="headerlink" title="1.创建Gitee账号"></a>1.创建Gitee账号</h2><p>到码云：<a href="https://gitee.com/">https://gitee.com/</a> 上申请注册账号，码云类似国内版的GitHub，所以操作界面跟GitHub差不多，多了一些国产化的东西，这里不做更多介绍了，自己研究下</p><h2 id="2-创建新的项目"><a href="#2-创建新的项目" class="headerlink" title="2.创建新的项目"></a>2.创建新的项目</h2><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1584862528.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1584862528.png"></p><p>路径名字最好是你的码云ID，创建完成后，在项目中复制项目地址</p><h2 id="3-编辑-config-yml文件配置Git"><a href="#3-编辑-config-yml文件配置Git" class="headerlink" title="3.编辑_config.yml文件配置Git"></a>3.编辑_config.yml文件配置Git</h2><p>拉到底部，用以下的代码替换掉原有</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> 你的项目地址</span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure><p>注意：格式很重要，建议全部复制进行粘贴。冒号后面一定要有空格，否则容易报错</p><h2 id="4-发布到Gitee"><a href="#4-发布到Gitee" class="headerlink" title="4.发布到Gitee"></a>4.发布到Gitee</h2><p>首次使用，安装自动部署发布工具，并配置Git账号</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git config <span class="attr">--global</span> user<span class="selector-class">.name</span> <span class="string">&quot;码云ID&quot;</span></span><br><span class="line">git config <span class="attr">--global</span> user<span class="selector-class">.email</span> <span class="string">&quot;码云邮箱&quot;</span></span><br><span class="line">npm install hexo-deployer-git <span class="attr">--save</span></span><br></pre></td></tr></table></figure><p>安装好后，可以上传源码到Gitee了</p><p><code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></p><p>终端会提示输入Gitee的账号和密码，等待上传完毕即可</p><h2 id="5-Gitee-Pages设置"><a href="#5-Gitee-Pages设置" class="headerlink" title="5.Gitee Pages设置"></a>5.Gitee Pages设置</h2><p>在项目的服务中选择Pages选项</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1584863124.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1584863124.png"></p><p>默认 master分支，点击 部署&#x2F;更新</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1584863182.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1584863182.png"></p><p>稍等一会儿博客就发布成功啦，访问博客地址：<a href="https://abbw.gitee.io/">https://abbw.gitee.io</a> 就可预览博客效果啦</p><p>如果博客的样式不对，则需要在_config.yml中配置下博客地址和路径</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">url:</span> https:<span class="comment">//abbw.gitee.io/</span></span><br><span class="line"><span class="symbol">root:</span> /</span><br></pre></td></tr></table></figure><p>再执行命令<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code>就可以啦</p><p>至此，我们的博客就搭建完成啦</p><p>剩下的就是主题，插件，文章，这些就看你们了～</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;为何使用Gitee而不是GitHub&lt;/p&gt;
&lt;p&gt;目前国内访问GitHub速度慢，还可能被墙，所以Gitee来构建个人博客。Gitee类似国内版的GitHub，访问速度有保证&lt;/p&gt;
&lt;h1 id=&quot;&quot;&gt;&lt;a href=&quot;#&quot; class=&quot;headerlink&quot; tit</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客集成fancybox图片预览功能</title>
    <link href="https://qzkyl.ml/posts/19759.html"/>
    <id>https://qzkyl.ml/posts/19759.html</id>
    <published>2020-03-18T10:59:39.000Z</published>
    <updated>2020-03-18T10:59:39.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Fancybox是一款基于jquery开发的类Lightbox插件。支持对放大的图片添加阴影效果，对于一组相关的图片添加导航操作按纽<br>Fancybox 是一款很绚丽的 jquery 弹出层展示插件，该lightbox除了能够展示图片之外，还可以展示iframed内容， 通过css自定义外观</p></blockquote><p>官网上并未发现相关插件，而我这个主题也未集成</p><p>于是乎，翻了下fancybox文档，发现很容易，只是加个标签，调用js就行了</p><h1 id="indigo-card-主题使用方法"><a href="#indigo-card-主题使用方法" class="headerlink" title="indigo-card 主题使用方法"></a>indigo-card 主题使用方法</h1><p>我是直接替换了indigo-card主题的lightbox的render</p><h2 id="修改themes-x2F-indigo-card-x2F-plugins-js文件"><a href="#修改themes-x2F-indigo-card-x2F-plugins-js文件" class="headerlink" title="修改themes&#x2F;indigo-card&#x2F;plugins.js文件"></a>修改themes&#x2F;indigo-card&#x2F;plugins.js文件</h2><p>找到<code>function renderImage(src, alt = &#39;&#39;, title = &#39;&#39;) &#123;</code>，替换为以下内容</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function renderImage(src, alt = <span class="string">&#x27;&#x27;</span>, title = <span class="string">&#x27;&#x27;</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> `&lt;figure <span class="keyword">class</span>=<span class="string">&quot;image-bubble&quot;</span>&gt;</span><br><span class="line">                &lt;a <span class="keyword">data</span>-fancybox=<span class="string">&quot;gallery&quot;</span> rel=<span class="string">&quot;group1 noopener&quot;</span> href=<span class="string">&quot;<span class="subst">$&#123;src&#125;</span>&quot;</span> target=<span class="string">&quot;_blank&quot;</span>&gt;</span><br><span class="line">                &lt;img <span class="keyword">data</span>-action=<span class="string">&quot;zoom&quot;</span> src=<span class="string">&quot;<span class="subst">$&#123;src&#125;</span>&quot;</span> alt=<span class="string">&quot;<span class="subst">$&#123;alt&#125;</span>&quot;</span>&gt;</span><br><span class="line">                 &lt;/a&gt;</span><br><span class="line">            &lt;/figure&gt;`</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="引入官方fancybox的js和css"><a href="#引入官方fancybox的js和css" class="headerlink" title="引入官方fancybox的js和css"></a>引入官方fancybox的js和css</h2><p>下载:<a href="https://github.com/fancyapps/fancybox">https://github.com/fancyapps/fancybox</a></p><p>我们只用到<code>jquery.fancybox.min.css</code>和<code>jquery.fancybox.min.js</code></p><h2 id="修改themes-x2F-indigo-card-x2F-layout-x2F-partial-x2F-script-ejs文件"><a href="#修改themes-x2F-indigo-card-x2F-layout-x2F-partial-x2F-script-ejs文件" class="headerlink" title="修改themes&#x2F;indigo-card&#x2F;layout&#x2F;_partial&#x2F;script.ejs文件"></a>修改themes&#x2F;indigo-card&#x2F;layout&#x2F;_partial&#x2F;script.ejs文件</h2><p>底部插入以下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- url_for(&#x27;css/jquery.fancybox.min.css&#x27;) %&gt;&quot;</span> <span class="attr">media</span>=<span class="string">&quot;all&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.3.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(&#x27;js/jquery.fancybox.min.js&#x27;) %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="string">&#x27;[data-fancybox=&quot;images&quot;]&#x27;</span>).<span class="title function_">fancybox</span>(&#123;<span class="comment">//可选</span></span></span><br><span class="line"><span class="language-javascript">    thumbs : &#123;</span></span><br><span class="line"><span class="language-javascript">    autoStart : <span class="literal">true</span> <span class="comment">//缩略图</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript">$(<span class="string">&#x27;[data-fancybox]&#x27;</span>).<span class="title function_">fancybox</span>(&#123;<span class="comment">//启用函数，必须</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">protect</span>: <span class="literal">true</span> <span class="comment">//图片右键不能下载，可选</span></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="重新编译运行即可查看效果"><a href="#重新编译运行即可查看效果" class="headerlink" title="重新编译运行即可查看效果"></a>重新编译运行即可查看效果</h2><p><code>hexo s -g</code></p><h1 id="任意主题使用方法"><a href="#任意主题使用方法" class="headerlink" title="任意主题使用方法"></a>任意主题使用方法</h1><h2 id="引入官方fancybox的js和css-1"><a href="#引入官方fancybox的js和css-1" class="headerlink" title="引入官方fancybox的js和css"></a>引入官方fancybox的js和css</h2><p>下载:<a href="https://github.com/fancyapps/fancybox">https://github.com/fancyapps/fancybox</a></p><p>我们只用到<code>jquery.fancybox.min.css</code>和<code>jquery.fancybox.min.js</code></p><h2 id="找到主题themes-x2F-xxx-x2F-layout-x2F-下相关的footer文件"><a href="#找到主题themes-x2F-xxx-x2F-layout-x2F-下相关的footer文件" class="headerlink" title="找到主题themes&#x2F;xxx&#x2F;layout&#x2F;下相关的footer文件"></a>找到主题themes&#x2F;xxx&#x2F;layout&#x2F;下相关的footer文件</h2><p>底部插入以下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- url_for(&#x27;css/jquery.fancybox.min.css&#x27;) %&gt;&quot;</span> <span class="attr">media</span>=<span class="string">&quot;all&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://code.jquery.com/jquery-3.3.1.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(&#x27;js/jquery.fancybox.min.js&#x27;) %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">$(<span class="string">&#x27;[data-fancybox=&quot;images&quot;]&#x27;</span>).<span class="title function_">fancybox</span>(&#123;<span class="comment">//可选</span></span></span><br><span class="line"><span class="language-javascript">    thumbs : &#123;</span></span><br><span class="line"><span class="language-javascript">    autoStart : <span class="literal">true</span> <span class="comment">//缩略图</span></span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript">$(<span class="string">&#x27;[data-fancybox]&#x27;</span>).<span class="title function_">fancybox</span>(&#123;<span class="comment">//启用函数，必须</span></span></span><br><span class="line"><span class="language-javascript"><span class="attr">protect</span>: <span class="literal">true</span> <span class="comment">//图片右键不能下载，可选</span></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="使用全局render方法"><a href="#使用全局render方法" class="headerlink" title="使用全局render方法"></a>使用全局render方法</h2><p>打开node_modules\marked\lib\marked.js文件</p><p>Ctrl+F 搜索 Renderer.prototype.image 函数，修改如下</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Renderer.prototype.image = function(href, title, text) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.options.baseUrl &amp;&amp; !originIndependentUrl.test(href)) &#123;</span><br><span class="line">        href = resolveUrl(<span class="keyword">this</span>.options.baseUrl, href);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">out</span> = <span class="string">&#x27;&lt;a data-fancybox=&quot;gallery&quot; data-caption=&quot;&#x27;</span>+text+<span class="string">&#x27;&quot; href=&quot;&#x27;</span>+href+<span class="string">&#x27;&quot;&gt;&lt;img data-action=&quot;zoom&quot; src=&quot;&#x27;</span> + href + <span class="string">&#x27;&quot; alt=&quot;&#x27;</span> + text + <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (title) &#123;</span><br><span class="line">        <span class="keyword">out</span> += <span class="string">&#x27; title=&quot;&#x27;</span> + title + <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">out</span> += <span class="keyword">this</span>.options.xhtml ? <span class="string">&#x27;/&gt;&lt;/a&gt;&#x27;</span> : <span class="string">&#x27;&gt;&lt;/a&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">out</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="重新编译运行即可查看效果-1"><a href="#重新编译运行即可查看效果-1" class="headerlink" title="重新编译运行即可查看效果"></a>重新编译运行即可查看效果</h2><p><code>hexo s -g</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Fancybox是一款基于jquery开发的类Lightbox插件。支持对放大的图片添加阴影效果，对于一组相关的图片添加导航操作按纽&lt;br&gt;Fancybox 是一款很绚丽的 jquery 弹出层展示插件，该lightbox除了能够展示图片之外，还可</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo Indigo主题添加友链</title>
    <link href="https://qzkyl.ml/posts/56844.html"/>
    <id>https://qzkyl.ml/posts/56844.html</id>
    <published>2020-03-18T06:33:13.000Z</published>
    <updated>2020-03-18T06:33:13.000Z</updated>
    
    <content type="html"><![CDATA[<p>Indigo主题是一款Hexo的基于material设计的主题，个人比较喜欢material设计的主题</p><p>首先，在themes&#x2F;indigo-card&#x2F;layout下新建links.ejs和link.ejs</p><p>links.ejs代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&#x27;_partial/header&#x27;, &#123;</span><br><span class="line">    title: locals.title || theme.links_title,</span><br><span class="line">    hdClass: &#x27;links-header&#x27;</span><br><span class="line">&#125;) %&gt;</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container body-wrap fade&quot;</span>&gt;</span></span><br><span class="line">    &lt;% if (theme.links &amp;&amp; theme.links.length) &#123; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;archive-separator&quot;</span>&gt;</span></span><br><span class="line">        &lt;%=theme.links_title%&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;waterfall&quot;</span>&gt;</span></span><br><span class="line">        &lt;% theme.links.forEach(function(links) &#123; %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;waterfall-item&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">&quot;article-card archive-article&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;post-title&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;post-title-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;&lt;%- links.url %&gt;&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;url&quot;</span>&gt;</span></span><br><span class="line">                        &lt;%- links.name %&gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        &lt;%&#125;)%&gt;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;% &#125;%&gt;</span><br><span class="line">    &lt;%- partial(&#x27;_partial/paginator&#x27;) %&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>link.ejs代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;%- partial(&#x27;links&#x27;, &#123;</span><br><span class="line">    title: theme.links_title + &#x27;: &#x27;+ page.link</span><br><span class="line">&#125;) %&gt;</span><br></pre></td></tr></table></figure><p>然后在终端执行hexo new page ‘Links’，修改source&#x2F;Links&#x2F;index.md为如下内容</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">links</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>接着在themes&#x2F;indigo-card&#x2F;source&#x2F;css&#x2F;_partial&#x2F;header.less搜索</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">.tags-header,</span></span><br><span class="line"><span class="title">.categories-header</span></span><br></pre></td></tr></table></figure><p>替换为</p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">.tags-header,</span></span><br><span class="line"><span class="title">.categories-header,</span></span><br><span class="line"><span class="title">.links-header </span></span><br></pre></td></tr></table></figure><p>主题_config.yml设置</p><p>新增menu项目内容</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">link:</span></span><br><span class="line"><span class="symbol">    text:</span> 友情链接</span><br><span class="line"><span class="symbol">    url:</span> /Links</span><br></pre></td></tr></table></figure><p>新增页面标题</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">links_title:</span> 友情链接</span><br></pre></td></tr></table></figure><p>最后，添加links项目，格式如下</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">links:</span></span><br><span class="line">  - name: <span class="string">&quot;名称&quot;</span></span><br><span class="line"><span class="symbol">    url:</span> <span class="string">&quot;链接&quot;</span></span><br><span class="line">  - name: <span class="string">&quot;名称&quot;</span></span><br><span class="line"><span class="symbol">    url:</span> <span class="string">&quot;链接&quot;</span></span><br><span class="line">  - name: <span class="string">&quot;名称&quot;</span></span><br><span class="line"><span class="symbol">    url:</span> <span class="string">&quot;链接&quot;</span></span><br><span class="line">  - name: <span class="string">&quot;名称&quot;</span></span><br><span class="line"><span class="symbol">    url:</span> <span class="string">&quot;链接&quot;</span></span><br></pre></td></tr></table></figure><p>重新编译运行即可查看效果</p><p><code>hexo s -g</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Indigo主题是一款Hexo的基于material设计的主题，个人比较喜欢material设计的主题&lt;/p&gt;
&lt;p&gt;首先，在themes&amp;#x2F;indigo-card&amp;#x2F;layout下新建links.ejs和link.ejs&lt;/p&gt;
&lt;p&gt;links.ejs代</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
  </entry>
  
  <entry>
    <title>Hexo 博客集成码云评论系统</title>
    <link href="https://qzkyl.ml/posts/19582.html"/>
    <id>https://qzkyl.ml/posts/19582.html</id>
    <published>2020-03-18T05:40:03.000Z</published>
    <updated>2020-03-18T05:40:03.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Giteement 评论系统是基于 <a href="https://github.com/imsun/gitment">Gitment</a> 的源码开发和扩展的 </p><p>Giteement 作者项目地址：<a href="https://gitee.com/eillott/giteement">https://gitee.com/eillott/giteement</a></p></blockquote><p>目前实现以下功能：</p><ol><li><p>基于码云的 issues 来进行评论的，所以需要有码云账号</p></li><li><p>实现了类似码云 issues 的回复功能，评论开头用@符号选择你要回复的人，回复完毕，如果你要回复的人登录码云，会有消息提示</p></li></ol><p><font color=red>博主我已为本主题实现码云评论，如果你也想让你的主题实现，那么不妨看下去</font></p><h1 id="配置码云评论"><a href="#配置码云评论" class="headerlink" title="配置码云评论"></a>配置码云评论</h1><p>使用码云的issues作为评论系统，就要使用码云来登录评论，所以需要在码云上配置第三方应用</p><h2 id="创建一个新的第三方应用"><a href="#创建一个新的第三方应用" class="headerlink" title="创建一个新的第三方应用"></a>创建一个新的第三方应用</h2><p><a href="https://gitee.com/oauth/applications/new">https://gitee.com/oauth/applications/new</a></p><ul><li>应用名称(根据实际来填写)</li><li>应用描述(根据实际来填写)</li><li>应用主页(博客的域名)</li><li>应用回调地址(博客的域名)</li><li>权限请选择issues、notes</li></ul><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020-03-18%2013-56-06.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2020-03-18%2013-56-06.png"></p><p>创建完成后，得到 <code>Client ID</code> 和 <code>Client Secret</code>，记下来后面需要用到</p><h1 id="主题引入码云评论教程"><a href="#主题引入码云评论教程" class="headerlink" title="主题引入码云评论教程"></a>主题引入码云评论教程</h1><p>已本主题 <code>indigo-card</code> 为例子，其它主题同理</p><h2 id="修改-themes-x2F-indigo-card-x2F-layout-x2F-index-ejs-文件"><a href="#修改-themes-x2F-indigo-card-x2F-layout-x2F-index-ejs-文件" class="headerlink" title="修改 themes&#x2F;indigo-card&#x2F;layout&#x2F;index.ejs 文件"></a>修改 themes&#x2F;indigo-card&#x2F;layout&#x2F;index.ejs 文件</h2><p>顶部插入以下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.giteement &amp;&amp; theme.giteement.enable)&#123; %&gt;</span><br><span class="line">    &lt;% if (theme.giteement &amp;&amp; theme.giteement.remote)&#123; %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://giteement.oss-cn-beijing.aliyuncs.com/oauthcallback.browser.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        &lt;% &#125; else &#123; %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(&#x27;js/oauthcallback.browser.js&#x27;) %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        &lt;% &#125; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line">        Oauthcallback();</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="修改-themes-x2F-indigo-card-x2F-layout-x2F-partial-x2F-post-x2F-comment-ejs-文件"><a href="#修改-themes-x2F-indigo-card-x2F-layout-x2F-partial-x2F-post-x2F-comment-ejs-文件" class="headerlink" title="修改 themes&#x2F;indigo-card&#x2F;layout&#x2F;_partial&#x2F;post&#x2F;comment.ejs 文件"></a>修改 themes&#x2F;indigo-card&#x2F;layout&#x2F;_partial&#x2F;post&#x2F;comment.ejs 文件</h2><p>在 <code>&lt;%- partial(&#39;../plugins/gitalk&#39;) %&gt;</code> 后面插入 <code>&lt;%- partial(&#39;../plugins/gitee&#39;) %&gt;</code></p><h2 id="新建-themes-x2F-indigo-card-x2F-layout-x2F-partial-x2F-plugins-x2F-gitee-ejs-文件"><a href="#新建-themes-x2F-indigo-card-x2F-layout-x2F-partial-x2F-plugins-x2F-gitee-ejs-文件" class="headerlink" title="新建 themes&#x2F;indigo-card&#x2F;layout&#x2F;_partial&#x2F;plugins&#x2F;gitee.ejs 文件"></a>新建 themes&#x2F;indigo-card&#x2F;layout&#x2F;_partial&#x2F;plugins&#x2F;gitee.ejs 文件</h2><p>复制以下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;% if (theme.giteement &amp;&amp; theme.giteement.enable)&#123; %&gt;</span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">class</span>=<span class="string">&quot;comments&quot;</span> <span class="attr">id</span>=<span class="string">&quot;comments&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;giteement-ctn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    &lt;% if (theme.giteement &amp;&amp; theme.giteement.remote)&#123; %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://giteement.oss-cn-beijing.aliyuncs.com/default.css&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://giteement.oss-cn-beijing.aliyuncs.com/giteement.browser.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    &lt;% &#125; else &#123; %&gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/css/gitee.css&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;&lt;%- url_for(&#x27;js/gitee.js&#x27;) %&gt;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> giteement = <span class="keyword">new</span> <span class="title class_">Giteement</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">id</span>: id,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">owner</span>: <span class="string">&#x27;&lt;%=theme.giteement.giteeID%&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">repo</span>: <span class="string">&#x27;&lt;%=theme.giteement.repo%&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">backcall_uri</span>: <span class="string">&#x27;&lt;%=theme.giteement.redirect_uri%&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">oauth_uri</span>: <span class="string">&#x27;&lt;%=theme.giteement.oauth_uri%&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">oauth</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">client_id</span>: <span class="string">&#x27;&lt;%=theme.giteement.gitment_oauth.client_id%&gt;&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">client_secret</span>: <span class="string">&#x27;&lt;%=theme.giteement.gitment_oauth.client_secret%&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">    &#125;,</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript">    giteement.<span class="title function_">render</span>(<span class="string">&#x27;giteement-ctn&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">&lt;% &#125; %&gt;</span><br></pre></td></tr></table></figure><h2 id="修改-themes-x2F-indigo-card-x2F-config-yml-文件"><a href="#修改-themes-x2F-indigo-card-x2F-config-yml-文件" class="headerlink" title="修改 themes&#x2F;indigo-card&#x2F;_config.yml 文件"></a>修改 themes&#x2F;indigo-card&#x2F;_config.yml 文件</h2><p>末尾插入以下代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">giteement:</span><br><span class="line">  enable: true# 是否启用码云评论系统</span><br><span class="line">  remote: false# 是否使用官方js(false可以提升访问速度)</span><br><span class="line">  redirect_uri: https://abbw.ml# 应用回调地址(请和配置的第三方应用保持一致)</span><br><span class="line">  oauth_uri: https://cors-anywhere.herokuapp.com/https://gitee.com/oauth/token# 不能更改(网上开源项目https://github.com/Rob--W/cors-anywhere作者提供的专门用来跨域服务器的配置)</span><br><span class="line">  giteeID: abbw# 码云账号英文名</span><br><span class="line">  repo: Hexo-blog-issues# 存储评论的 repo</span><br><span class="line">  gitment_oauth:</span><br><span class="line">    client_id: &#x27;*********&#x27;#client ID</span><br><span class="line">    client_secret: &#x27;*********&#x27;#client secret</span><br></pre></td></tr></table></figure><h1 id="重新运行即可查看效果"><a href="#重新运行即可查看效果" class="headerlink" title="重新运行即可查看效果"></a>重新运行即可查看效果</h1><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean <span class="meta">&amp;&amp; hexo s</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Giteement 评论系统是基于 &lt;a href=&quot;https://github.com/imsun/gitment&quot;&gt;Gitment&lt;/a&gt; 的源码开发和扩展的 &lt;/p&gt;
&lt;p&gt;Giteement 作者项目地址：&lt;a href=&quot;https:/</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
    <category term="Gitee" scheme="https://qzkyl.ml/tags/Gitee/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客使用gulp压缩静态资源</title>
    <link href="https://qzkyl.ml/posts/3520.html"/>
    <id>https://qzkyl.ml/posts/3520.html</id>
    <published>2020-03-17T06:05:03.000Z</published>
    <updated>2020-03-17T06:05:03.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>gulp是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成<br>gulp压缩的一般都是js，css，html，image等文件。使用gulp压缩之后代码会更加安全，体积也会变小</p></blockquote><p>使用gulp的步骤：</p><h1 id="1-全局安装gulp"><a href="#1-全局安装gulp" class="headerlink" title="1.全局安装gulp"></a>1.全局安装gulp</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp -g</span><br><span class="line"><span class="comment"># 查看版本</span></span><br><span class="line">gulp -v</span><br></pre></td></tr></table></figure><h1 id="2-安装gulp插件"><a href="#2-安装gulp插件" class="headerlink" title="2.安装gulp插件"></a>2.安装gulp插件</h1><p>在Hexo站点站点目录下进行安装</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">npm install gulp --save</span><br><span class="line">npm install gulp-minify-css --save</span><br><span class="line">npm install gulp-uglify --save</span><br><span class="line">npm install gulp-htmlmin --save</span><br><span class="line">npm install gulp-htmlclean --save</span><br><span class="line">npm install gulp-imagemin --save</span><br></pre></td></tr></table></figure><h1 id="3-创建gulpfile-js文件"><a href="#3-创建gulpfile-js文件" class="headerlink" title="3.创建gulpfile.js文件"></a>3.创建gulpfile.js文件</h1><p>在 Hexo站点目录下新建gulpfile.js文件，文件内容如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">&#x27;gulp&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> minifycss = <span class="built_in">require</span>(<span class="string">&#x27;gulp-minify-css&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> uglify = <span class="built_in">require</span>(<span class="string">&#x27;gulp-uglify&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlmin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlmin&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> htmlclean = <span class="built_in">require</span>(<span class="string">&#x27;gulp-htmlclean&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> imagemin = <span class="built_in">require</span>(<span class="string">&#x27;gulp-imagemin&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> babel = <span class="built_in">require</span>(<span class="string">&#x27;gulp-babel&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩css文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-css&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.css&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">minifycss</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">    <span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩html文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/**/*.html&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlclean</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">htmlmin</span>(&#123;</span><br><span class="line">            <span class="attr">removeComments</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyJS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyCSS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">minifyURLs</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">    <span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩js文件</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-js&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> gulp.<span class="title function_">src</span>([<span class="string">&#x27;./public/**/*.js&#x27;</span>, <span class="string">&#x27;!./public/**/*.min.js&#x27;</span>])</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">babel</span>(&#123;</span><br><span class="line">            <span class="comment">//将ES6代码转译为可执行的JS代码</span></span><br><span class="line">            <span class="attr">presets</span>: [<span class="string">&#x27;es2015&#x27;</span>] <span class="comment">// es5检查机制</span></span><br><span class="line">        &#125;))</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">uglify</span>())</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">    <span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public/images 目录内图片(Version&lt;3)</span></span><br><span class="line"><span class="comment">// gulp.task(&#x27;minify-images&#x27;, function () &#123;</span></span><br><span class="line"><span class="comment">//     gulp.src(&#x27;./public/images/**/*.*&#x27;)</span></span><br><span class="line"><span class="comment">//         .pipe(imagemin(&#123;</span></span><br><span class="line"><span class="comment">//             optimizationLevel: 5, //类型：Number  默认：3  取值范围：0-7（优化等级）</span></span><br><span class="line"><span class="comment">//             progressive: true, //类型：Boolean 默认：false 无损压缩jpg图片</span></span><br><span class="line"><span class="comment">//             interlaced: false, //类型：Boolean 默认：false 隔行扫描gif进行渲染</span></span><br><span class="line"><span class="comment">//             multipass: false, //类型：Boolean 默认：false 多次优化svg直到完全优化</span></span><br><span class="line"><span class="comment">//         &#125;))</span></span><br><span class="line"><span class="comment">//         .pipe(gulp.dest(&#x27;./public/images&#x27;));</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 压缩 public/images 目录内图片(Version&gt;3)</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;minify-images&#x27;</span>, <span class="keyword">function</span> (<span class="params">done</span>) &#123;</span><br><span class="line">    gulp.<span class="title function_">src</span>(<span class="string">&#x27;./public/images/**/*.*&#x27;</span>)</span><br><span class="line">        .<span class="title function_">pipe</span>(<span class="title function_">imagemin</span>([</span><br><span class="line">            imagemin.<span class="title function_">gifsicle</span>(&#123;<span class="attr">interlaced</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">            imagemin.<span class="title function_">jpegtran</span>(&#123;<span class="attr">progressive</span>: <span class="literal">true</span>&#125;),</span><br><span class="line">            imagemin.<span class="title function_">optipng</span>(&#123;<span class="attr">optimizationLevel</span>: <span class="number">5</span>&#125;),</span><br><span class="line">            imagemin.<span class="title function_">svgo</span>(&#123;</span><br><span class="line">                <span class="attr">plugins</span>: [</span><br><span class="line">                    &#123;<span class="attr">removeViewBox</span>: <span class="literal">true</span>&#125;,</span><br><span class="line">                    &#123;<span class="attr">cleanupIDs</span>: <span class="literal">false</span>&#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;)</span><br><span class="line">        ]))</span><br><span class="line">        .<span class="title function_">pipe</span>(gulp.<span class="title function_">dest</span>(<span class="string">&#x27;./public/images&#x27;</span>));</span><br><span class="line">    <span class="title function_">done</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.0以前的写法 </span></span><br><span class="line"><span class="comment">//gulp.task(&#x27;default&#x27;, [</span></span><br><span class="line"><span class="comment">//  &#x27;minify-html&#x27;, &#x27;minify-css&#x27;, &#x27;minify-js&#x27;, &#x27;minify-images&#x27;</span></span><br><span class="line"><span class="comment">//]);</span></span><br><span class="line"><span class="comment">//4.0以后的写法</span></span><br><span class="line"><span class="comment">// 执行 gulp 命令时执行的任务</span></span><br><span class="line">gulp.<span class="title function_">task</span>(<span class="string">&#x27;default&#x27;</span>, gulp.<span class="title function_">series</span>(gulp.<span class="title function_">parallel</span>(<span class="string">&#x27;minify-html&#x27;</span>, <span class="string">&#x27;minify-css&#x27;</span>, <span class="string">&#x27;minify-js&#x27;</span>, <span class="string">&#x27;minify-images&#x27;</span>)), <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;----------gulp Finished----------&quot;</span>);</span><br><span class="line">    <span class="comment">// Do something after a, b, and c are finished.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="5-静态资源压缩"><a href="#5-静态资源压缩" class="headerlink" title="5.静态资源压缩"></a>5.静态资源压缩</h1><p> 只需要每次在执行 <code>hexo generate</code> 命令后执行 <code>gulp</code> 就可以实现对静态资源的压缩<br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> hexo g</span><br><span class="line">gulp</span><br></pre></td></tr></table></figure></p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;gulp是前端开发过程中对代码进行构建的工具，是自动化项目的构建利器；她不仅能对网站资源进行优化，而且在开发过程中很多重复的任务能够使用正确的工具自动完成&lt;br&gt;gulp压缩的一般都是js，css，html，image等文件。使用gulp压缩之后代</summary>
      
    
    
    
    <category term="Hexo知识" scheme="https://qzkyl.ml/categories/Hexo%E7%9F%A5%E8%AF%86/"/>
    
    
  </entry>
  
  <entry>
    <title>记录博客从ZblogPHP转移至Hexo</title>
    <link href="https://qzkyl.ml/posts/33521.html"/>
    <id>https://qzkyl.ml/posts/33521.html</id>
    <published>2020-03-14T07:24:00.000Z</published>
    <updated>2020-03-14T07:24:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>偶然的机会看到了Hexo，就深深被吸引了，加载速度快，支持 <code>Markdown</code> 语法，重要是还支持部署到Github上，谁叫我资金有限呢，哈哈</p><p>就说说Hexo的好处吧</p><p>第一：支持Markdown，早就想学习Markdown了，正好边写博客，边学Markdown</p><p>第二：支持部署到Github，Gitee，Coding等，免去购买服务器的资金</p><p>接下来说说怎么转移文章</p><p>搜索引擎上，转移教程wordpress占太多，而我用的是zblog，无奈只能自己琢磨，正好发现有个插件可以两边导入导出。</p><p>Zblog插件：<a href="https://app.zblogcn.com/?id=1501">MT数据格式导出【PHP】</a></p><p>Wordpress插件：<a href="https://wordpress.org/plugins/movabletype-importer/">Moveable Type 和 Typepad 导入工具</a></p><p>然后，zblog导出所有文章，wordpress这边就导入所有文章，导入后，就能在wordpress看见所有文章了</p><p>接着，wordpress仪表盘-工具-导出，选择文章，下载导出的文件保留着，后面要导入到hexo</p><p>现在我们将WordPress的文章迁移到Hexo</p><p>首先，安装 hexo-migrator-wordpress 插件</p><p><code>npm install hexo-migrator-wordpress --save</code></p><p>插件安装完成后，执行下列命令来迁移所有文章。source 可以是 WordPress 导出的文件路径或网址</p><p><code>hexo migrate wordpress &lt;source&gt;</code></p><p>显示导入完成就大功告成了</p><p>另外由于zblog写的文章，文章别名是转拼音的，所以导入到hexo后，文件名是拼音，这让我很难受。</p><p>于是，我写了个小程序，枚举所有文章，并将文件名改成文章内的title</p><p>完美，效果如本站，只是评论无法转移，无碍</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;偶然的机会看到了Hexo，就深深被吸引了，加载速度快，支持 &lt;code&gt;Markdown&lt;/code&gt; 语法，重要是还支持部署到Github上，谁叫我资金有限呢，哈哈&lt;/p&gt;
&lt;p&gt;就说说Hexo的好处吧&lt;/p&gt;
&lt;p&gt;第一：支持Markdown，早就想学习Markdown</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Hexo" scheme="https://qzkyl.ml/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Android Termius v4.4.14 破解汉化版</title>
    <link href="https://qzkyl.ml/posts/45899.html"/>
    <id>https://qzkyl.ml/posts/45899.html</id>
    <published>2020-03-10T04:02:16.000Z</published>
    <updated>2020-03-10T04:02:16.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>Termius是一款非常不错的远程工具，官方又贵，而且没有中文<br>Termius是管理UNIX和Linux系统的最佳方式，无论是本地计算机，远程服务，Docker容器，VM，Raspberry Pi还是AWS实例。换句话说，Termius是Android的Putty，但设计很棒</p></blockquote><span class='p h4 logo cyan'>功能介绍</span><p>全色彩的终端&#x2F;SSH 客户端<br>突出式的键盘上有着所有有用而又难以找到的字符<br>使用音量键快速调整字体大小<br>支持使用外接键盘<br>支持在 Irssi，Weechat，Tmux 和 Screen 中使用手势<br>社区和第三方开发的插件<br>正式支持 Mosh<br>支持 Telnet<br>支持 Android 本地 Shell<br>支持暗色，亮色，80’S Hacker，Molokai，Solarized 暗色 和 Solarized 暗色 等终端配色<br>点击链接以在浏览器中打开<br>在会话中复制和粘帖<br>保存和分享 SSH 副本到 Dropbox&#x2F;Evernote&#x2F;Email 和 SD 卡<br>支持 UTF-8 字符<br>通过分组来便捷的管理连接<br>在后台保持多个 SSH 会话的连接<br>通过其他 SSH 连接代理连接<br>打开应用便能快速访问常用的连接<br>支持 IPv6</p><p>已破解高级功能，禁用同步功能，无需帐户，禁用分析</p><p>全网首发汉化版，虽然汉化的不是很详细，但也足够了</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1583813810/f29b39baca4c0974a1cac77375a62f26.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1583813810/f29b39baca4c0974a1cac77375a62f26.png"></p><p>下载地址：<a href="https://abbw.lanzous.com/ia3xkyf">https://abbw.lanzous.com/ia3xkyf</a></p><p>首发汉化作者：@笨蛋海绵，期待网上流传更加完善的汉化版</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;Termius是一款非常不错的远程工具，官方又贵，而且没有中文&lt;br&gt;Termius是管理UNIX和Linux系统的最佳方式，无论是本地计算机，远程服务，Docker容器，VM，Raspberry Pi还是AWS实例。换句话说，Termius是An</summary>
      
    
    
    
    <category term="Android" scheme="https://qzkyl.ml/categories/Android/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>斐讯K1 自编译 Lean大的 OpenWrt R20.3.5 固件[2020.3.10]</title>
    <link href="https://qzkyl.ml/posts/40506.html"/>
    <id>https://qzkyl.ml/posts/40506.html</id>
    <published>2020-03-10T02:33:12.000Z</published>
    <updated>2020-03-10T02:33:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>这是我第一次编译固件，首先感谢大佬的源码：<a href="https://github.com/coolsnowwolf/lede">https://github.com/coolsnowwolf/lede</a></p><p>编译环境，我使用的是linux mint 19.3，因为这是我的主力系统</p><p>第二次之后编译真是快，5分钟左右就好了，第一次花了我5个钟</p><p>固件版本号：OpenWrt R20.3.5 &#x2F; LuCI Master (git-20.062.50551-a6189c5)</p><p>默认地址：192.168.1.1<br>密码：password</p><p>编译了两个默认主题版本，一个argon主题，一个material主题（可能可以删除bootstrap主题，没尝试）</p><p>两个版本功能都一样，只是默认主题不一样</p><p>都集成以下功能，可能有遗漏：</p><p>访问时间控制<br>广告屏蔽大师Plus +<br>IP&#x2F;MAC绑定<br>支持计划重启<br>动态域名 DNS （集成阿里DDNS客户端）<br>文件传输<br>Turbo ACC 网络加速<br>流量智能队列管理(QOS)<br>SSR，乳酸菌饮料+<br>解锁网易云灰色歌曲3合1新版<br>FTP服务器<br>WOL网络唤醒<br>内网穿透 ZeroTier</p><p>大概功能就如图：</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1583811265/511bd2beb9afdd474e43ca784f54f89a.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1583811265/511bd2beb9afdd474e43ca784f54f89a.png"></p><p>argon主题版：<br><a href="https://www.lanzous.com/ia3vvej">https://www.lanzous.com/ia3vvej</a></p><p>material主题版：<br><a href="https://www.lanzous.com/ia3vw2d">https://www.lanzous.com/ia3vw2d</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这是我第一次编译固件，首先感谢大佬的源码：&lt;a href=&quot;https://github.com/coolsnowwolf/lede&quot;&gt;https://github.com/coolsnowwolf/lede&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;编译环境，我使用的是linux mint </summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="路由器" scheme="https://qzkyl.ml/tags/%E8%B7%AF%E7%94%B1%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>关于Linux桌面版下，Steam部分游戏中文乱码解决方法</title>
    <link href="https://qzkyl.ml/posts/1450.html"/>
    <id>https://qzkyl.ml/posts/1450.html</id>
    <published>2020-03-03T05:15:01.000Z</published>
    <updated>2020-03-03T05:15:01.000Z</updated>
    
    <content type="html"><![CDATA[<p>这个方法可以解决大多数游戏，比如L4D2求生之路就可以。</p><p>解决方法是安装文泉驿字体</p><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install ttf-wqy-microhei  <span class="comment">#文泉驿-微米黑</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> install ttf-wqy-zenhei  <span class="comment">#文泉驿-正黑</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> install xfonts-wqy <span class="comment">#文泉驿-点阵宋体</span></span><br></pre></td></tr></table></figure><p>已测试Debian，deepin，mint，manjaro，ubuntu可以有效</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这个方法可以解决大多数游戏，比如L4D2求生之路就可以。&lt;/p&gt;
&lt;p&gt;解决方法是安装文泉驿字体&lt;/p&gt;
&lt;figure class=&quot;highlight applescript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux桌面版安装NVIDIA官网驱动的方法</title>
    <link href="https://qzkyl.ml/posts/39513.html"/>
    <id>https://qzkyl.ml/posts/39513.html</id>
    <published>2020-01-13T01:12:37.000Z</published>
    <updated>2020-01-13T01:12:37.000Z</updated>
    
    <content type="html"><![CDATA[<p>最近舍弃WIndows，使用linux桌面版，发现我太喜欢了</p><p>个人喜欢用官方发布的软件等，所以驱动也是自己摸索安装的</p><p>以Ubuntu和Deepin为例</p><p><strong>NVIDIA安装前：</strong></p><p>安装依赖，因为安装过程需要这些工具，g++不一定需要，保险安装</p><p><code>sudo apt-get install gcc g++ make</code></p><p>需要在安装驱动之前首先禁止nouveau驱动，在终端中运行以下命令：</p><p><code>sudo vi /etc/modprobe.d/blacklist.conf</code></p><p>然后在打开的blacklist.conf文件中添加如下内容：</p><p><code>blacklist nouveau options nouveau modeset=0</code></p><p>保存，然后执行命令：</p><p><code>sudo update-initramfs -u</code></p><p>一直等到检测结束，退出重启电脑，重新启动后验证是否成功，运行以下命令：</p><p><code>lsmod | grep nouveau</code></p><p>注：如果页面没什么反应、无输出什么内容即为成功。</p><p><strong>NVIDIA安装过程</strong></p><p>1、如果之前安装过NVIDIA驱动，请将其全部删除</p><p><code>sudo apt autoremove  nvidia-\*</code></p><p>2、重启系统</p><p>3、使用快捷键CTRL+ALT+F3进入终端</p><p>4、暂时关闭图形界面</p><p><code>sudo service lightdm stop</code></p><p>5、给下载好的.run驱动文件执行权限</p><p><code>sudo chmod a+x /home/abbw/Downloads/NVIDIA-Linux-x86\_64-440.44.run</code></p><p>6、开始安装</p><p><code>sudo sh /home/abbw/Downloads/NVIDIA-Linux-x86_64-440.44.run --no-opengl-files</code></p><p>7、安装过程，会询问Yes or NO，直接一路回车，不需要选择</p><p>8、安装结束，重启系统</p><p><code>–no-opengl-files</code> 参数必须加否则会循环登录，也就是loop login</p><p>9、终端执行</p><p><code>nvidia-smi</code></p><p>有内容输出则安装成功,在系统中已有NVIDIA X Server Settings</p><p>参数介绍：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">–<span class="keyword">no</span>-opengl-files 只安装驱动文件，不安装OpenGL文件。这个参数最重要</span><br><span class="line">–<span class="keyword">no</span>-x-<span class="keyword">check</span> 安装驱动时不检查X服务</span><br><span class="line">–<span class="keyword">no</span>-nouveau-<span class="keyword">check</span> 安装驱动时不检查nouveau</span><br><span class="line">后面两个参数可不加</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近舍弃WIndows，使用linux桌面版，发现我太喜欢了&lt;/p&gt;
&lt;p&gt;个人喜欢用官方发布的软件等，所以驱动也是自己摸索安装的&lt;/p&gt;
&lt;p&gt;以Ubuntu和Deepin为例&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;NVIDIA安装前：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;安装依赖，</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
  </entry>
  
  <entry>
    <title>L4D2插件编译&amp;反编译工具[2019.12.31]</title>
    <link href="https://qzkyl.ml/posts/36444.html"/>
    <id>https://qzkyl.ml/posts/36444.html</id>
    <published>2019-12-30T04:26:42.000Z</published>
    <updated>2019-12-30T04:26:42.000Z</updated>
    
    <content type="html"><![CDATA[<p>此工具主要是为了方便新手玩家，高端玩家可以无视</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1577680195/0c68237e14bdd51d53001afd0b84e9a1.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1577680195/0c68237e14bdd51d53001afd0b84e9a1.png"></p><p>目前支持一下功能：</p><ol><li><p>一键编译sp源码为smx插件</p></li><li><p>一键反编译smx插件为sp源码(仅供参考)</p></li><li><p>支持自定义编译器版本(内置172和180平台的编译器，可删除)</p></li><li><p>支持自定义背景图</p></li><li><p>支持一键添加插件</p></li></ol><p>注意：tools文件夹不要乱删</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">./tools/decompile/</span>        <span class="params">----</span>反编译器</span><br><span class="line"><span class="string">./tools/library/</span>          <span class="params">----</span>编译器版本存放目录</span><br><span class="line"><span class="string">./tools/</span>背景图<span class="string">.jpg</span>        <span class="params">----</span>背景图</span><br></pre></td></tr></table></figure><p>下载地址：</p><p>链接: <a href="https://pan.baidu.com/s/1KS6rOUD0_gr8zoSvOyfS5A">https://pan.baidu.com/s/1KS6rOUD0_gr8zoSvOyfS5A</a>  提取码: kntq</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;此工具主要是为了方便新手玩家，高端玩家可以无视&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>那些我们常用的Linux VPS一键安装Web网站环境脚本</title>
    <link href="https://qzkyl.ml/posts/60035.html"/>
    <id>https://qzkyl.ml/posts/60035.html</id>
    <published>2019-09-08T09:48:39.000Z</published>
    <updated>2019-09-08T09:48:39.000Z</updated>
    
    <content type="html"><![CDATA[<p>如今网络资源着实很丰富，作为非专业从业人员，我们如果能学会寻找资源和使用资源，还是能够较快的在某个行业中生存的。比如遇到很多所谓的前端开发人员，如果让他们完整的开发某个前端或者某个功能，可能还搞不定的，但是这些朋友擅长寻找网上的资源和解决问题。</p><p>这与我们使用Linux VPS建站一样，我们很多人都可能从虚拟主机过度过来的，因为有必要项目需求，需要用到VPS或者服务器，但是毕竟还是有一点点技术门槛的操作习惯的困扰，在部署WEB环境的时候稍微有点难度。于是我们就寻找是否有快捷和免费的资源，于是就想到使用Web面板和Linux一键包安装Web环境。</p><p>关于在Linux服务器中安装Web面板，老左在以后的文章中在整理，今天要分享的是利用Linux一键安装脚本来安装部署需要的Web环境。当然如果喜欢自己折腾和部署的，那就自定义编译安装，节省时间和快捷的方式可以用到网上这些免费的一键安装命令。</p><p><strong>第一、LNMP一键包</strong></p><p>官网：<a href="http://lnmp.org/">http://lnmp.org</a></p><p>简单介绍：这个应该是很多人较为熟悉的，来自军哥的LNMP一键包，到目前应该有好多年，且版本已经到1.3，且每年差不多会在6.1日更新一个新的版本（除非特别的补丁）。支持在CentOS&#x2F;RHEL&#x2F;Fedora&#x2F;Debian&#x2F;Ubuntu等系统中安装lnmp、lnmpa或lamp。</p><p>脚本优点：lnmp脚本毕竟有一定的年头，算是比较成熟的脚本，而且网上的文档比较多，遇到问题还可以比较方便的找到解决方法。可以快速的安装较新版本的PHP、MySQL等软件的nginx、apache web环境。</p><p>安装方法：</p><p>screen -S lnmp<br>wget -c <a href="http://soft.vpser.net/lnmp/lnmp1.3.tar.gz">http://soft.vpser.net/lnmp/lnmp1.3.tar.gz</a> &amp;&amp; tar zxf lnmp1.3.tar.gz &amp;&amp; cd lnmp1.3 &amp;&amp; .&#x2F;install.sh lnmp</p><p>如果需要安装lnmpa或lamp，我们也可以将.&#x2F;install.sh 后面的参数替换为lnmpa或lamp。</p><p><strong>第二、OneinStack一键包</strong></p><p>官网：<a href="https://oneinstack.com/">https://oneinstack.com</a></p><p>简单介绍：来自Linuxeye博主独立出来的一键包程序，虽然起步没有Lnmp早，但是在最近发展还是很迅猛的，主要是更新很快，能够快速的更新当前最新的软件版本，以及可以有各种组合安装。比如可以快速安装lnmp、lamp、lnmpa、lnmt。</p><p>脚本优点：oneinstack一键脚本虽然不算新，但是经过这段时间的发展已经被广大用户实践过，基本上也没有较大的问题，而且可以根据实际的需要选择各种组合和各种软件的版本。</p><p>脚本安装：（centos）</p><p>yum -y install wget screen curl python<br>wget <a href="http://mirrors.linuxeye.com/oneinstack-full.tar.gz">http://mirrors.linuxeye.com/oneinstack-full.tar.gz</a><br>tar xzf oneinstack-full.tar.gz<br>cd oneinstack<br>screen -S oneinstack<br>.&#x2F;install.sh</p><p>这个安装脚本是安装到centos环境的，如果需要debian环境安装，可以到官方网站查看安装命令。</p><p><strong>第三、LAMP一键包</strong></p><p>官网：<a href="https://lamp.sh/">https://lamp.sh</a></p><p>简单介绍：LAMP 一键安装包可用在 CentOS&#x2F;RadHat&#x2F;Debian&#x2F;Ubuntu 系统的 VPS 或服务器安装 LAMP(Linux + Apache + MySQL&#x2F;MariaDB + PHP) 生产环境。包含ZendGuardLoader、ionCube PHP Loader、XCache、OPcache、memcached、Redis、GraphicsMagick、ImageMagick、Swoole 等组件。</p><p>脚本优点：如果我们站长用户不需要特别复杂的安装环境的话，比如有些网友就喜欢Apache环境，可以用Teddysun作者的这款LAMP脚本。而且作者更新还算勤奋，PHP也已经有到7.0、MySQL已经到5.7。还新增自动备份脚本。</p><p>脚本安装：(centos)</p><p>yum -y install wget screen unzip<br>wget -O lamp.zip <a href="https://github.com/teddysun/lamp/archive/master.zip">https://github.com/teddysun/lamp/archive/master.zip</a><br>unzip lamp.zip<br>cd lamp-master&#x2F;<br>chmod +x *.sh<br>screen -S lamp<br>.&#x2F;lamp.sh</p><p>这个安装脚本是安装到centos环境的，如果需要debian环境安装，可以到官方网站查看安装命令。</p><p><strong>第四、LTMP一键包</strong></p><p>官网：<a href="http://www.ltmp.cc/">http://www.ltmp.cc</a></p><p>简单介绍：根据官方的介绍这个LTMP脚本应该是基于网上其他的LNMP脚本和环境精简和修改过程的，可以安装成LTMP(Nginx、Tengine、Apache、MySQL、MariaDB、PHP、phpMyAdmin)环境。</p><p>脚本优点：虽然这个脚本是用网上一些脚本修改过来的，但是对于有需要安装Tengine一键环境的，可以直接使用，根据作者的述说是做过一些优化处理的，但具体的我也没有使用过，如果有用过的朋友可以评论。</p><p>脚本安装：</p><p>wget -c <a href="http://www.ltmp.cc/download/ltanmp.tar.gz">http://www.ltmp.cc/download/ltanmp.tar.gz</a><br>tar zxvf ltanmp.tar.gz<br>cd ltanmp<br>.&#x2F;centos.sh</p><p><strong>第五、EZHTTP一键包</strong></p><p>官网：<a href="https://www.centos.bz/">https://www.centos.bz</a></p><p>简单介绍：这个一键包脚本来自Centos.BZ博主对于Linux运维有相当的经验，经过将以前脚本的整合然后推出EZHTTP一键脚本。支持centos、ubuntu、debian大部分版本和环境。可以安装lamp、lnmp、lnamp web环境。</p><p>脚本优点：这个脚本可以帮助我们快速安装lamp、lnmp等常用web环境，但是好像目前不在维护，比如php版本目前还停留在php5.6。</p><p>脚本安装：</p><p>git clone <a href="https://github.com/centos-bz/ezhttp.git">https://github.com/centos-bz/ezhttp.git</a><br>cd ezhttp<br>chmod +x start.sh<br>.&#x2F;start.sh</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;如今网络资源着实很丰富，作为非专业从业人员，我们如果能学会寻找资源和使用资源，还是能够较快的在某个行业中生存的。比如遇到很多所谓的前端开发人员，如果让他们完整的开发某个前端或者某个功能，可能还搞不定的，但是这些朋友擅长寻找网上的资源和解决问题。&lt;/p&gt;
&lt;p&gt;这与我们使用L</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
    <category term="Linux脚本" scheme="https://qzkyl.ml/tags/Linux%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>PC网易云音乐灰色歌曲解锁工具</title>
    <link href="https://qzkyl.ml/posts/52998.html"/>
    <id>https://qzkyl.ml/posts/52998.html</id>
    <published>2019-08-31T13:27:29.000Z</published>
    <updated>2021-06-04T13:27:29.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>因为版权问题，越来越多的歌曲变灰而无法播放，于是我写了这一款解锁灰色歌曲的小工具，原先灰色的有版权音乐，现在不仅可以在线听，还能下载<br>实现原理：针对网易云灰色音乐，经过HTTP代理将变灰歌曲链接会被 QQ &#x2F; 虾米 &#x2F; 百度 &#x2F; 酷狗 &#x2F; 酷我 &#x2F; 咕咪 &#x2F; JOOX 音源替换，这样变灰音乐就可以听啦</p></blockquote><p>最终版：<br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1567258228/Final.png" alt="最终版截图" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1567258228/Final.png" class="lozad post-image"></p><p>特殊版：<br><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1567258228/Special.png" alt="特殊版截图" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1567258228/Special.png" class="lozad post-image"></p><h1 id="启动器使用方法"><a href="#启动器使用方法" class="headerlink" title="启动器使用方法"></a>启动器使用方法</h1><ol><li>配置node和依赖目录(特殊版会自动获取当前目录下是否存在)</li><li>填写端口和音源(特殊版普通模式自动设置)</li><li>一键启动(特殊版将打开程序后自动启动)</li><li>特殊版需切换专业模式才能开机自启</li><li>网易云音乐客户端填写代理即可</li></ol><p>启动后，还需要给网易云音乐客户端设置代理，否则无法正常使用</p><h1 id="Windows客户端设置方法"><a href="#Windows客户端设置方法" class="headerlink" title="Windows客户端设置方法"></a>Windows客户端设置方法</h1><p><img src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1567258228/2d8fd020f9d5171d3810d678ax172d96.png" alt="最终版截图" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1567258228/2d8fd020f9d5171d3810d678ax172d96.png" class="lozad post-image"></p><p>注意：只支持Windows客户端，UWP(Win10应用商店)客户端不支持</p><h1 id="手机客户端设置方法"><a href="#手机客户端设置方法" class="headerlink" title="手机客户端设置方法"></a>手机客户端设置方法</h1><ol><li>获取本机的IPv4地址</li><li>手机wifi设置手动代理</li><li>服务器填IPv4，端口填写代理端口</li><li>结束</li></ol><h1 id="Linux客户端设置方法"><a href="#Linux客户端设置方法" class="headerlink" title="Linux客户端设置方法"></a>Linux客户端设置方法</h1><p>博客内搜索相关文章</p><details ><summary> <p>点我查看下载地址</p> </summary>              <div class='content'>              <p>以下都是经过作者测试可用，请正确配置依赖和node目录</p><p>最新依赖：<a href="https://github.com/nondanee/UnblockNeteaseMusic/releases">https://github.com/nondanee/UnblockNeteaseMusic/releases</a></p><p>node64位：<a href="https://npm.taobao.org/mirrors/node/v13.14.0/node-v13.14.0-win-x64.zip">https://npm.taobao.org/mirrors/node/v13.14.0/node-v13.14.0-win-x64.zip</a></p><p>node32位：<a href="https://npm.taobao.org/mirrors/node/v13.14.0/node-v13.14.0-win-x86.zip">https://npm.taobao.org/mirrors/node/v13.14.0/node-v13.14.0-win-x86.zip</a></p><p>网易绿色版：<a href="https://abbw.lanzoui.com/iAJzzjnhteh">https://abbw.lanzoui.com/iAJzzjnhteh</a></p><p>启动器整合：<a href="https://abbw.lanzoui.com/b01605c6b">https://abbw.lanzoui.com/b01605c6b</a> 密码:9vmy</p><div class="post-note note-info"><p>特殊版整体比较简单，只需要打开程序就可以使用，推荐使用该版本</p></div>              </div>            </details><details ><summary> <p>常见问题解答(必看)</p> </summary>              <div class='content'>              <p>Q1：播放的音乐不一致？<br>A1：解锁原理是更换播放来源，只能尝试更换音源排序，优先使用第一个音源播放</p><p>Q2：网易云音乐填写代理后，提示代理不可用？<br>A2：文件夹名字禁止使用任何符号，并确保hosts文件内不存在 <code>muisc.163.com</code></p><p>Q3：如何检测解锁是否正常运行？<br>A3：任务管理器查看 <code>node.exe</code> 进程是否存在</p>              </div>            </details>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;因为版权问题，越来越多的歌曲变灰而无法播放，于是我写了这一款解锁灰色歌曲的小工具，原先灰色的有版权音乐，现在不仅可以在线听，还能下载&lt;br&gt;实现原理：针对网易云灰色音乐，经过HTTP代理将变灰歌曲链接会被 QQ &amp;#x2F; 虾米 &amp;#x2F; 百</summary>
      
    
    
    
    <category term="Windows" scheme="https://qzkyl.ml/categories/Windows/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>L4D2 插件平台通用安装器+自整合的多人纯净插件包</title>
    <link href="https://qzkyl.ml/posts/10814.html"/>
    <id>https://qzkyl.ml/posts/10814.html</id>
    <published>2019-08-09T15:10:05.000Z</published>
    <updated>2019-08-09T15:10:05.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>首先给大家介绍下这个插件平台通用安装器，这款软件，算是造福其他作者整合的插件包，但又不会写程序的。</p><p>你可以套用这个外壳，实现安装你整合的插件包。这个外壳刚写好的，后期可能添加功能，看反应如何咯。</p></blockquote><p>目前简单实现以下功能：</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1565363657/b9a260f68c950e8ff7e17744e552ef77.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1565363657/b9a260f68c950e8ff7e17744e552ef77.png"></p><p>作者自整合的纯净多人插件包，包括多人BOT管理插件都带有。</p><p>整合插件包下载地址：<a href="https://pan.baidu.com/s/1zRB5BvCSJ5pZorPzqfE4UQ">https://pan.baidu.com/s/1zRB5BvCSJ5pZorPzqfE4UQ</a> 提取码：2333</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;首先给大家介绍下这个插件平台通用安装器，这款软件，算是造福其他作者整合的插件包，但又不会写程序的。&lt;/p&gt;
&lt;p&gt;你可以套用这个外壳，实现安装你整合的插件包。这个外壳刚写好的，后期可能添加功能，看反应如何咯。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Aria2 Win通用启动器，一键搭建&amp;启动&amp;WebUI[2019.11.06]</title>
    <link href="https://qzkyl.ml/posts/45131.html"/>
    <id>https://qzkyl.ml/posts/45131.html</id>
    <published>2019-07-28T06:24:03.000Z</published>
    <updated>2019-07-28T06:24:03.000Z</updated>
    
    <content type="html"><![CDATA[<p>aria2估计听过的人还是比较少的，不过在喜欢折腾远程下载的人中间可是大名鼎鼎，至于远程下载这个范围就广泛了，例如我们的路由器，我们的专业存储设备Nas，Aria2几乎都是下载器的第一选择</p><p>aria2支持通过HTTP(S), FTP, SFTP, BitTorrent,Metalink的链接形式来下载，并且同一个文件它支持这几种形式的混合的方式来下载，所以基本上只要资源没有问题，它完全可以替代迅雷，并且速度不会慢</p><p>aria2 以其好用又难用而著称，好用在这样一款超轻量级的下载工具，难用在命令行，阻挡了不少用户</p><p>所以，作者我为了方便自己，就诞生出这款工具，完全不用动脑，点开启就能启动了</p><p>再也不用羡慕别人了</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1564295377/bc9756e55c2ed2a20e949c9214750c7b.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1564295377/bc9756e55c2ed2a20e949c9214750c7b.png"></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1564295377/e916d99a4e21794c333455e8459e8509.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1564295377/e916d99a4e21794c333455e8459e8509.png"></p><p>链接：<a href="https://pan.baidu.com/s/1JgPbhT5_l1Ms-doEfX4DpA">https://pan.baidu.com/s/1JgPbhT5_l1Ms-doEfX4DpA</a> 提取码: 2kj3</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;aria2估计听过的人还是比较少的，不过在喜欢折腾远程下载的人中间可是大名鼎鼎，至于远程下载这个范围就广泛了，例如我们的路由器，我们的专业存储设备Nas，Aria2几乎都是下载器的第一选择&lt;/p&gt;
&lt;p&gt;aria2支持通过HTTP(S), FTP, SFTP, BitTor</summary>
      
    
    
    
    <category term="Windows" scheme="https://qzkyl.ml/categories/Windows/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
    <category term="aria2" scheme="https://qzkyl.ml/tags/aria2/"/>
    
  </entry>
  
  <entry>
    <title>被特感控制状态下，禁止闲置功能</title>
    <link href="https://qzkyl.ml/posts/33387.html"/>
    <id>https://qzkyl.ml/posts/33387.html</id>
    <published>2019-06-27T05:13:47.000Z</published>
    <updated>2019-06-27T05:13:47.000Z</updated>
    
    <content type="html"><![CDATA[<p>在多人时，被特感控制时，可以一直来回闲置，然后就会出现不扣血的BUG</p><p>暂时只能被控制时，禁止闲置了</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561612499/6b1d522ce322ad2c341b743b7b21a4ad.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561612499/6b1d522ce322ad2c341b743b7b21a4ad.jpg"></p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sourcemod&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;sdktools&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">OnPluginStart</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="built_in">AddCommandListener</span>(Fuck_YOU, <span class="string">&quot;go_away_from_keyboard&quot;</span>);</span><br><span class="line">     <span class="built_in">AddCommandListener</span>(Fuck_YOU, <span class="string">&quot;sm_away&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> Action:<span class="built_in">Fuck_YOU</span>(<span class="type">int</span> <span class="built_in">Client</span>, <span class="type">const</span> <span class="type">char</span>[] sCommand, <span class="type">int</span> iArg)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Fuck</span>(<span class="built_in">Client</span>))</span><br><span class="line">&#123;</span><br><span class="line">          <span class="keyword">if</span>(<span class="built_in">GetClientTeam</span>(<span class="built_in">Client</span>) == <span class="number">2</span>)</span><br><span class="line">          &#123;</span><br><span class="line">               <span class="built_in">PrintToChat</span>(<span class="built_in">Client</span>, <span class="string">&quot;\x03你被控了，不可以闲置&quot;</span>);</span><br><span class="line">               <span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">          &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> Plugin_Continue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Fuck</span><span class="params">(<span class="built_in">Client</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">GetEntPropEnt</span>(<span class="built_in">Client</span>, Prop_Send, <span class="string">&quot;m_pummelAttacker&quot;</span>) &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">GetEntPropEnt</span>(<span class="built_in">Client</span>, Prop_Send, <span class="string">&quot;m_carryAttacker&quot;</span>) &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">GetEntPropEnt</span>(<span class="built_in">Client</span>, Prop_Send, <span class="string">&quot;m_pounceAttacker&quot;</span>) &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">GetEntPropEnt</span>(<span class="built_in">Client</span>, Prop_Send, <span class="string">&quot;m_jockeyAttacker&quot;</span>) &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">GetEntPropEnt</span>(<span class="built_in">Client</span>, Prop_Send, <span class="string">&quot;m_tongueOwner&quot;</span>) &gt; <span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在多人时，被特感控制时，可以一直来回闲置，然后就会出现不扣血的BUG&lt;/p&gt;
&lt;p&gt;暂时只能被控制时，禁止闲置了&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-sr</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>连续按空格键挣扎自救，可玩性更高</title>
    <link href="https://qzkyl.ml/posts/24912.html"/>
    <id>https://qzkyl.ml/posts/24912.html</id>
    <published>2019-06-27T04:50:27.000Z</published>
    <updated>2019-06-27T04:50:27.000Z</updated>
    
    <content type="html"><![CDATA[<p>基于Pan XiaoHai二次修改的自救</p><p>原版有bug，我修复了</p><p>再此基础上，添加自定义参数，可以在CFG设置</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561611438/dfdf4fc694522ca19c688e8626698a9a.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561611438/dfdf4fc694522ca19c688e8626698a9a.png"></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561611431/0fe40dbb389c625a9cd2b1f3ff78ebde.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561611431/0fe40dbb389c625a9cd2b1f3ff78ebde.png"></p><p>下载后改名.zip：<a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1561611566/b46733009030163a5d975f7d8e6ff41c.smx">挣扎自救.zip</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;基于Pan XiaoHai二次修改的自救&lt;/p&gt;
&lt;p&gt;原版有bug，我修复了&lt;/p&gt;
&lt;p&gt;再此基础上，添加自定义参数，可以在CFG设置&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>阻止玩家短时间内操作安全门</title>
    <link href="https://qzkyl.ml/posts/10183.html"/>
    <id>https://qzkyl.ml/posts/10183.html</id>
    <published>2019-06-03T10:48:56.000Z</published>
    <updated>2019-06-03T10:48:56.000Z</updated>
    
    <content type="html"><![CDATA[<p>好东西，向来只有源码</p><p>5秒内连续开关安全门，安全门会被限制操作</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1559559172/8e4c77a9215232b4bec25e08c7a0b446.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1559559172/8e4c77a9215232b4bec25e08c7a0b446.jpg"></p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">include</span> &lt;sourcemod&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;sdktools&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> pressedE<span class="literal">[MAXPLAYERS+<span class="number">1</span>]</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public Plugin:myinfo=</span><br><span class="line">&#123;</span><br><span class="line">name = <span class="string">&quot;阻止频繁操作终点安全门&quot;</span>,</span><br><span class="line">author = <span class="string">&quot;笨蛋海绵&quot;</span>,</span><br><span class="line">description = <span class="string">&quot;阻止频繁操作终点安全门&quot;</span>,</span><br><span class="line">version = <span class="string">&quot;5.0.0&quot;</span>,</span><br><span class="line">url = <span class="string">&quot;QQ群:133102253&quot;</span>  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public <span class="constructor">OnPluginStart()</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="constructor">HookEvent(<span class="string">&quot;player_use&quot;</span>, <span class="params">player_use</span>)</span>; </span><br><span class="line">     <span class="constructor">HookEvent(<span class="string">&quot;round_start&quot;</span>, Event_RoundStart)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">Event_RoundStart( Handle:<span class="params">event</span>, <span class="params">const</span> String:<span class="params">name</span>[], <span class="params">bool</span>:<span class="params">dontBroadcast</span> )</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">new</span> i=<span class="number">1</span>; i&lt;=MaxClients; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsClientInGame(<span class="params">i</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">               pressedE<span class="literal">[<span class="identifier">i</span>]</span> = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:player<span class="constructor">_use(Handle:<span class="params">event</span>, <span class="params">const</span> String:<span class="params">name</span>[], <span class="params">bool</span>:<span class="params">dontBroadcast</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">new</span> client = <span class="constructor">GetClientOfUserId(GetEventInt(<span class="params">event</span>, <span class="string">&quot;userid&quot;</span>)</span>);</span><br><span class="line">     <span class="keyword">new</span> targetid = <span class="constructor">GetEventInt(<span class="params">event</span>, <span class="string">&quot;targetid&quot;</span>)</span>;</span><br><span class="line">     <span class="keyword">if</span>(client&gt;<span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> String:entname<span class="literal">[<span class="number">64</span>]</span>;</span><br><span class="line"><span class="keyword">if</span>(<span class="constructor">GetEdictClassname(<span class="params">targetid</span>, <span class="params">entname</span>, <span class="params">sizeof</span>(<span class="params">entname</span>)</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="constructor">StrEqual(<span class="params">entname</span>, <span class="string">&quot;prop_door_rotating_checkpoint&quot;</span>)</span><span class="operator"> &amp;&amp; </span><span class="constructor">IsLeftStartAreaArea()</span>)</span><br><span class="line">&#123;</span><br><span class="line">                    pressedE<span class="literal">[<span class="identifier">client</span>]</span>++;</span><br><span class="line">                    <span class="keyword">if</span> (pressedE<span class="literal">[<span class="identifier">client</span>]</span> &gt; <span class="number">8</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                         <span class="constructor">AcceptEntityInput(<span class="params">targetid</span>, <span class="string">&quot;Lock&quot;</span>)</span>;</span><br><span class="line">                         <span class="constructor">SetEntProp(<span class="params">targetid</span>, Prop_Data, <span class="string">&quot;m_hasUnlockSequence&quot;</span>, 1)</span>;</span><br><span class="line">                         <span class="constructor">CreateTimer(5.0, Allow, <span class="params">client</span>)</span>;</span><br><span class="line">                         <span class="constructor">PrintHintText(<span class="params">client</span>, <span class="string">&quot;\x03小伙子门可不是随便玩的，5秒后再试试?&quot;</span>)</span>;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                         <span class="constructor">AcceptEntityInput(<span class="params">targetid</span>, <span class="string">&quot;Unlock&quot;</span>)</span>;</span><br><span class="line">                         <span class="constructor">SetEntProp(<span class="params">targetid</span>, Prop_Data, <span class="string">&quot;m_hasUnlockSequence&quot;</span>, 0)</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">          &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     return Plugin_Handled;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">Allow(Handle:Timer, <span class="params">any</span>:<span class="params">client</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">     pressedE<span class="literal">[<span class="identifier">client</span>]</span> = <span class="number">0</span>;</span><br><span class="line">     <span class="constructor">PrintHintText(<span class="params">client</span>, <span class="string">&quot;\x03小伙子门可以操作了，手勿贱!&quot;</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">bool</span>:<span class="constructor">IsLeftStartAreaArea()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> ent = -<span class="number">1</span>, maxents = <span class="constructor">GetMaxEntities()</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">new</span> i = MaxClients+<span class="number">1</span>; i &lt;= maxents; i++)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsValidEntity(<span class="params">i</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">decl String:netclass<span class="literal">[<span class="number">64</span>]</span>;</span><br><span class="line"><span class="constructor">GetEntityNetClass(<span class="params">i</span>, <span class="params">netclass</span>, <span class="params">sizeof</span>(<span class="params">netclass</span>)</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">StrEqual(<span class="params">netclass</span>, <span class="string">&quot;CTerrorPlayerResource&quot;</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">ent = i;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (ent &gt; -<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> offset = <span class="constructor">FindSendPropInfo(<span class="string">&quot;CTerrorPlayerResource&quot;</span>, <span class="string">&quot;m_hasAnySurvivorLeftSafeArea&quot;</span>)</span>;</span><br><span class="line"><span class="keyword">if</span> (offset &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">GetEntData(<span class="params">ent</span>, <span class="params">offset</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">GetEntData(<span class="params">ent</span>, <span class="params">offset</span>)</span><span class="operator"> == </span><span class="number">1</span>) return <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;好东西，向来只有源码&lt;/p&gt;
&lt;p&gt;5秒内连续开关安全门，安全门会被限制操作&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.j</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Linux搭建一台私人的KMS激活服务器</title>
    <link href="https://qzkyl.ml/posts/47284.html"/>
    <id>https://qzkyl.ml/posts/47284.html</id>
    <published>2019-05-24T06:42:28.000Z</published>
    <updated>2019-05-24T06:42:28.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>KMS是微软批量激活服务器（Key Management Server）的英文缩写，从Windows Vista开始，Microsoft使用多次激活密钥（MAK, Multiple Activation Keys）和密钥管理服务器（KMS, Key Management Server）取代旧的批量授权密钥。客户端需要每180天连回KMS</p></blockquote><p>但是由于KMS服务器大部分只存在于已购买微软软件正版授权的企业或高校中，这使得我们不得不费力寻找一个可用的KMS激活服务器，今天博主就教大家如何在自己的VPS上搭建KMS激活服务器</p><p><strong>Vlmcsd Github主页：<a href="https://github.com/Wind4/vlmcsd">https://github.com/Wind4/vlmcsd</a></strong></p><p><strong>搭建过程</strong></p><p>首先通过SSH工具连接到VPS，然后输入以下命令</p><p>wget <a href="https://raw.githubusercontent.com/Mr-xn/kms-server-deploy/master/kms-server-deploy.sh">https://raw.githubusercontent.com/Mr-xn/kms-server-deploy/master/kms-server-deploy.sh</a> &amp;&amp; bash kms-server-deploy.sh</p><p>当你看到下图界面后，输入1，然后脚本就会自动安装Vlmcsd。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558679990/bf7802b3927d63b5e0e2e02a7af5dcf4.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558679990/bf7802b3927d63b5e0e2e02a7af5dcf4.png"></p><p><strong>Windows 激活方法</strong></p><p>1.打开 命令提示符(管理员)</p><p>2.执行以下命令</p><p><code>slmgr /skms www.mbolg.ml &amp;&amp; slmgr /ato //www.mbolg.ml</code></p><p>这个是我搭建的kms激活地址</p><p>查看系统版本（备用）</p><p><code>wmic os get caption</code></p><p>查看激活详情（备用）</p><p><code>slmgr /dlv</code></p><p>如果激活失败有两种原因：</p><ol><li><p>你无意中修改或卸载了系统自带的激活密钥。</p><p>解决办法：命令提示符(管理员)执行以下命令安装密钥后重新激活（密钥自行寻找）</p><p><code>slmgr /ipk XXXXX-XXXXX-XXXXX-XXXXX-XXXXX</code></p></li><li><p>你安装的系统为RTL版，需要先转换为VOL版才能激活，方法请参照特例。</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;KMS是微软批量激活服务器（Key Management Server）的英文缩写，从Windows Vista开始，Microsoft使用多次激活密钥（MAK, Multiple Activation Keys）和密钥管理服务器（KMS, Key</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
    <category term="Linux脚本" scheme="https://qzkyl.ml/tags/Linux%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>最详细的ShadowsocksR多用户一键脚本</title>
    <link href="https://qzkyl.ml/posts/43633.html"/>
    <id>https://qzkyl.ml/posts/43633.html</id>
    <published>2019-05-24T06:32:00.000Z</published>
    <updated>2019-05-24T06:32:00.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>SSR 是一款基于 Shadowsocks 改进而来的一键富强&#x2F;爱国工具，适合那些喜欢上 Google、Facebook、Twitter、以及汤不热等国外热门 404 网站的爱好者们，本文为大家提供如何在国外未被 GFW 屏蔽的 VPS 上安装 SSR 一键爱国工具教程（脚本由逗比根据地提供）</p></blockquote><p><strong>系统要求</strong></p><p>CentOS 6+ &#x2F; Debian 6+ &#x2F; Ubuntu 14.04 +</p><p><strong>安装步骤</strong></p><p>使用 Xshell 登录你的 VPS，粘贴以下命令</p><p><code>wget -N --no-check-certificate https://raw.githubusercontent.com/ToyoDAdoubi/doubi/master/ssrmu.sh &amp;&amp; chmod +x ssrmu.sh &amp;&amp; bash ssrmu.sh</code></p><p>下载运行后会提示你输入数字来选择要做什么</p><p>输入 1 ，就会开始安装 ShadowsocksR 服务端，并且会提示你输入 Shadowsocks 的 端口&#x2F;密码&#x2F;加密方式&#x2F; 协议&#x2F;混淆（混淆和协议是通过输入数字选择的） 等参数来添加第一个用户</p><p>注意：</p><ol><li><p>用户名不支持中文，如果输入中文会一直保存下去！</p></li><li><p>同时最后也会提示是否设置 混淆 兼容原版（也就是使用原版 SS 也能链接），不懂 直接回车 或 输入 y 。（协议不在兼容原版）</p></li><li><p>关于限制设备数数，这个协议必须是非原版并且不兼容原版才有效，也就是必须 SSR 客户端使用协议的情况下，才有效！</p></li><li><p>如果你想要使用 Chacha20 加密模式，请在配置 ShadowsocksR 之前，选择第四个选项：安装 libsodium(chacha20)</p></li></ol><p>不输入一路回车就是 默认参数：</p><p>用户 : doubi<br>端口 : 2333<br>密码 : doub.io<br>加密 : aes-128-ctr<br>协议 : auth_aes128_md5<br>混淆 : plain<br>设备数限制: 0(无限)<br>单线程限速: 0 KB&#x2F;S (不限速)<br>端口总限速: 0 KB&#x2F;S (不限速)<br>禁止的端口 : 无限制<br>用户总流量 : 819.21 TB</p><p>特别提示：强烈建议各位新手小白，一定不要使用系统默认端口和密码，以防止 GFW 大面积封 IP 和端口。</p><p>如果安装过程没有出错，那么最后就会提示：</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">############################################################</span><br><span class="line"> 用户 [doubi] 的配置信息：</span><br><span class="line"></span><br><span class="line"> I P     : xxx.xxx.xxx.xxx</span><br><span class="line"> 端口     : <span class="number">2333</span></span><br><span class="line"> 密码     : doub.io</span><br><span class="line"> 加密     : aes<span class="number">-128</span>-ctr</span><br><span class="line"> 协议     : auth_aes128_md5</span><br><span class="line"> 混淆     : plain</span><br><span class="line"> 设备数限制: <span class="number">5</span></span><br><span class="line"> 单线程限速: <span class="number">666</span> KB/S</span><br><span class="line"> 端口总限速: <span class="number">2333</span> KB/S</span><br><span class="line"> 禁止的端口 : 无限制</span><br><span class="line"></span><br><span class="line"> 已使用流量 : 上传: XXX KB + 下载: XXX MB = XXX MB</span><br><span class="line"> 剩余的流量 : <span class="number">980</span> MB</span><br><span class="line"> 用户总流量 : <span class="number">1</span> GB</span><br><span class="line"></span><br><span class="line"> SS 链接: ss:<span class="comment">//xxxxxxxxxxxxx</span></span><br><span class="line"> SS 二维码: http:<span class="comment">//pan.baidu.com/share/qrcode?w=300&amp;h=300&amp;url=ss://xxxxxxxxxxxxx</span></span><br><span class="line"> SSR 链接: ssr:<span class="comment">//xxxxxxxxxxxxx</span></span><br><span class="line"> SSR 二维码: http:<span class="comment">//pan.baidu.com/share/qrcode?w=300&amp;h=300&amp;url=ssr://xxxxxxxxxxxxx</span></span><br><span class="line"></span><br><span class="line"> 提示:</span><br><span class="line"> 在浏览器中，打开二维码链接，就可以看到二维码图片</span><br><span class="line"> 协议和混淆后面的[_compatible]，指的是 兼容原版协议/混淆</span><br><span class="line"></span><br><span class="line">############################################################</span><br></pre></td></tr></table></figure><p>SS&#x2F;SSR 链接（格式： ss:&#x2F;&#x2F;XXXXXXX ，很长），可以从剪辑版导入 Shadowsocks 客户端，不懂的话看下面二维码</p><p>SS&#x2F;SSR 二维码，复制后面的链接在浏览器打开，二维码 API 网站就会生成一个二维码的图片，可以用 ShadowsocksR 客户端扫描二维码来添加</p><p><strong>使用说明</strong></p><p>运行脚本</p><p><code>bash ssrmu.sh</code></p><p> 还有一个 运行参数，是用于所有用户流量清零的</p><p><code>bash ssrmu.sh clearall</code></p><p>不过不需要管这个，可以通过脚本自动化的设置 crontab 定时运行脚本</p><p>输入对应的数字来执行相应的命令</p><figure class="highlight brainfuck"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">ShadowsocksR MuJSON 一键管理脚本 </span><span class="title">[</span><span class="comment">vX</span><span class="string">.</span><span class="comment">X</span><span class="string">.</span><span class="comment">X</span><span class="title">]</span></span><br><span class="line"><span class="comment">  </span><span class="literal">----</span><span class="comment"> Toyo | doub</span><span class="string">.</span><span class="comment">io/ss</span><span class="literal">-</span><span class="comment">jc60 </span><span class="literal">----</span></span><br><span class="line"></span><br><span class="line"><span class="comment">  1</span><span class="string">.</span><span class="comment"> 安装 ShadowsocksR</span></span><br><span class="line"><span class="comment">  2</span><span class="string">.</span><span class="comment"> 更新 ShadowsocksR</span></span><br><span class="line"><span class="comment">  3</span><span class="string">.</span><span class="comment"> 卸载 ShadowsocksR</span></span><br><span class="line"><span class="comment">  4</span><span class="string">.</span><span class="comment"> 安装 libsodium(chacha20)</span></span><br><span class="line"><span class="comment">————————————</span></span><br><span class="line"><span class="comment">  5</span><span class="string">.</span><span class="comment"> 查看 账号信息</span></span><br><span class="line"><span class="comment">  6</span><span class="string">.</span><span class="comment"> 显示 连接信息</span></span><br><span class="line"><span class="comment">  7</span><span class="string">.</span><span class="comment"> 设置 用户配置</span></span><br><span class="line"><span class="comment">  8</span><span class="string">.</span><span class="comment"> 手动 修改配置</span></span><br><span class="line"><span class="comment">  9</span><span class="string">.</span><span class="comment"> 配置 流量清零</span></span><br><span class="line"><span class="comment">————————————</span></span><br><span class="line"><span class="comment"> 10</span><span class="string">.</span><span class="comment"> 启动 ShadowsocksR</span></span><br><span class="line"><span class="comment"> 11</span><span class="string">.</span><span class="comment"> 停止 ShadowsocksR</span></span><br><span class="line"><span class="comment"> 12</span><span class="string">.</span><span class="comment"> 重启 ShadowsocksR</span></span><br><span class="line"><span class="comment"> 13</span><span class="string">.</span><span class="comment"> 查看 ShadowsocksR 日志</span></span><br><span class="line"><span class="comment">————————————</span></span><br><span class="line"><span class="comment"> 14</span><span class="string">.</span><span class="comment"> 其他功能</span></span><br><span class="line"><span class="comment"> 15</span><span class="string">.</span><span class="comment"> 升级脚本</span></span><br><span class="line"></span><br><span class="line"><span class="comment"> 当前状态: 已安装 并 已启动</span></span><br><span class="line"></span><br><span class="line"><span class="comment">请输入数字 </span><span class="title">[</span><span class="comment">1</span><span class="literal">-</span><span class="comment">15</span><span class="title">]</span><span class="comment">：</span></span><br></pre></td></tr></table></figure><p>注意：添加&#x2F;删除&#x2F;修改 用户配置后，无需重启 ShadowsocksR 服务端，ShadowsocksR 服务端会定时读取数据库文件内的信息，不过修改 用户配置后，可能要等个十几秒才能应用最新的配置（因为 ShadowsocksR 不是实时读取数据库的，所以有间隔时间）</p><p><strong>文件位置</strong></p><p>安装目录：&#x2F;usr&#x2F;local&#x2F;shadowsocksr</p><p>日志位置：&#x2F;usr&#x2F;local&#x2F;shadowsocksr&#x2F;ssserver.log</p><p>配置文件：&#x2F;usr&#x2F;local&#x2F;shadowsocksr&#x2F;user-config.json</p><p>数据文件：&#x2F;usr&#x2F;local&#x2F;shadowsocksr&#x2F;mudb.json</p><p>注意：如果要转移用户数据，只需要转移 mudb.json 文件或其内容即可</p><p>注意：ShadowsocksR 服务端不会实时的把流量数据写入 数据库文件，所以脚本读取流量信息也不是实时的</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;SSR 是一款基于 Shadowsocks 改进而来的一键富强&amp;#x2F;爱国工具，适合那些喜欢上 Google、Facebook、Twitter、以及汤不热等国外热门 404 网站的爱好者们，本文为大家提供如何在国外未被 GFW 屏蔽的 VPS </summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
    <category term="Shadowsocks" scheme="https://qzkyl.ml/tags/Shadowsocks/"/>
    
    <category term="Linux脚本" scheme="https://qzkyl.ml/tags/Linux%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Android设备使用ShadowsocksR上网教程</title>
    <link href="https://qzkyl.ml/posts/1469.html"/>
    <id>https://qzkyl.ml/posts/1469.html</id>
    <published>2019-05-24T06:09:05.000Z</published>
    <updated>2019-05-24T06:09:05.000Z</updated>
    
    <content type="html"><![CDATA[<p>本文教大家如何在Android设备上安装并设置ShadowsocksR客户端进行科学上网。</p><blockquote><p>ShadowsocksR可以指：一种基于Socks5代理方式的加密传输协议，也可以指实现这个协议的各种开发包。当前包使用Python、C、C++、C#、Go语言等编程语言开发，大部分主要实现（iOS平台的除外）采用Apache许可证、GPL、MIT许可证等多种自由软件许可协议开放源代码。ShadowsocksR分为服务器端和客户端，在使用之前，需要先将服务器端部署到服务器上面，然后通过客户端连接并创建本地代理</p></blockquote><p>ShadowsocksR For Android客户端下载地址：<a href="https://github.com/shadowsocksrr/shadowsocksr-android/releases">GitHub下载</a></p><p><strong>设置教程</strong></p><p>复制SSR地址</p><p>1.复制ssr:&#x2F;&#x2F;开头的SSR链接地址</p><p>2.打开SSRR，点击左上角ShadowsocksR</p><p>2.选择右下角+号按钮，然后选择从剪贴板导入</p><p>3.最后点击红色纸飞机按钮，即可成功连接SSR</p><p>使用SSR订阅</p><p>1.复制SSR订阅地址，SSR订阅地址通常以http:&#x2F;&#x2F;或者https:&#x2F;&#x2F;开头</p><p>2.打开SSRR，点击左上角ShadowsocksR</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677448/d7c81e3203cfccb3aa5de7d429bb03b4.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677448/d7c81e3203cfccb3aa5de7d429bb03b4.png"></p><p>2.选择右下角+号按钮，然后选择添加&#x2F;升级SSR订阅</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677501/a923e046e85bf10994ca302ae92dd4bf.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677501/a923e046e85bf10994ca302ae92dd4bf.png"></p><p>3.最后点击红色纸飞机按钮，即可成功连接SSR</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677521/434dea7121ba695967fdea22fb03e324.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677521/434dea7121ba695967fdea22fb03e324.png"></p><p><strong>使用SSR订阅</strong></p><p>1.复制SSR订阅地址，SSR订阅地址通常以http:&#x2F;&#x2F;或者https:&#x2F;&#x2F;开头</p><p>2.打开SSRR，点击左上角ShadowsocksR</p><p>2.选择右下角+号按钮，然后选择添加&#x2F;升级SSR订阅。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677605/707f106d50f0a915597f75e44f4e5686.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677605/707f106d50f0a915597f75e44f4e5686.png"></p><p>点击添加订阅地址，然后粘贴SSR订阅地址，点击确定。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677629/0a2fc103adce7a2b8753e9bce2965bef.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677629/0a2fc103adce7a2b8753e9bce2965bef.png"></p><p>然后点击确定并升级，系统会自动导入SSR节点地址。最后我们只需要选择其中一个节点连接即可。</p><p>测试SSR是否连接成功</p><p>如果你想测试SSR是否成功连接，那么请你在链接SSR之后，点击Google官网链接：<a href="https://www.google.com,如果你能成功打开google官网,就代表你已经成功科学上网./">https://www.google.com，如果你能成功打开Google官网，就代表你已经成功科学上网。</a></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677647/d86b5081786793297b479194f92765f7.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558677647/d86b5081786793297b479194f92765f7.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;本文教大家如何在Android设备上安装并设置ShadowsocksR客户端进行科学上网。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ShadowsocksR可以指：一种基于Socks5代理方式的加密传输协议，也可以指实现这个协议的各种开发包。当前包使用Python、C、C+</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="Shadowsocks" scheme="https://qzkyl.ml/tags/Shadowsocks/"/>
    
  </entry>
  
  <entry>
    <title>利用frp内网穿透实现用自家电脑发布网站(不用买服务器了)</title>
    <link href="https://qzkyl.ml/posts/1649.html"/>
    <id>https://qzkyl.ml/posts/1649.html</id>
    <published>2019-05-23T06:31:12.000Z</published>
    <updated>2019-05-23T06:31:12.000Z</updated>
    
    <content type="html"><![CDATA[<p><strong>下载frp</strong></p><p>这个不多说，选择好自己的平台就可以了，注意版本号一定要一致</p><p>下载地址：<img src="https://github.com/fatedier/frp/releases" alt="https://github.com/fatedier/frp/releases" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://github.com/fatedier/frp/releases" class="lozad post-image"></p><p>打开可以看到 linux 平台有很多版本，386, amd64, arm, arm64 等等，这里说一下，如果你服务器是32位，就下载 386，如果你服务器是64位的，而且你又不能分清cpu是arm架构的还是amd架构的，那也选386</p><p>总之一句话，对系统架构分不清的就只下载386的就对了</p><p>解压下载好的压缩包，可以看到几个文件</p><p>├── LICENSE<br>├── frpc<br>├── frpc.ini<br>├── frpc_full.ini<br>├── frps<br>├── frps.ini<br>└── frps_full.ini</p><p>各文件说明</p><ul><li><p>LICENSE 版权说明文件</p></li><li><p>frpc 客户端启动命令</p></li><li><p>frpc.ini 客户端配置文件</p></li><li><p>frpc_full.ini 客户端配置文件参考文件</p></li><li><p>frps 服务端启动命令</p></li><li><p>frps.ini 服务端配置文件</p></li><li><p>frps_full.ini 服务端配置文件参考文件</p></li></ul><p><strong>frp运行流程</strong></p><p>做内网穿透需要事先准备的</p><ol><li><p>一台外网服务器</p></li><li><p>一台内网服务器</p></li></ol><p>一次请求的经过，最简单的流程</p><p>用户请求(浏览器) -&gt; 外网服务器ip -&gt; 外网服务器上部署的frps -&gt; 内网服务器上部署的frpc -&gt; 内网服务器上部署的服务</p><p>请求成功后，响应过程与请求过程相反</p><p>这个过程中还可以加上 nginx 来做不同域名共用80端口的转发工作，那样就会变成</p><p>用户请求(浏览器) -&gt; 外网服务器ip -&gt; 外网服务器nginx -&gt; 外网服务器上部署的frps -&gt; 内网服务器上部署的frpc -&gt; 内网服务器nginx -&gt; 内网服务器上部署的服务</p><p>好了明白这些了，就可以来做配置了</p><p><strong>配置frps</strong></p><p>想办法把 frps和frps.ini 拷贝到外网服务器上</p><p>我这假设放在 &#x2F;opt&#x2F;frp&#x2F; 下，假设外网服务器ip是 10.10.10.10, 假设网站域名是 example.com</p><p>修改 frps.ini</p><p>[common]<br>bind_port &#x3D; 7000<br>dashboard_port &#x3D; 7500<br>dashboard_user &#x3D; admin<br>dashboard_pwd &#x3D; 123123<br>token &#x3D; 123123<br>vhost_http_port &#x3D; 8000<br>subdomain_host &#x3D; example.com</p><ul><li><p>bind_port frps启动时要占用的端口</p></li><li><p>dashboard_port frps启动后管理后台的端口</p></li><li><p>dashboard_user frps启动后管理后台登录的用户名</p></li><li><p>dashboard_pwd frps启动后管理后台登录的密码</p></li><li><p>token frpc连接frps时要用到的令牌，如果不设置任何一个frpc都能连进来就不安全了</p></li><li><p>vhost_http_port frps转发的内网服务的端口</p></li><li><p>subdomain_host 你的域名</p></li></ul><p>然后启动 frps</p><h1 id="给frps附上可执行权限"><a href="#给frps附上可执行权限" class="headerlink" title="给frps附上可执行权限"></a>给frps附上可执行权限</h1><p>sudo chmod +x frps<br># 在后台运行并将日志写入到当前目录下的 log.file 里<br>.&#x2F;frps -c frps.ini &gt; log.file 2&gt;&amp;1 &amp;</p><p><strong>配置frpc</strong></p><p>想办法把 frpc和frpc.ini 拷贝到内网服务器上</p><p>我这假设放在 &#x2F;opt&#x2F;frp&#x2F; 下, 假设要配置的网站域名是 example.com bbs.example.com blog.example.com 三个域名</p><p>修改 frps.ini</p><p>[common]<br>server_addr &#x3D; 10.10.10.10<br>server_port &#x3D; 7000<br>token &#x3D; 123123<br>[example]<br>type &#x3D; http<br>local_ip &#x3D; localhost<br>local_port &#x3D; 8080<br>use_encryption &#x3D; false<br>use_compression &#x3D; true<br>custom_domains &#x3D; example.com<br>[bbs]<br>type &#x3D; http<br>local_ip &#x3D; localhost<br>local_port &#x3D; 8081<br>use_encryption &#x3D; false<br>use_compression &#x3D; true<br>subdomain &#x3D; bbs<br>[blog]<br>type &#x3D; http<br>local_ip &#x3D; localhost<br>local_port &#x3D; 8082<br>use_encryption &#x3D; false<br>use_compression &#x3D; true<br>subdomain &#x3D; blog</p><p>相关配置说明</p><ul><li><p>server_addr 外网服务器的ip，也就是frps所在服务器的ip</p></li><li><p>server_port frps.ini 上配置的 bind_port</p></li><li><p>token 必须跟在 frps.ini 里配置的 token 一致，否则会导致连不上frps</p></li><li><p>use_encryption 是否使用加密，我这没用，因为我在外网通过nginx配置了https所以内网的服务都是http的</p></li><li><p>use_compression 是否使用压缩，使用了网站响应数据会小一些，网站速度也会更快一些</p></li><li><p>subdomain 二级域名的名字</p></li></ul><p>启动 frpc</p><h1 id="给frps附上可执行权限-1"><a href="#给frps附上可执行权限-1" class="headerlink" title="给frps附上可执行权限"></a>给frps附上可执行权限</h1><p>sudo chmod +x frpc<br># 在后台运行并将日志写入到当前目录下的 log.file 里<br>.&#x2F;frpc -c frpc.ini &gt; log.file 2&gt;&amp;1 &amp;</p><p>注意：内网服务器上要启动三个web服务，分别端口对应 8080, 8081, 8082</p><p><strong>映射ssh</strong></p><p>如果我们不在内网服务器旁边，web服务要是出问题了，会比较麻烦，这时可以通过frp映射一个ssh，这样就可以随时随地的操作内网了</p><p>只需要配置frpc.ini 即可</p><p>[common]<br>…<br>[ssh]<br>type &#x3D; tcp<br>local_ip &#x3D; localhost<br>local_port &#x3D; 22<br>remote_port &#x3D; 7001<br>[example]<br>…</p><p>同样的方法还可以映射游戏，同样的使用 type &#x3D; tcp 把端口改成游戏的端口就可以了，比如Minecraft的端口是25565，是不是相当的方便，快跟小伙伴组队吧</p><p>重启 frpc , 然后就可以使用命令 ssh -p 7001 <a href="mailto:&#x72;&#111;&#x6f;&#116;&#64;&#49;&#x30;&#x2e;&#x31;&#48;&#46;&#49;&#48;&#46;&#49;&#x30;">&#x72;&#111;&#x6f;&#116;&#64;&#49;&#x30;&#x2e;&#x31;&#48;&#46;&#49;&#48;&#46;&#49;&#x30;</a> 来连接内网的终端了</p><p>总结</p><ol><li><p>你可以通过访问 <a href="http://10.10.10.10:7500/">http://10.10.10.10:7500</a> 然后输入 frps.ini 里配置的 dashboard_user和dashboard_pwd 来查看frp的运行情况</p></li><li><p>在启动frpc之前，你要在域名提供商那把域名解析到外网服务器上</p></li><li><p>如果ssh映射连接总是超时，要看一下外网服务器是否把7001端口开放了，有可能是外网服务器的防火墙拦住了</p></li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;下载frp&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这个不多说，选择好自己的平台就可以了，注意版本号一定要一致&lt;/p&gt;
&lt;p&gt;下载地址：&lt;img src=&quot;https://github.com/fatedier/frp/releases&quot; alt=&quot;https://</summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
    <category term="Linux脚本" scheme="https://qzkyl.ml/tags/Linux%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>全平台解锁网易云音乐客户端变灰歌曲</title>
    <link href="https://qzkyl.ml/posts/48643.html"/>
    <id>https://qzkyl.ml/posts/48643.html</id>
    <published>2019-05-21T08:45:45.000Z</published>
    <updated>2019-05-21T08:45:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>网易云音乐在国内是一款很优秀的听歌软件，想必是大家日常用的比较多的一款听歌工具吧，可惜它拥有的版权歌曲真的令人感人，好多歌曲都无法播放，今天这里更新一篇玩机教程：解锁网易云音乐灰色歌曲，希望可以给小伙伴带来帮助~</p><p>先上解锁效果图：</p><p>- 周杰伦的灰色歌曲全部解锁</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428736/c50aadb9a7c9d92d952cc710881f8daa.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428736/c50aadb9a7c9d92d952cc710881f8daa.jpg"></p><p>再上大佬项目地址：</p><p><img src="https://github.com/nondanee/UnblockNeteaseMusic" alt="https://github.com/nondanee/UnblockNeteaseMusic" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://github.com/nondanee/UnblockNeteaseMusic" class="lozad post-image"></p><p>- 致敬作者三秒钟，有需要其他平台的可以参考项目教程</p><p>脚本原理（本文主要讲解Windows本地搭建）</p><ul><li><p>利用&#x2F; QQ &#x2F; 虾米 &#x2F; 百度 &#x2F; 酷狗 &#x2F; 酷我 &#x2F; 咕咪 &#x2F; JOOX 音源替换变灰歌曲链接 (默认仅启用前四)</p></li><li><p>为请求增加 X-Real-IP 参数解锁海外限制，支持指定网易云服务器 IP，支持设置上游 HTTP &#x2F; HTTPS 代理</p></li><li><p>完整的流量代理功能 (HTTP &#x2F; HTTPS)，可直接作为系统代理 (同时支持 PAC)</p></li></ul><p>使用方法（参考图片设置）</p><ul><li><p>自定义代理 ：填写服务器地址和端口号</p></li><li><p>代理服务器地址：127.0.0.1 （推荐本机搭建，速度快）</p></li><li><p>代理服务器端口：2333 （可以自定义）</p></li></ul><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428764/db543ba9c8c6a4abe734af90408eed63.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428764/db543ba9c8c6a4abe734af90408eed63.jpg"></p><p><strong>Windows搭建教程：</strong></p><ul><li><strong>下载项目源码</strong></li></ul><p><img src="https://github.com/nondanee/UnblockNeteaseMusic" alt="https://github.com/nondanee/UnblockNeteaseMusic" srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://github.com/nondanee/UnblockNeteaseMusic" class="lozad post-image"></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428784/15928b85739bad6b54208ee60a0dc817.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428784/15928b85739bad6b54208ee60a0dc817.jpg"></p><p>（推荐放C盘根目录）</p><ul><li><strong>安装node.js</strong></li></ul><p>官方网站：<a href="http://www.nodejs.org/">www.nodejs.org</a></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428802/e737aef70a4eac7f6232246031035c4d.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428802/e737aef70a4eac7f6232246031035c4d.jpg"></p><p>（下载安装最新版即可）</p><ul><li><strong>获取网易云域名IP</strong></li></ul><p>ping music.163.com</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428819/6ae94466422a1b8aaff1de810cfd3a02.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428819/6ae94466422a1b8aaff1de810cfd3a02.jpg"></p><p>（记录这个IP，稍后使用）</p><ul><li><strong>制作bat脚本 &amp; vbs脚本</strong></li></ul><p>1. 新建一个文本文档，把以下三条代码复制进去命名保存</p><p>2. 文件后缀改成 .bat 格式</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@echo off</span><br><span class="line">cd C:UnblockNeteaseMusic-<span class="keyword">master</span></span><br><span class="line"><span class="title">node</span> app.js -p <span class="number">2333</span> -f <span class="number">59.111</span>.<span class="number">160.197</span></span><br></pre></td></tr></table></figure><p>3. 新建一个文本文档，把以下三条代码复制进去命名保存</p><p>4. 文件后缀改成 .vbs 格式</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span> ws = CreateObject(<span class="string">&quot;Wscript.Shell&quot;</span>)</span><br><span class="line">ws.<span class="built_in">run</span> <span class="string">&quot;cmd /c lpssxs.bat&quot;</span>,vbhide</span><br></pre></td></tr></table></figure><p>5. bat &amp; vbs 文件请放一个文件夹中 （C:\UnblockNeteaseMusic-master）</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428840/d14afc45780bfafdb62d53e724bf91cf.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428840/d14afc45780bfafdb62d53e724bf91cf.jpg"></p><p>（注： lpssxs.bat是我个人命名，大家根据自己命名修改即可）</p><ul><li><strong>执行脚本</strong></li></ul><p>右键以管理员权限运行bat即可</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428855/d03bfb107840b09976be606c7ff49515.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428855/d03bfb107840b09976be606c7ff49515.jpg"></p><p>（测试运行效果如图）</p><ul><li><strong>客户端填写代理信息</strong></li></ul><p>将刚刚创建的信息依次填入保存</p><p>按照网易云提示重启一下网易云即可</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428871/146490239d6b77ac347cc32e3bf302e8.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428871/146490239d6b77ac347cc32e3bf302e8.jpg"></p><ul><li><strong>设置开机自启</strong></li></ul><p>将vbs创建快捷方式放到自启文件夹即可</p><p>Windows自启文件夹路径：</p><p><code>C:\ProgramData\Microsoft\Windows\Start Menu\Programs\Startup</code></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428887/b298740976989c48454e0c74ab3ed633.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558428887/b298740976989c48454e0c74ab3ed633.jpg"></p><p>至此，搞机教程算是结束了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;网易云音乐在国内是一款很优秀的听歌软件，想必是大家日常用的比较多的一款听歌工具吧，可惜它拥有的版权歌曲真的令人感人，好多歌曲都无法播放，今天这里更新一篇玩机教程：解锁网易云音乐灰色歌曲，希望可以给小伙伴带来帮助~&lt;/p&gt;
&lt;p&gt;先上解锁效果图：&lt;/p&gt;
&lt;p&gt;- 周杰伦的灰</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
  </entry>
  
  <entry>
    <title>SSR&amp;V2RAY 免费节点订阅地址大全</title>
    <link href="https://qzkyl.ml/posts/37042.html"/>
    <id>https://qzkyl.ml/posts/37042.html</id>
    <published>2019-05-21T07:12:17.000Z</published>
    <updated>2019-05-21T07:12:17.000Z</updated>
    
    <content type="html"><![CDATA[<p>桌面版的ssr软件添加教程：</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558423122/208e18bf1edc474a1e215be21c609123.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558423122/208e18bf1edc474a1e215be21c609123.png"></p><p>添加完订阅地址 点“更新ssr服务器订阅”即可。</p><p>SSR免费节点订阅地址：</p><p><a href="https://bujidao.cf/api/user/account/subscribe/4e2a59218aabb9bdaa32c78de894bbe7?type=ssr&ip=0&flow=0">https://bujidao.cf/api/user/account/subscribe/4e2a59218aabb9bdaa32c78de894bbe7?type=ssr&amp;ip=0&amp;flow=0</a><br><a href="https://gitee.com/ssrfree/subscribe/raw/master/ssr.com">https://gitee.com/ssrfree/subscribe/raw/master/ssr.com</a><br><a href="https://heikejilaila.xyz/keji.php?id=c134513fcd69616d4c9fc9fdf4339846">https://heikejilaila.xyz/keji.php?id=c134513fcd69616d4c9fc9fdf4339846</a><br><a href="https://raw.githubusercontent.com/AmazingDM/sub/master/ssrshare.com">https://raw.githubusercontent.com/AmazingDM/sub/master/ssrshare.com</a><br><a href="https://raw.githubusercontent.com/ssrsub/ssr/master/ssrsub">https://raw.githubusercontent.com/ssrsub/ssr/master/ssrsub</a><br><a href="https://teleplusfreessr.000webhostapp.com/">https://teleplusfreessr.000webhostapp.com</a><br><a href="https://yzzz.ml/freessr/">https://yzzz.ml/freessr/</a></p><p>V2RAY免费节点订阅地址：</p><p><a href="https://bujidao.cf/api/user/account/subscribe/4e2a59218aabb9bdaa32c78de894bbe7?type=shadowrocket&ip=0&flow=0">https://bujidao.cf/api/user/account/subscribe/4e2a59218aabb9bdaa32c78de894bbe7?type=shadowrocket&amp;ip=0&amp;flow=0</a><br><a href="https://github.com/ImLaoD/sub/raw/master/v2ray/_ssrshare.com">https://github.com/ImLaoD/sub/raw/master/v2ray\_ssrshare.com</a><br><a href="https://raw.githubusercontent.com/eycorsican/rule-sets/master/kitsunebi/_sub">https://raw.githubusercontent.com/eycorsican/rule-sets/master/kitsunebi\_sub</a><br><a href="https://youlianboshi.netlify.com/">https://youlianboshi.netlify.com/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;桌面版的ssr软件添加教程：&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="Shadowsocks" scheme="https://qzkyl.ml/tags/Shadowsocks/"/>
    
  </entry>
  
  <entry>
    <title>SSR Windows客户端 共享给局域网手机教程</title>
    <link href="https://qzkyl.ml/posts/28401.html"/>
    <id>https://qzkyl.ml/posts/28401.html</id>
    <published>2019-05-21T05:52:50.000Z</published>
    <updated>2019-05-21T05:52:50.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558418042/3c0c458276555d423e9192849ba7e210.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558418042/3c0c458276555d423e9192849ba7e210.png"></p><p>SSR Windows客户端在电脑上连接成功后，我们可以通过简单的设置，让电脑做为代理，局域网中的手机等设备，连接这台电脑上网，从而实现局域网整体科学上网</p><p>小提示：这种共享方法，由于要保持电脑开机状态，所以仅适用于手机需要临时科学上网的情况，一般不适用于日常使用</p><p>SSR Windows客户端设置</p><p>首先，我们要将SSR电脑端设置为允许局域网连接</p><p>1.右键点击电脑任务栏的小飞机——选项设置——允许来自局域网的连接打勾</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558418430/1ca20b5f77154f863d7e45f1e9ed954e.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558418430/1ca20b5f77154f863d7e45f1e9ed954e.jpg"></p><p>2.本地端口项默认即可。用户名和密码用于连接时使用，可以不设置</p><p>3.设置完成后点击确定即可。</p><p>4.点击Windows开始菜单——运行——输入CMD后回车——在命令窗口中输入ipconfig后回车，在返回结果中可以得到电脑的局域网IP地址</p><p>安卓手机设置</p><p>1.保证手机和电脑处于同一局域网下，打开手机的设置菜单</p><p>2.进入Wlan或WIFI选项，找到当前连接的WIFI名称，进入详情页</p><p>3.找到代理一项，将代理改为手动</p><p>4.在新出现的主机名一项中，填入我们之前得到的电脑局域网IP地址，在端口一项中，填入SSR客户端中默认的1080</p><p>5.设置完成后，点击确定保存</p><p>6.WIFI为自动重连，重连成功后，就可以科学上网了。（如果这时候电脑防火墙提示是否允许连接，同意即可）</p><p>iphone手机设置（IOS）</p><p>iphone的设置，与安卓手机基本一致</p><p>1.打开设置菜单——无线局域网——点击WIFI名称进入详情页——将HTTP代理改为手动</p><p>2.在服务器一栏输入电脑的IP地址</p><p>3.在端口一栏输入SSR电脑端的默认端口1080</p><p>4.设置完成后就可以愉快科学上网了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1558418042/3c0c4</summary>
      
    
    
    
    <category term="Windows" scheme="https://qzkyl.ml/categories/Windows/"/>
    
    
    <category term="Shadowsocks" scheme="https://qzkyl.ml/tags/Shadowsocks/"/>
    
  </entry>
  
  <entry>
    <title>Adb&amp;Fastboot刷机一键工具 [2019.5.17]</title>
    <link href="https://qzkyl.ml/posts/25976.html"/>
    <id>https://qzkyl.ml/posts/25976.html</id>
    <published>2019-04-13T08:47:51.000Z</published>
    <updated>2019-04-13T08:47:51.000Z</updated>
    
    <content type="html"><![CDATA[<p>2019.5.17</p><p>1.修复BUG</p><p>2.单文件，集成adb驱动</p><p>3.没啥大问题</p><p>适合不想抠命令的，已集成ADB和fastboot工具，已集成adb万能驱动</p><p>如果需要刷img镜像，请将img镜像文件放到与本程序同一个目录下</p><p>目前只支持快捷刷入5种类型的img，如下</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">boot<span class="selector-class">.img</span></span><br><span class="line">modem<span class="selector-class">.img</span></span><br><span class="line">vbmeta<span class="selector-class">.img</span></span><br><span class="line">system<span class="selector-class">.img</span></span><br><span class="line">recovery.img</span><br></pre></td></tr></table></figure><p>代码纯手写，来之不易，不喜欢就自己手打指令</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145570/b4ce2d08f236c060e8ce67c014bf81da.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145570/b4ce2d08f236c060e8ce67c014bf81da.png"></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145570/7e6b224d4c31b8a67514cec348edd37d.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145570/7e6b224d4c31b8a67514cec348edd37d.png"></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145570/b1fb0c53949f3cbd1494fd911464c68d.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145570/b1fb0c53949f3cbd1494fd911464c68d.png"></p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145571/c2a4ce9ed6836f34e832930ea4811fe4.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1555145571/c2a4ce9ed6836f34e832930ea4811fe4.png"></p><p>工具下载地址：<a href="https://pan.baidu.com/s/1LIpQZN0ekojr2xUhmn5zQA">https://pan.baidu.com/s/1LIpQZN0ekojr2xUhmn5zQA</a> 提取码:6666</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;2019.5.17&lt;/p&gt;
&lt;p&gt;1.修复BUG&lt;/p&gt;
&lt;p&gt;2.单文件，集成adb驱动&lt;/p&gt;
&lt;p&gt;3.没啥大问题&lt;/p&gt;
&lt;p&gt;适合不想抠命令的，已集成ADB和fastboot工具，已集成adb万能驱动&lt;/p&gt;
&lt;p&gt;如果需要刷img镜像，请将img镜像文件放到与本</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="软件" scheme="https://qzkyl.ml/tags/%E8%BD%AF%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>Windows10 如何取消开机密码</title>
    <link href="https://qzkyl.ml/posts/61418.html"/>
    <id>https://qzkyl.ml/posts/61418.html</id>
    <published>2019-03-30T07:12:53.000Z</published>
    <updated>2019-03-30T07:12:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>我们知道为了系统的安全，可以为Windows10的用户设置登录密码，每次登录时需输入密码，但是对于家庭用户来说，每次登录都需输入开机密码非常麻烦，如何取消Windows10的开机密码实现自动登录呢，下面请请大家随笔者一起来看一下实现Windows10自动登录的方法吧</p><p>1.首先打开Windows10系统后，键入“Win+R”快捷键会弹出运行框，然后在弹出窗口中输入“Control Userpasswords2”命令，点击确定按钮</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1553930385/898c2d0beb3c9894f21f3f3c87e91e4f.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1553930385/898c2d0beb3c9894f21f3f3c87e91e4f.png"></p><p>2.在打开的用户账户窗口中，去掉“要使用本计算机，用户必须输入用户名和密码”前的勾选，然后点击应用按钮</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1553930385/0fb7c9c54f91c7ca4a10680ebd4df0bb.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1553930385/0fb7c9c54f91c7ca4a10680ebd4df0bb.png"></p><p>3.在弹出窗口中输入自动登录的用户名与密码，最后点击确定保存退出</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1553930386/5f219b1abb0bab50faa0037b317f0115.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1553930386/5f219b1abb0bab50faa0037b317f0115.png"></p><p>重新启动电脑后，下次开机就不用输入登录密码即可实现自动登录了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;我们知道为了系统的安全，可以为Windows10的用户设置登录密码，每次登录时需输入密码，但是对于家庭用户来说，每次登录都需输入开机密码非常麻烦，如何取消Windows10的开机密码实现自动登录呢，下面请请大家随笔者一起来看一下实现Windows10自动登录的方法吧&lt;/p&gt;</summary>
      
    
    
    
    <category term="Windows" scheme="https://qzkyl.ml/categories/Windows/"/>
    
    
  </entry>
  
  <entry>
    <title>七牛云没有备案域名情况时，转移&amp;下载所有文件的方法</title>
    <link href="https://qzkyl.ml/posts/39768.html"/>
    <id>https://qzkyl.ml/posts/39768.html</id>
    <published>2018-11-12T05:01:29.000Z</published>
    <updated>2018-11-12T05:01:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>原理：先新建一个同区域存储空间，会分配一个新的测试域名到新空间。</p><p>然后通过qshell batchcopy 到有域名的同区域空间然后再进行qdownload下载操作(或直接使用新测试域名)</p><p>1.下载官方windows版qshell工具：<a href="http://devtools.qiniu.com/qshell-v2.2.0.zip?ref=developer.qiniu.com">http://devtools.qiniu.com/qshell-v2.2.0.zip?ref=developer.qiniu.com</a></p><p>2.解压压缩包里的qshell-windows-x64.exe到D盘根目录，并重命名文件名为”qshell”方便后期操作。</p><p>3.键盘【win+R】快捷键【运行】，输入cmd 打开Windows系统的dos命令，如下图所示。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1541997211/7ef92e0e7ab28b04caccd456b83db67f.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1541997211/7ef92e0e7ab28b04caccd456b83db67f.png"></p><p>4.在dos命令界面里输入【D：】进入D磁盘目录，然后执行下面的命令</p><p>qshell account ak sk</p><p>ak sk需要替换成你七牛账号下的 AccessKey 和 SecretKey </p><p>5.然后回车再执行列出所有文件命令(<a href="https://github.com/qiniu/qshell/blob/master/docs/listbucket.md">https://github.com/qiniu/qshell/blob/master/docs/listbucket.md</a>)</p><p>qshell listbucket 原bucket名 list.txt</p><p>D盘目录下会生成list.txt文件，内容就是你云储存里的所有文件名</p><p>6.需要手动把list.txt中的的每行内容修改为仅有文件名，只需要保留文件名，一行一个文件名</p><p>7.完成上面步骤就可以复制文件到新建的储存空间了，执行以下命令：</p><p>qshell batchcopy -force 原bucket名 新bucket名 list.txt</p><p>大功告成，查看你新的储存空间，有惊喜哟！</p><p>如果需要下载所有文件，可以继续往下看</p><p>8.转移到新储存空间后，就可以直接下载所有文件了，在下载之前，在D盘创建一个“runker.conf”文件，复制下面代码到“runker.conf”文件中</p><p>{<br>“dest_dir” : “&#x2F;abc”,<br>“bucket” : “zblog”,<br>“cdn_domain” : “<a href="http://pi27a61a9.bkt.clouddn.com/">http://pi27a61a9.bkt.clouddn.com/</a>“,<br>“prefix” : “”,<br>“suffix” : “”<br>}</p><p>9.修改上面的配置代码，保存。</p><p>第一行为下载文件存放目录，即会在D盘下自动创建abc文件夹并将下载文件存放到里面。</p><p>第二行修改为你的bucket名称，即下图中1处</p><p>第三行修改为你的域名，即下图中2处</p><p>第四行是文件名前缀（默认为空就行）</p><p>第五行是文件名后缀（默认为空就行）</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1541998312/f6b8a11d8bbb31e8401652da71040b74.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1541998312/f6b8a11d8bbb31e8401652da71040b74.png"></p><p>10.使用下载命令下载所有文件(<a href="https://github.com/qiniu/qshell/blob/master/docs/qdownload.md">https://github.com/qiniu/qshell/blob/master/docs/qdownload.md</a>)</p><p>qshell qdownload 10 runker.conf</p><p>等待提示下载完成，去电脑D盘abc文件夹下看，七牛zblog子域名上的所有文件都下载下来了，教程很简单。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;原理：先新建一个同区域存储空间，会分配一个新的测试域名到新空间。&lt;/p&gt;
&lt;p&gt;然后通过qshell batchcopy 到有域名的同区域空间然后再进行qdownload下载操作(或直接使用新测试域名)&lt;/p&gt;
&lt;p&gt;1.下载官方windows版qshell工具：&lt;a hr</summary>
      
    
    
    
    <category term="教程" scheme="https://qzkyl.ml/categories/%E6%95%99%E7%A8%8B/"/>
    
    
    <category term="七牛云" scheme="https://qzkyl.ml/tags/%E4%B8%83%E7%89%9B%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>自动踢出挂机过久的玩家</title>
    <link href="https://qzkyl.ml/posts/23280.html"/>
    <id>https://qzkyl.ml/posts/23280.html</id>
    <published>2018-10-24T08:55:53.000Z</published>
    <updated>2018-10-24T08:55:53.000Z</updated>
    
    <content type="html"><![CDATA[<p>没做cfg参数，默认100秒自动踢出</p><p>需要改时间的，自行编译源码修改kicktime &#x3D; 100处</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">include</span> &lt;sourcemod&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;sdktools&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> KickLookOnPlayer<span class="literal">[MAXPLAYERS+<span class="number">1</span>]</span>;</span><br><span class="line"><span class="keyword">new</span> Handle:kickPlayerTimer<span class="literal">[MAXPLAYERS+<span class="number">1</span>]</span> = INVALID_HANDLE; </span><br><span class="line"></span><br><span class="line">public Plugin:myinfo=</span><br><span class="line">&#123;</span><br><span class="line">name = <span class="string">&quot;踢出闲置超时玩家&quot;</span>,</span><br><span class="line">author = <span class="string">&quot;笨蛋海绵&quot;</span>,</span><br><span class="line">description = <span class="string">&quot;踢出闲置超时玩家&quot;</span>,</span><br><span class="line">version = <span class="string">&quot;5.0.0&quot;</span>,</span><br><span class="line">url = <span class="string">&quot;QQ群：133102253&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public <span class="constructor">OnPluginStart()</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="constructor">HookEvent(<span class="string">&quot;player_team&quot;</span>, Event_PlayerTeam)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">Event_PlayerTeam(Handle:<span class="params">event</span>, <span class="params">const</span> String:<span class="params">name</span>[], <span class="params">bool</span>:<span class="params">dontBroadcast</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> Client = <span class="constructor">GetClientOfUserId( GetEventInt(<span class="params">event</span>, <span class="string">&quot;userid&quot;</span> )</span>);</span><br><span class="line"><span class="keyword">new</span> oldteam = <span class="constructor">GetEventInt(<span class="params">event</span>, <span class="string">&quot;oldteam&quot;</span>)</span>;</span><br><span class="line"><span class="keyword">new</span> newteam = <span class="constructor">GetEventInt(<span class="params">event</span>, <span class="string">&quot;team&quot;</span>)</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">bool</span>:disconnect = <span class="constructor">GetEventBool(<span class="params">event</span>, <span class="string">&quot;disconnect&quot;</span>)</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsValidPlayer(Client)</span><span class="operator"> &amp;&amp; </span>!disconnect<span class="operator"> &amp;&amp; </span>oldteam != <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(!<span class="constructor">IsFakeClient(Client)</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (newteam<span class="operator"> == </span><span class="number">1</span><span class="operator"> &amp;&amp; </span><span class="constructor">IsClientInGame(Client)</span><span class="operator"> &amp;&amp; </span><span class="constructor">IsPlayerAlive(Client)</span>)</span><br><span class="line">&#123;</span><br><span class="line">KickLookOnPlayer<span class="literal">[C<span class="identifier">lient</span>]</span> = <span class="number">0</span>;</span><br><span class="line">kickPlayerTimer<span class="literal">[C<span class="identifier">lient</span>]</span> = <span class="constructor">CreateTimer(1.0, Timer_KickLookOnPlayer, Client, TIMER_REPEAT)</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return Plugin_Continue;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">Timer_KickLookOnPlayer(Handle:<span class="params">timer</span>, <span class="params">any</span>:Client)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> kicktime;</span><br><span class="line">kicktime = <span class="number">100</span>; <span class="comment">//设置旁观 多少秒后踢出玩家</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsClientInGame(Client)</span><span class="operator"> &amp;&amp; </span><span class="constructor">IsValidPlayer(Client)</span><span class="operator"> &amp;&amp; </span>!<span class="constructor">IsFakeClient(Client)</span><span class="operator"> &amp;&amp; </span><span class="constructor">GetClientTeam(Client)</span><span class="operator"> == </span><span class="number">1</span><span class="operator"> &amp;&amp; </span><span class="constructor">IsAdminPlayer(Client)</span><span class="operator"> == </span><span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line">KickLookOnPlayer<span class="literal">[C<span class="identifier">lient</span>]</span>++;</span><br><span class="line"><span class="keyword">if</span> (KickLookOnPlayer<span class="literal">[C<span class="identifier">lient</span>]</span> &gt;= kicktime)</span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">KickClient(Client, <span class="string">&quot;不允许挂机,被自动踢出,求生之路2联机群:133102253&quot;</span>)</span>;</span><br><span class="line">KickLookOnPlayer<span class="literal">[C<span class="identifier">lient</span>]</span> = <span class="number">0</span>;</span><br><span class="line"><span class="constructor">KillTimer(<span class="params">timer</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">PrintHintText(Client, <span class="string">&quot;你正在观看游戏, %d 秒后将被踢出房间 \n按下鼠标左键 或 输入 !join 进入游戏&quot;</span>, <span class="params">kicktime</span> - KickLookOnPlayer[Client])</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">KickLookOnPlayer<span class="literal">[C<span class="identifier">lient</span>]</span> = <span class="number">0</span>, <span class="constructor">KillTimer(<span class="params">timer</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stock <span class="built_in">bool</span>:<span class="constructor">IsValidPlayer(Client, <span class="params">bool</span>:AllowBot = <span class="params">true</span>, <span class="params">bool</span>:AllowDeath = <span class="params">true</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (Client &lt; <span class="number">1</span><span class="operator"> || </span>Client &gt; MaxClients)</span><br><span class="line">return <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (!<span class="constructor">IsClientConnected(Client)</span><span class="operator"> || </span>!<span class="constructor">IsClientInGame(Client)</span>)</span><br><span class="line">return <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">if</span> (!AllowBot)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsFakeClient(Client)</span>)</span><br><span class="line">return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!AllowDeath)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (!<span class="constructor">IsPlayerAlive(Client)</span>)</span><br><span class="line">return <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">return <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">stock <span class="built_in">bool</span>:<span class="constructor">IsAdminPlayer(Client)</span></span><br><span class="line">&#123;</span><br><span class="line">  return <span class="constructor">GetUserFlagBits(Client)</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;没做cfg参数，默认100秒自动踢出&lt;/p&gt;
&lt;p&gt;需要改时间的，自行编译源码修改kicktime &amp;#x3D; 100处&lt;/p&gt;
&lt;figure class=&quot;highlight reasonml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>Open GApps各版本差异</title>
    <link href="https://qzkyl.ml/posts/12816.html"/>
    <id>https://qzkyl.ml/posts/12816.html</id>
    <published>2018-10-24T05:43:00.000Z</published>
    <updated>2018-10-24T05:43:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>OpenGApps有几个不同的版本，super、stock、full、mini、micro、nano、pico，很多人不知道差别是什么，这里说明一下</p><ul><li>super</li></ul><p>包含了所有 GApps ，像韩语日语中文拼音中文注音输入法等。（请注意：如果你是用的是基于原生的 ROM ，本版本会替换相机，通讯录等等所有有关应用）。体积1G左右，如果System分区剩余空间不够，就会刷入失败</p><hr><ul><li>stock</li></ul><p>类似于 Google Pixel 出厂内置的 GApps ，相比 super 版少了其他语种的输入法以及 Google 地球等。（请注意：如果你是用的是基于原生的 ROM ，本版本会替换相机，通讯录等等所有有关应用）。体积820M~840M左右，如果System分区剩余空间不够，就会刷入失败</p><hr><ul><li>full</li></ul><p>与 stock 版所包含的内容相同，但此版本不会替换手机原本的应用。体积670~690M左右，如果System分区剩余空间不够，就会刷入失败</p><hr><ul><li>mini</li></ul><p>包含基础的 Google 服务框架，以及一些影响力较大的 GApps ，相比 full 版去掉了 Docs 等应用。体积370M~390M左右，如果System分区剩余空间不够，就会刷入失败</p><hr><ul><li>micro</li></ul><p>包含基础的 Google 服务框架和 Gmail 等常见 GApps。体积190~210M左右，如果System分区剩余空间不够，就会刷入失败</p><hr><ul><li>nano</li></ul><p>包含基础的 Google 服务框架，但不会有其他 不必要的 GApps。体积160M~180M左右，如果System分区剩余空间不够，就会刷入失败</p><hr><ul><li>pico</li></ul><p>包含最迷你的 Google 服务框架，但由于框架并非完整，部分 GApps 可能无法运行。体积110~120M左右，如果System分区剩余空间不够，就会刷入失败</p><hr><p>以上关于体积的描述，指的是arm64设备、android7.1~8.1系统，如果是氢氧OS，使用刷机盒子刷入Google服务包的话，会自动清理system空间，但也只有500M以上。第三方原生ROM的System空间会更大一点，但仍需谨慎选择Super、Stock和full版本版本。因此，选择谷歌服务包的版本不能任性，要量力而为</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;OpenGApps有几个不同的版本，super、stock、full、mini、micro、nano、pico，很多人不知道差别是什么，这里说明一下&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;super&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;包含了所有 GApps ，像韩语日语中文拼音中文注音输入法</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>一个别有风格的自杀插件</title>
    <link href="https://qzkyl.ml/posts/35186.html"/>
    <id>https://qzkyl.ml/posts/35186.html</id>
    <published>2018-10-24T04:01:02.000Z</published>
    <updated>2018-10-24T04:01:02.000Z</updated>
    
    <content type="html"><![CDATA[<p>以火箭方式发射到天空，然后爆炸死亡，未加特效，需要自行修改</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;sourcemod&gt;</span><br><span class="line">#include &lt;sdktools&gt;</span><br><span class="line">#include &lt;sdktools_functions&gt;</span><br><span class="line">#undef REQUIRE_PLUGIN</span><br><span class="line">#include &lt;adminmenu&gt;</span><br><span class="line"></span><br><span class="line">new Handle:hAdminMenu = INVALID_HANDLE</span><br><span class="line"></span><br><span class="line">new Handle:Cvar_RocketMe = INVALID_HANDLE</span><br><span class="line"></span><br><span class="line">new gametype = 0</span><br><span class="line">new g_Explosion</span><br><span class="line"></span><br><span class="line">new g_Ent[MAXPLAYERS+1]</span><br><span class="line">new String:GameName[64]</span><br><span class="line"></span><br><span class="line">new bool:IsBonusRound = false</span><br><span class="line"></span><br><span class="line">#define PLUGIN_VERSION &quot;1.0.110&quot;</span><br><span class="line"></span><br><span class="line">// Functions</span><br><span class="line">public Plugin:myinfo =</span><br><span class="line">&#123;</span><br><span class="line">name = &quot;Evil Admin - Rocket&quot;,</span><br><span class="line">author = &quot;&lt;eVa&gt;Dog&quot;,</span><br><span class="line">description = &quot;Make a rocket with a player&quot;,</span><br><span class="line">version = PLUGIN_VERSION,</span><br><span class="line">url = &quot;http://www.theville.org&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public OnPluginStart()</span><br><span class="line">&#123;</span><br><span class="line">CreateConVar(&quot;sm_evilrocket_version&quot;, PLUGIN_VERSION, &quot;Evil Rocket插件版本&quot;, FCVAR_PLUGIN|FCVAR_SPONLY|FCVAR_REPLICATED|FCVAR_NOTIFY)</span><br><span class="line">Cvar_RocketMe = CreateConVar(&quot;sm_rocketme_enabled&quot;, &quot;0&quot;, &quot;允許玩家把自己變成火箭&quot;, FCVAR_PLUGIN)</span><br><span class="line"></span><br><span class="line">RegAdminCmd(&quot;sm_zisha&quot;, Command_EvilRocket, ADMFLAG_SLAY, &quot;sm_evilrocket &lt;#userid|name&gt;&quot;)</span><br><span class="line">RegConsoleCmd(&quot;sm_kill&quot;, Command_RocketMe, &quot;一個有趣的自殺方法&quot;)</span><br><span class="line"></span><br><span class="line">LoadTranslations(&quot;common.phrases&quot;)</span><br><span class="line"></span><br><span class="line">GetGameFolderName(GameName, sizeof(GameName))</span><br><span class="line"></span><br><span class="line">if (StrEqual(GameName, &quot;tf&quot;))</span><br><span class="line">&#123;</span><br><span class="line">HookEvent(&quot;teamplay_round_win&quot;, RoundWinEvent)</span><br><span class="line">HookEvent(&quot;teamplay_round_active&quot;, RoundStartEvent)</span><br><span class="line">&#125;</span><br><span class="line">else if (StrEqual(GameName, &quot;dod&quot;))</span><br><span class="line">&#123;</span><br><span class="line">HookEvent(&quot;dod_round_win&quot;, RoundWinEvent)</span><br><span class="line">HookEvent(&quot;dod_round_active&quot;, RoundStartEvent)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">new Handle:topmenu</span><br><span class="line">if (LibraryExists(&quot;adminmenu&quot;) &amp;&amp; ((topmenu = GetAdminTopMenu()) != INVALID_HANDLE))</span><br><span class="line">&#123;</span><br><span class="line">OnAdminMenuReady(topmenu)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:RoundWinEvent(Handle:event, const String:name[], bool:dontBroadcast)</span><br><span class="line">&#123;</span><br><span class="line">IsBonusRound = true</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:RoundStartEvent(Handle:event, const String:name[], bool:dontBroadcast)</span><br><span class="line">&#123;</span><br><span class="line">IsBonusRound = false</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public OnEventShutdown()</span><br><span class="line">&#123;</span><br><span class="line">if (StrEqual(GameName, &quot;tf&quot;))</span><br><span class="line">&#123;</span><br><span class="line">UnhookEvent(&quot;teamplay_round_win&quot;, RoundWinEvent)</span><br><span class="line">UnhookEvent(&quot;teamplay_round_active&quot;, RoundStartEvent)</span><br><span class="line">&#125;</span><br><span class="line">else if (StrEqual(GameName, &quot;dod&quot;))</span><br><span class="line">&#123;</span><br><span class="line">UnhookEvent(&quot;dod_round_win&quot;, RoundWinEvent)</span><br><span class="line">UnhookEvent(&quot;dod_round_active&quot;, RoundStartEvent)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public OnMapStart()</span><br><span class="line">&#123;</span><br><span class="line">if (StrEqual(GameName, &quot;tf&quot;))</span><br><span class="line">&#123;</span><br><span class="line">gametype = 1</span><br><span class="line">&#125;</span><br><span class="line">else if (StrEqual(GameName, &quot;dod&quot;))</span><br><span class="line">&#123;</span><br><span class="line">gametype = 2</span><br><span class="line">&#125;</span><br><span class="line">else </span><br><span class="line">&#123;</span><br><span class="line">gametype = 0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">g_Explosion = PrecacheModel(&quot;sprites/sprite_fire01.vmt&quot;)</span><br><span class="line"></span><br><span class="line">PrecacheSound(&quot;ambient/explosions/exp2.wav&quot;, true)</span><br><span class="line">PrecacheSound(&quot;npc/env_headcrabcanister/launch.wav&quot;, true)</span><br><span class="line">PrecacheSound(&quot;weapons/rpg/rocketfire1.wav&quot;, true)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:Command_EvilRocket(client, args)</span><br><span class="line">&#123;</span><br><span class="line">decl String:target[65]</span><br><span class="line">decl String:target_name[MAX_TARGET_LENGTH]</span><br><span class="line">decl target_list[MAXPLAYERS]</span><br><span class="line">decl target_count</span><br><span class="line">decl bool:tn_is_ml</span><br><span class="line"></span><br><span class="line">if (args &lt; 1)</span><br><span class="line">&#123;</span><br><span class="line">ReplyToCommand(client, &quot;[提示] 用法: sm_evilrocket &lt;#userid|name&gt;&quot;);</span><br><span class="line">return Plugin_Handled</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">GetCmdArg(1, target, sizeof(target))</span><br><span class="line"></span><br><span class="line">if ((target_count = ProcessTargetString(</span><br><span class="line">target,</span><br><span class="line">client,</span><br><span class="line">target_list,</span><br><span class="line">MAXPLAYERS,</span><br><span class="line">0,</span><br><span class="line">target_name,</span><br><span class="line">sizeof(target_name),</span><br><span class="line">tn_is_ml)) &lt;= 0)</span><br><span class="line">&#123;</span><br><span class="line">ReplyToTargetError(client, target_count)</span><br><span class="line">return Plugin_Handled</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for (new i = 0; i &lt; target_count; i++)</span><br><span class="line">&#123;</span><br><span class="line">if (IsClientInGame(target_list[i]) &amp;&amp; IsPlayerAlive(target_list[i]))</span><br><span class="line">&#123;</span><br><span class="line">PerformEvilRocket(client, target_list[i])</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return Plugin_Handled</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">PerformEvilRocket(client, target)</span><br><span class="line">&#123;</span><br><span class="line">if (g_Ent[target] == 0)</span><br><span class="line">&#123;</span><br><span class="line">if (client != -1)</span><br><span class="line">&#123;</span><br><span class="line">LogAction(client, target, &quot;\&quot;%L\&quot;把\&quot;%L\&quot;送到太空了&quot;, client, target)</span><br><span class="line">ShowActivity(client, &quot;已发射 \%N 到太空&quot;, target) </span><br><span class="line"></span><br><span class="line">if (gametype == 1)</span><br><span class="line">&#123;</span><br><span class="line">AttachParticle(target, &quot;rockettrail_!&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else if (gametype == 2)</span><br><span class="line">&#123;</span><br><span class="line">AttachParticle(target, &quot;rockettrail&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">AttachFlame(target)</span><br><span class="line">&#125;</span><br><span class="line">EmitSoundToAll(&quot;weapons/rpg/rocketfire1.wav&quot;, target, _, _, _, 0.8)</span><br><span class="line">CreateTimer(2.0, Launch, target)</span><br><span class="line">CreateTimer(3.5, Detonate, target)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">if (gametype == 1)</span><br><span class="line">&#123;</span><br><span class="line">AttachParticle(target, &quot;rockettrail_!&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else if (gametype == 2)</span><br><span class="line">&#123;</span><br><span class="line">AttachParticle(target, &quot;rockettrail&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">AttachFlame(target)</span><br><span class="line">&#125;</span><br><span class="line">EmitSoundToAll(&quot;weapons/rpg/rocketfire1.wav&quot;, target, _, _, _, 0.8)</span><br><span class="line">CreateTimer(2.0, Launch, target)</span><br><span class="line">CreateTimer(3.5, Detonate, target)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:Launch(Handle:timer, any:client)</span><br><span class="line">&#123;</span><br><span class="line">if (IsClientInGame(client))</span><br><span class="line">&#123;</span><br><span class="line">new Float:vVel[3]</span><br><span class="line"></span><br><span class="line">vVel[0] = 0.0</span><br><span class="line">vVel[1] = 0.0</span><br><span class="line">vVel[2] = 800.0</span><br><span class="line"></span><br><span class="line">EmitSoundToAll(&quot;ambient/explosions/exp2.wav&quot;, client, _, _, _, 1.0)</span><br><span class="line">EmitSoundToAll(&quot;npc/env_headcrabcanister/launch.wav&quot;, client, _, _, _, 1.0)</span><br><span class="line"></span><br><span class="line">TeleportEntity(client, NULL_VECTOR, NULL_VECTOR, vVel)</span><br><span class="line">SetEntityGravity(client, 0.1)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">return Plugin_Handled</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:Detonate(Handle:timer, any:client)</span><br><span class="line">&#123;</span><br><span class="line">if (IsClientInGame(client))</span><br><span class="line">&#123;</span><br><span class="line">new Float:vPlayer[3]</span><br><span class="line">GetClientAbsOrigin(client, vPlayer)</span><br><span class="line"> </span><br><span class="line">if (gametype == 1)</span><br><span class="line">&#123;</span><br><span class="line">DeleteParticle(g_Ent[client])</span><br><span class="line">g_Ent[client] = 0</span><br><span class="line"></span><br><span class="line">if (IsBonusRound)</span><br><span class="line">&#123;</span><br><span class="line">new Float:ClientOrigin[3]</span><br><span class="line">GetClientAbsOrigin(client, ClientOrigin)</span><br><span class="line"></span><br><span class="line">new g_ent = CreateEntityByName(&quot;env_explosion&quot;)</span><br><span class="line">DispatchKeyValue(g_ent, &quot;iMagnitude&quot;, &quot;2000&quot;)</span><br><span class="line">DispatchKeyValue(g_ent, &quot;iRadiusOverride&quot;, &quot;15&quot;)</span><br><span class="line">DispatchSpawn(g_ent)</span><br><span class="line">TeleportEntity(g_ent, ClientOrigin, NULL_VECTOR, NULL_VECTOR)</span><br><span class="line">AcceptEntityInput(g_ent, &quot;Explode&quot;)</span><br><span class="line">CreateTimer(3.0, KillExplosion, g_ent)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">FakeClientCommand(client, &quot;Explode&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">else if (gametype == 2)</span><br><span class="line">&#123;</span><br><span class="line">DeleteParticle(g_Ent[client])</span><br><span class="line">g_Ent[client] = 0</span><br><span class="line"></span><br><span class="line">FakeClientCommand(client, &quot;Explode&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">TE_SetupExplosion(vPlayer, g_Explosion, 10.0, 1, 0, 600, 5000)</span><br><span class="line">TE_SendToAll()</span><br><span class="line">g_Ent[client] = 0</span><br><span class="line"></span><br><span class="line">ForcePlayerSuicide(client)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">SetEntityGravity(client, 1.0)</span><br><span class="line">&#125;</span><br><span class="line">return Plugin_Handled</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:KillExplosion(Handle:timer, any:ent)</span><br><span class="line">&#123;</span><br><span class="line">    if (IsValidEntity(ent))</span><br><span class="line">    &#123;</span><br><span class="line">        new String:classname[256]</span><br><span class="line">        GetEdictClassname(ent, classname, sizeof(classname))</span><br><span class="line">        if (StrEqual(classname, &quot;env_explosion&quot;, false))</span><br><span class="line">        &#123;</span><br><span class="line">            RemoveEdict(ent)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public OnLibraryRemoved(const String:name[])</span><br><span class="line">&#123;</span><br><span class="line">if (StrEqual(name, &quot;adminmenu&quot;)) </span><br><span class="line">&#123;</span><br><span class="line">hAdminMenu = INVALID_HANDLE;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public OnAdminMenuReady(Handle:topmenu)</span><br><span class="line">&#123;</span><br><span class="line">if (topmenu == hAdminMenu)</span><br><span class="line">&#123;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hAdminMenu = topmenu</span><br><span class="line"></span><br><span class="line">new TopMenuObject:player_commands = FindTopMenuCategory(hAdminMenu, ADMINMENU_PLAYERCOMMANDS)</span><br><span class="line"></span><br><span class="line">if (player_commands != INVALID_TOPMENUOBJECT)</span><br><span class="line">&#123;</span><br><span class="line">AddToTopMenu(hAdminMenu,</span><br><span class="line">&quot;sm_evilrocket&quot;,</span><br><span class="line">TopMenuObject_Item,</span><br><span class="line">AdminMenu_rocket, </span><br><span class="line">player_commands,</span><br><span class="line">&quot;sm_evilrocket&quot;,</span><br><span class="line">ADMFLAG_SLAY)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">public AdminMenu_rocket( Handle:topmenu, TopMenuAction:action, TopMenuObject:object_id, param, String:buffer[], maxlength )</span><br><span class="line">&#123;</span><br><span class="line">if (action == TopMenuAction_DisplayOption)</span><br><span class="line">&#123;</span><br><span class="line">Format(buffer, maxlength, &quot;恶魔火箭&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else if( action == TopMenuAction_SelectOption)</span><br><span class="line">&#123;</span><br><span class="line">DisplayPlayerMenu(param)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DisplayPlayerMenu(client)</span><br><span class="line">&#123;</span><br><span class="line">new Handle:menu = CreateMenu(MenuHandler_Players)</span><br><span class="line"></span><br><span class="line">decl String:title[100]</span><br><span class="line">Format(title, sizeof(title), &quot;选择玩家:&quot;)</span><br><span class="line">SetMenuTitle(menu, title)</span><br><span class="line">SetMenuExitBackButton(menu, true)</span><br><span class="line"></span><br><span class="line">AddTargetsToMenu(menu, client, true, true)</span><br><span class="line"></span><br><span class="line">DisplayMenu(menu, client, MENU_TIME_FOREVER)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public MenuHandler_Players(Handle:menu, MenuAction:action, param1, param2)</span><br><span class="line">&#123;</span><br><span class="line">if (action == MenuAction_End)</span><br><span class="line">&#123;</span><br><span class="line">CloseHandle(menu)</span><br><span class="line">&#125;</span><br><span class="line">else if (action == MenuAction_Cancel)</span><br><span class="line">&#123;</span><br><span class="line">if (param2 == MenuCancel_ExitBack &amp;&amp; hAdminMenu != INVALID_HANDLE)</span><br><span class="line">&#123;</span><br><span class="line">DisplayTopMenu(hAdminMenu, param1, TopMenuPosition_LastCategory);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">else if (action == MenuAction_Select)</span><br><span class="line">&#123;</span><br><span class="line">decl String:info[32]</span><br><span class="line">new userid, target</span><br><span class="line"></span><br><span class="line">GetMenuItem(menu, param2, info, sizeof(info))</span><br><span class="line">userid = StringToInt(info)</span><br><span class="line"></span><br><span class="line">if ((target = GetClientOfUserId(userid)) == 0)</span><br><span class="line">&#123;</span><br><span class="line">PrintToChat(param1, &quot;[提示] %s&quot;, &quot;玩家非長期可用&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else if (!CanUserTarget(param1, target))</span><br><span class="line">&#123;</span><br><span class="line">PrintToChat(param1, &quot;[提示] %s&quot;, &quot;目标不可用&quot;)</span><br><span class="line">&#125;</span><br><span class="line">else</span><br><span class="line">&#123;</span><br><span class="line">PerformEvilRocket(param1, target)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/* Re-draw the menu if they&#x27;re still valid */</span><br><span class="line">if (IsClientInGame(param1) &amp;&amp; !IsClientInKickQueue(param1))</span><br><span class="line">&#123;</span><br><span class="line">DisplayPlayerMenu(param1)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AttachParticle(ent, String:particleType[])</span><br><span class="line">&#123;</span><br><span class="line">new particle = CreateEntityByName(&quot;info_particle_system&quot;)</span><br><span class="line"></span><br><span class="line">new String:tName[128], String:pName[128]</span><br><span class="line">if (IsValidEdict(particle))</span><br><span class="line">&#123;</span><br><span class="line">new Float:pos[3] </span><br><span class="line">GetEntPropVector(ent, Prop_Send, &quot;m_vecOrigin&quot;, pos)</span><br><span class="line"></span><br><span class="line">if (gametype == 1)</span><br><span class="line">&#123;</span><br><span class="line">pos[2] += 10</span><br><span class="line">TeleportEntity(particle, pos, NULL_VECTOR, NULL_VECTOR)</span><br><span class="line">&#125;</span><br><span class="line">else if (gametype == 2)</span><br><span class="line">&#123;</span><br><span class="line">pos[2] += 50</span><br><span class="line">TeleportEntity(particle, pos, NULL_VECTOR, NULL_VECTOR)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Format(tName, sizeof(tName), &quot;target%i&quot;, ent)</span><br><span class="line">DispatchKeyValue(ent, &quot;targetname&quot;, tName)</span><br><span class="line"></span><br><span class="line">Format(pName, sizeof(pName), &quot;particle%i&quot;, ent)</span><br><span class="line">DispatchKeyValue(particle, &quot;targetname&quot;, pName)</span><br><span class="line"></span><br><span class="line">DispatchKeyValue(particle, &quot;parentname&quot;, tName)</span><br><span class="line">DispatchKeyValue(particle, &quot;effect_name&quot;, particleType)</span><br><span class="line">DispatchSpawn(particle)</span><br><span class="line"></span><br><span class="line">SetVariantString(tName)</span><br><span class="line">AcceptEntityInput(particle, &quot;SetParent&quot;, particle, particle, 0)</span><br><span class="line"></span><br><span class="line">if (gametype == 1)</span><br><span class="line">&#123;</span><br><span class="line">SetVariantString(&quot;flag&quot;)</span><br><span class="line">AcceptEntityInput(particle, &quot;SetParentAttachment&quot;, particle, particle, 0)</span><br><span class="line">&#125;</span><br><span class="line">ActivateEntity(particle)</span><br><span class="line">AcceptEntityInput(particle, &quot;start&quot;)</span><br><span class="line"></span><br><span class="line">g_Ent[ent] = particle</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">DeleteParticle(any:particle)</span><br><span class="line">&#123;</span><br><span class="line">    if (IsValidEntity(particle))</span><br><span class="line">    &#123;</span><br><span class="line">        new String:classname[256]</span><br><span class="line">        GetEdictClassname(particle, classname, sizeof(classname))</span><br><span class="line">        if (StrEqual(classname, &quot;info_particle_system&quot;, false))</span><br><span class="line">        &#123;</span><br><span class="line">            RemoveEdict(particle)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">AttachFlame(ent)</span><br><span class="line">&#123;</span><br><span class="line">new String:flame_name[128]</span><br><span class="line">Format(flame_name, sizeof(flame_name), &quot;RocketFlame%i&quot;, ent)</span><br><span class="line"></span><br><span class="line">new String:tName[128]</span><br><span class="line"></span><br><span class="line">new flame = CreateEntityByName(&quot;env_steam&quot;)</span><br><span class="line">if (IsValidEdict(flame))</span><br><span class="line">&#123;</span><br><span class="line">new Float:pos[3] </span><br><span class="line">GetEntPropVector(ent, Prop_Send, &quot;m_vecOrigin&quot;, pos)</span><br><span class="line">pos[2] += 30</span><br><span class="line"></span><br><span class="line">new Float:angles[3]</span><br><span class="line">angles[0] = 90.0</span><br><span class="line">angles[1] = 0.0</span><br><span class="line">angles[2] = 0.0</span><br><span class="line"></span><br><span class="line">Format(tName, sizeof(tName), &quot;target%i&quot;, ent)</span><br><span class="line">DispatchKeyValue(ent, &quot;targetname&quot;, tName)</span><br><span class="line"></span><br><span class="line">DispatchKeyValue(flame,&quot;targetname&quot;, flame_name)</span><br><span class="line">DispatchKeyValue(flame, &quot;parentname&quot;, tName)</span><br><span class="line">DispatchKeyValue(flame,&quot;SpawnFlags&quot;, &quot;1&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;Type&quot;, &quot;0&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;InitialState&quot;, &quot;1&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;Spreadspeed&quot;, &quot;10&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;Speed&quot;, &quot;800&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;Startsize&quot;, &quot;10&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;EndSize&quot;, &quot;250&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;Rate&quot;, &quot;15&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;JetLength&quot;, &quot;400&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;RenderColor&quot;, &quot;180 71 8&quot;)</span><br><span class="line">DispatchKeyValue(flame,&quot;RenderAmt&quot;, &quot;180&quot;)</span><br><span class="line">DispatchSpawn(flame)</span><br><span class="line">TeleportEntity(flame, pos, angles, NULL_VECTOR)</span><br><span class="line">SetVariantString(tName)</span><br><span class="line">AcceptEntityInput(flame, &quot;SetParent&quot;, flame, flame, 0)</span><br><span class="line"></span><br><span class="line">CreateTimer(3.0, DeleteFlame, flame)</span><br><span class="line"></span><br><span class="line">g_Ent[ent] = flame</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:DeleteFlame(Handle:timer, any:ent)</span><br><span class="line">&#123;</span><br><span class="line">if (IsValidEntity(ent))</span><br><span class="line">    &#123;</span><br><span class="line">        new String:classname[256]</span><br><span class="line">        GetEdictClassname(ent, classname, sizeof(classname))</span><br><span class="line">        if (StrEqual(classname, &quot;env_steam&quot;, false))</span><br><span class="line">        &#123;</span><br><span class="line">            RemoveEdict(ent)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:Command_RocketMe(client, args)</span><br><span class="line">&#123;</span><br><span class="line">     if (IsClientInGame(client) &amp;&amp; IsPlayerAlive(client))</span><br><span class="line">     &#123;</span><br><span class="line">          PerformEvilRocket(-1, client)</span><br><span class="line">          CreateTimer(3.0, MessageUs, client)</span><br><span class="line">     &#125;</span><br><span class="line">     else if (GetConVarInt(Cvar_RocketMe))</span><br><span class="line">     &#123;</span><br><span class="line">          if (IsClientInGame(client) &amp;&amp; IsPlayerAlive(client))</span><br><span class="line">     &#123;</span><br><span class="line">          PerformEvilRocket(-1, client)</span><br><span class="line">          CreateTimer(3.0, MessageUs, client)</span><br><span class="line">     &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     else</span><br><span class="line">     &#123;</span><br><span class="line">          PrintToChat(client, &quot;[提示] 未允许把自己送进火箭。&quot;)</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     return Plugin_Handled</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:MessageUs(Handle:timer, any:client)</span><br><span class="line">&#123;</span><br><span class="line">PrintToChatAll(&quot;[死亡] %N 死于火箭意外坠落身亡.&quot;, client)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;以火箭方式发射到天空，然后爆炸死亡，未加特效，需要自行修改&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>人物带尾巴幻影特效</title>
    <link href="https://qzkyl.ml/posts/52442.html"/>
    <id>https://qzkyl.ml/posts/52442.html</id>
    <published>2018-10-24T03:43:46.000Z</published>
    <updated>2018-10-24T03:43:46.000Z</updated>
    
    <content type="html"><![CDATA[<p>默认所有玩家可以使用该权限，需要限制的话自行修改源码</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">include</span> &lt;sourcemod&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;sdktools&gt;</span><br><span class="line"></span><br><span class="line">#define <span class="constructor">IsValidClient(%1)</span>(<span class="number">1</span> &lt;= %<span class="number">1</span> &lt;= MaxClients<span class="operator"> &amp;&amp; </span><span class="constructor">IsClientInGame(%1)</span>)</span><br><span class="line"><span class="keyword">new</span> g_BeamObject<span class="literal">[<span class="number">66</span>]</span>;</span><br><span class="line"><span class="keyword">new</span> g_BeamSprite;</span><br><span class="line"></span><br><span class="line">public <span class="constructor">OnPluginStart()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">RegConsoleCmd(<span class="string">&quot;sm_hy&quot;</span>, Command_CPmenu)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public <span class="constructor">OnMapStart()</span></span><br><span class="line">&#123;</span><br><span class="line">g_BeamSprite = <span class="constructor">PrecacheModel(<span class="string">&quot;materials/sprites/laserbeam.vmt&quot;</span>, <span class="params">false</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">Command_CPmenu(<span class="params">client</span>, <span class="params">args</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">VIPHy(<span class="params">client</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">VIPHy(Client)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">CreateTimer(1.0, <span class="params">on</span>, Client, 3)</span>;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:on(Handle:timer, any:Client)</span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">SetUpBeamSpirit(Client, <span class="string">&quot;red&quot;</span>, 2.0, 7.0, 100)</span>;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="constructor">SetUpBeamSpirit(Client, String:ColoR[], Float:Life, Float:<span class="params">width</span>, Alpha)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsPlayerAlive(Client)</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsValidClient(Client)</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> mr_Noob = <span class="constructor">CreateEntityByName(<span class="string">&quot;prop_dynamic_override&quot;</span>, -1)</span>;</span><br><span class="line">decl Float:pos<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line"><span class="constructor">GetClientAbsOrigin(Client, <span class="params">pos</span>)</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsValidEdict(<span class="params">mr_Noob</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">decl Float:nooB<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line">decl Float:noobAng<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line"><span class="constructor">GetEntPropVector(Client, PropType:0, <span class="string">&quot;m_vecOrigin&quot;</span>, <span class="params">nooB</span>, 0)</span>;</span><br><span class="line"><span class="constructor">GetEntPropVector(Client, PropType:1, <span class="string">&quot;m_angRotation&quot;</span>, <span class="params">noobAng</span>, 0)</span>;</span><br><span class="line"><span class="constructor">DispatchKeyValue(<span class="params">mr_Noob</span>, <span class="string">&quot;model&quot;</span>, <span class="string">&quot;models/editor/camera.mdl&quot;</span>)</span>;</span><br><span class="line"><span class="constructor">SetEntPropVector(<span class="params">mr_Noob</span>, PropType:0, <span class="string">&quot;m_vecOrigin&quot;</span>, <span class="params">nooB</span>, 0)</span>;</span><br><span class="line"><span class="constructor">SetEntPropVector(<span class="params">mr_Noob</span>, PropType:0, <span class="string">&quot;m_angRotation&quot;</span>, <span class="params">noobAng</span>, 0)</span>;</span><br><span class="line"><span class="constructor">DispatchSpawn(<span class="params">mr_Noob</span>)</span>;</span><br><span class="line"><span class="constructor">SetEntPropFloat(<span class="params">mr_Noob</span>, PropType:0, <span class="string">&quot;m_flModelScale&quot;</span>, -0.0, 0)</span>;</span><br><span class="line"><span class="constructor">SetEntProp(<span class="params">mr_Noob</span>, PropType:0, <span class="string">&quot;m_nSolidType&quot;</span>, <span class="params">any</span>:6, 4, 0)</span>;</span><br><span class="line"><span class="constructor">SetEntityRenderMode(<span class="params">mr_Noob</span>, RenderMode:1)</span>;</span><br><span class="line"><span class="constructor">SetEntityRenderColor(<span class="params">mr_Noob</span>, 255, 255, 255, 0)</span>;</span><br><span class="line"><span class="constructor">SetVariantString(<span class="string">&quot;!activator&quot;</span>)</span>;</span><br><span class="line"><span class="constructor">AcceptEntityInput(<span class="params">mr_Noob</span>, <span class="string">&quot;SetParent&quot;</span>, Client, -1, 0)</span>;</span><br><span class="line"><span class="constructor">SetVariantString(<span class="string">&quot;spine&quot;</span>)</span>;</span><br><span class="line"><span class="constructor">AcceptEntityInput(<span class="params">mr_Noob</span>, <span class="string">&quot;SetParentAttachment&quot;</span>, -1, -1, 0)</span>;</span><br><span class="line"><span class="keyword">new</span> col<span class="literal">[<span class="number">4</span>]</span>;</span><br><span class="line">col<span class="literal">[<span class="number">0</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col<span class="literal">[<span class="number">1</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col<span class="literal">[<span class="number">2</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col<span class="literal">[<span class="number">3</span>]</span> = Alpha;</span><br><span class="line"><span class="keyword">new</span> col2<span class="literal">[<span class="number">4</span>]</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">0</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">1</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">2</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">3</span>]</span> = Alpha;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">StrEqual(ColoR, <span class="string">&quot;red&quot;</span>, <span class="params">false</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">col<span class="literal">[<span class="number">0</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">1</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">StrEqual(ColoR, <span class="string">&quot;green&quot;</span>, <span class="params">false</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">col<span class="literal">[<span class="number">1</span>]</span> = <span class="number">255</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">0</span>]</span> = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">StrEqual(ColoR, <span class="string">&quot;blue&quot;</span>, <span class="params">false</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line">col<span class="literal">[<span class="number">2</span>]</span> = <span class="number">255</span>;</span><br><span class="line">col2<span class="literal">[<span class="number">0</span>]</span> = <span class="number">255</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="constructor">TE_SetupBeamFollow(<span class="params">mr_Noob</span>, <span class="params">g_BeamSprite</span>, 100, Life, <span class="params">width</span>, 1.0, 3, <span class="params">col</span>)</span>;</span><br><span class="line"><span class="constructor">TE_SendToAll(0.0)</span>;</span><br><span class="line"><span class="constructor">TE_SetupBeamFollow(<span class="params">mr_Noob</span>, <span class="params">g_BeamSprite</span>, 100, Life, 1.0, 1.0, 3, <span class="params">col2</span>)</span>;</span><br><span class="line"><span class="constructor">TE_SendToAll(0.0)</span>;</span><br><span class="line">g_BeamObject<span class="literal">[C<span class="identifier">lient</span>]</span> = mr_Noob;</span><br><span class="line"><span class="constructor">CreateTimer(1.5, DeleteParticles, <span class="params">mr_Noob</span>, 0)</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public Action:<span class="constructor">DeleteParticles(Handle:<span class="params">timer</span>, <span class="params">any</span>:<span class="params">particle</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="constructor">IsValidEntity(<span class="params">particle</span>)</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> String:classname<span class="literal">[<span class="number">64</span>]</span>;</span><br><span class="line"><span class="constructor">GetEdictClassname(<span class="params">particle</span>, <span class="params">classname</span>, 64)</span>;</span><br><span class="line"><span class="constructor">RemoveEdict(<span class="params">particle</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line">return;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>效果如图：</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/201810242059_3537.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/201810242059_3537.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;默认所有玩家可以使用该权限，需要限制的话自行修改源码&lt;/p&gt;
&lt;figure class=&quot;highlight reasonml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>使用Source SDK编写Left4Dead2服务器的插件</title>
    <link href="https://qzkyl.ml/posts/22180.html"/>
    <id>https://qzkyl.ml/posts/22180.html</id>
    <published>2018-06-26T04:38:31.000Z</published>
    <updated>2018-06-26T04:38:31.000Z</updated>
    
    <content type="html"><![CDATA[<p>【写在前面】</p><p>写C++的同志并且想搞这个服务器插件的，我觉得您得看一看这篇文章。</p><p>原帖地址：本帖非搬运，原帖可能已经失效，原作者就是我</p><p>最后，请不要介意本文屎一样的排版</p><p>使用Source SDK编写Source引擎服务器的插件(L4D2 Version)</p><p>在此之前，如果还没搞明白metamod，sourcemod，source SDK三者之间联系的，请先看这个帖子（这个帖子反正已经凉了，但里面有些“干货”可以拿来看看）</p><p>本篇文章意旨您可以使用C++来编写您服务器的插件，据我所知，2013年之后很少有人再提起C++编写此引擎插件的事情了（现在2018了），取而代之的是metamod与Sourcemod（现在甚至编写metamod上面插件的人都很少了），国外基本也变成这样，既然如此，为什么我还要在此提出C++的使用呢？原因很简单：</p><p>自由超多人数服务器的性能</p><p>可以以这个插件作为学习C++的铺垫，为插件做一个HelloWorld，同时可以增强自身C++的功底。</p><p>pawn语言比较冷门，Source pawn更加不用说了，学精了也只能用在这些特定的地方，而C++可以跨平台干出任何想要的事情。</p><p>目测可以与exe一样达到防止轻易被反编译。</p><p>为什么自由，知道指针与内嵌汇编的人都知道它的厉害之处，而且需要一个厉害的人去驾驭它，但是这种人的孩子估计都上高中了，这也是C++插件基本绝种的主要原因（看看metamod社区多么冷清），第二，SourcePawn的性能在人数少的时候自然没啥可体现，但人多起来的时候，这个时候非常考验服务器性能（因为不优化插件，你就只能增加服务器性能，你得花钱啊！）。毕竟Sourcemod只是一个接口，如果接口性能考虑不完全，势必导致在接口之上编写的SourcePawn的性能大大降低。</p><p>我说了这么多，我并不是讨厌SourcePawn，而是因为SourcePawn限制了我的想象力，如果说把C++看成是宇宙，那么SourcePawn就是地球，这个概念想必都懂，我也就不废话了，进入正题：</p><p>想完成从源代码到插件的编写，你需要几样东西：（以下伸手党福利）</p><p>visual studio 2008（最好是express版本）<br>这是什么链接我就不说了，自己拿某雷去下，浏览器下载比较慢的</p><p>hl2-sdk-l4d2<br>可以说是求生2的源代码</p><p>求生之路2的scrds服务器<br>这个的话，反正我是官方正版的，可以去steam客户端的工具里面下载（图个情怀，现在谁还不买正版玩，我给个鄙视）</p><p>准备好这些，那就开始吧，准备工作挺简单的：</p><p>先用vs2008创建一个项目，你可以不创建在桌面上，但是创建之后别忘记在哪个目录。（我同学经常犯这毛病）</p><p>单击【文件】-&gt;【新建】-&gt;【项目】，确保选择Win32 项目，名称随便输，位置自己定（还是那句话，创建之后别忘记在哪个目录），然后选择空项目（这个很有必要）然后就创建成功了，而且务必选中DLL，不然后期会很难搞，都是点点鼠标的事儿，我就不放图了。</p><p>拷贝头文件与库至工程目录</p><p>将你的下载的hl2-sdk-l4d2的zip包解包，然后你能看见一大堆玩意儿，【choreoobjects, common, devtools, game, 等等】，然而你只需要其中的三个目录，game, lib, 与public。将这三个文件夹复制到你的工程目录（哈？你说目录不知道是啥？我刚才强调了两遍的话白说了吗？），拷贝完了以后，假如你如果想钻研一下Source的源码的，你可以看看hl2-sdk-l4d2 zip包下的其他目录，不想钻研的，SDK留着也没用了，直接删了便好。</p><p>设置工程，这个过程比较麻烦，但是弄好就一劳永逸，涉及编译原理的东西我也不说了，清楚的知道我在做什么，不清楚的你照做便罢。</p><p>首先你要为你的工程添加一个源文件，源文件名自己取，最好不要用中文，不这么做而直接跳过做下面这步的话，我已经能想象到你满头问号的表情了，创建完先不用动，看下一步。</p><p>创建好功成之后的vs2008的主界面的左上角应该有一个树形列表，写着 解决方案“项目名”、“项目名”， 头文件，源文件， 资源文件，右键那个项目名（解决方案下面那个），再点击属性，在弹出的框里你应该能找到c&#x2F;c++这一个标签（上面一步没有做，这一步你找不到这个标签的），点击它，在右边应该能找到包含附加目录，在里面填写以下内容：public;public\tier0;public\tier1;public\tier2;public\tier3;game;game\shared;game\server;game\client然后展开链接器标签，点击常规，在附加库目录里填上lib\public，再点击输入，分别在附加依赖项和忽略特定库里添加mathlib.lib tier0.lib tier1.lib tier2.lib vstdlib.lib和libc;libcd;libcmt，至此，项目设置应该是完成了，其他东西也没必要动了。</p><p>编写源代码，挂接IServerPluginCallbacks接口实现并且暴露自身某块以供服务器调用。</p><p>说的很好听，不过就是继承一下IServerPluginCallbacks再写个宏就完事儿了。代码我就放这儿吧。（懒得上传文件）</p><p>这段代码我没有测试过，这是我从其他工程提取出来的一个纯的代码， 代码编译错误请留言，我会尽力帮忙看的。</p><p>编译好了，进工程目录找到编译好的dll，放到桌面上，以便下一步使用。</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> GAME_DLL</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;interface.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;filesystem.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;engine/iserverplugin.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;game/server/iplayerinfo.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;eiface.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;igameevents.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;convar.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Color.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;vstdlib/random.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;engine/IEngineTrace.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;tier2/tier2.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;shareddefs.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;tier0/memdbgon.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CEmptyServerPlugin</span>: <span class="keyword">public</span> IServerPluginCallbacks</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">        <span class="built_in">CEmptyServerPlugin</span>();</span><br><span class="line">        ~<span class="built_in">CEmptyServerPlugin</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// IServerPluginCallbacks methods</span></span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">bool</span>                        <span class="title">Load</span><span class="params">(        CreateInterfaceFn interfaceFactory, CreateInterfaceFn gameServerFactory )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">Unload</span><span class="params">( <span class="type">void</span> )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">Pause</span><span class="params">( <span class="type">void</span> )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">UnPause</span><span class="params">( <span class="type">void</span> )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">const</span> <span class="type">char</span>     *<span class="title">GetPluginDescription</span><span class="params">( <span class="type">void</span> )</span></span>;      </span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">LevelInit</span><span class="params">( <span class="type">char</span> <span class="type">const</span> *pMapName )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">ServerActivate</span><span class="params">( <span class="type">edict_t</span> *pEdictList, <span class="type">int</span> edictCount, <span class="type">int</span> clientMax )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">GameFrame</span><span class="params">( <span class="type">bool</span> simulating )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">LevelShutdown</span><span class="params">( <span class="type">void</span> )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">ClientActive</span><span class="params">( <span class="type">edict_t</span> *pEntity )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">ClientDisconnect</span><span class="params">( <span class="type">edict_t</span> *pEntity )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">ClientPutInServer</span><span class="params">( <span class="type">edict_t</span> *pEntity, <span class="type">char</span> <span class="type">const</span> *playername )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">SetCommandClient</span><span class="params">( <span class="type">int</span> index )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">ClientSettingsChanged</span><span class="params">( <span class="type">edict_t</span> *pEdict )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> PLUGIN_RESULT        <span class="title">ClientConnect</span><span class="params">( <span class="type">bool</span> *bAllowConnect, <span class="type">edict_t</span> *pEntity, <span class="type">const</span> <span class="type">char</span> *pszName, <span class="type">const</span> <span class="type">char</span> *pszAddress, <span class="type">char</span> *reject, <span class="type">int</span> maxrejectlen )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> PLUGIN_RESULT        <span class="title">ClientCommand</span><span class="params">( <span class="type">edict_t</span> *pEntity, <span class="type">const</span> CCommand &amp;args )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> PLUGIN_RESULT        <span class="title">NetworkIDValidated</span><span class="params">( <span class="type">const</span> <span class="type">char</span> *pszUserName, <span class="type">const</span> <span class="type">char</span> *pszNetworkID )</span></span>;</span><br><span class="line">        <span class="function"><span class="keyword">virtual</span> <span class="type">void</span>                        <span class="title">OnQueryCvarValueFinished</span><span class="params">( QueryCvarCookie_t iCookie, <span class="type">edict_t</span> *pPlayerEntity, EQueryCvarValueStatus eStatus, <span class="type">const</span> <span class="type">char</span> *pCvarName, <span class="type">const</span> <span class="type">char</span> *pCvarValue )</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="comment">// The plugin is a static singleton that is exported as an interface</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">CEmptyServerPlugin g_EmtpyServerPlugin;</span><br><span class="line"><span class="built_in">EXPOSE_SINGLE_INTERFACE_GLOBALVAR</span>(CEmptyServerPlugin, IServerPluginCallbacks, INTERFACEVERSION_ISERVERPLUGINCALLBACKS, g_EmtpyServerPlugin );</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: constructor/destructor</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line">CEmptyServerPlugin::<span class="built_in">CEmptyServerPlugin</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">CEmptyServerPlugin::~<span class="built_in">CEmptyServerPlugin</span>()</span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called when the plugin is loaded, load the interface we need from the engine</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">CEmptyServerPlugin::Load</span><span class="params">(        CreateInterfaceFn interfaceFactory, CreateInterfaceFn gameServerFactory )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called when the plugin is unloaded (turned off)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::Unload</span><span class="params">( <span class="type">void</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called when the plugin is paused (i.e should stop running but isn&#x27;t unloaded)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::Pause</span><span class="params">( <span class="type">void</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called when the plugin is unpaused (i.e should start executing again)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::UnPause</span><span class="params">( <span class="type">void</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: the name of this plugin, returned in &quot;plugin_print&quot; command</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">const</span> <span class="type">char</span> *<span class="title">CEmptyServerPlugin::GetPluginDescription</span><span class="params">( <span class="type">void</span> )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Plugin Made by Yourself&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called on level start</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::LevelInit</span><span class="params">( <span class="type">char</span> <span class="type">const</span> *pMapName )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called on level start, when the server is ready to accept client connections</span></span><br><span class="line"><span class="comment">//                edictCount is the number of entities in the level, clientMax is the max client count</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::ServerActivate</span><span class="params">( <span class="type">edict_t</span> *pEdictList, <span class="type">int</span> edictCount, <span class="type">int</span> clientMax )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called once per server frame, do recurring work here (like checking for timeouts)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::GameFrame</span><span class="params">( <span class="type">bool</span> simulating )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called on level end (as the server is shutting down or going to a new map)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::LevelShutdown</span><span class="params">( <span class="type">void</span> )</span> <span class="comment">// !!!!this can get called multiple times per map change</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called when a client spawns into a server (i.e as they begin to play)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::ClientActive</span><span class="params">( <span class="type">edict_t</span> *pEntity )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="comment">// Purpose: called when a client leaves a server (or is timed out)</span></span><br><span class="line"><span class="comment">//---------------------------------------------------------------------------------</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::ClientDisconnect</span><span class="params">( <span class="type">edict_t</span> *pEntity )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::OnQueryCvarValueFinished</span><span class="params">( QueryCvarCookie_t iCookie, </span></span></span><br><span class="line"><span class="params"><span class="function">                                                          <span class="type">edict_t</span> *pPlayerEntity, </span></span></span><br><span class="line"><span class="params"><span class="function">                                                          EQueryCvarValueStatus eStatus, </span></span></span><br><span class="line"><span class="params"><span class="function">                                                          <span class="type">const</span> <span class="type">char</span> *pCvarName, </span></span></span><br><span class="line"><span class="params"><span class="function">                                                          <span class="type">const</span> <span class="type">char</span> *pCvarValue )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::ClientPutInServer</span><span class="params">(<span class="type">edict_t</span>* pEntity, <span class="type">const</span> <span class="type">char</span>* playername)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::SetCommandClient</span><span class="params">(<span class="type">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">CEmptyServerPlugin::ClientSettingsChanged</span><span class="params">(<span class="type">edict_t</span>* pEdict)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PLUGIN_RESULT <span class="title">CEmptyServerPlugin::ClientConnect</span><span class="params">(<span class="type">bool</span>* bAllowConnect, <span class="type">edict_t</span>* pEntity, <span class="type">const</span> <span class="type">char</span>* pszName, <span class="type">const</span> <span class="type">char</span>* pszAddress, <span class="type">char</span>* reject, <span class="type">int</span> maxrejectlen)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> PLUGIN_CONTINUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PLUGIN_RESULT <span class="title">CEmptyServerPlugin::ClientCommand</span><span class="params">(<span class="type">edict_t</span>* pEntity, <span class="type">const</span> CCommand&amp; args)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> PLUGIN_CONTINUE;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">PLUGIN_RESULT <span class="title">CEmptyServerPlugin::NetworkIDValidated</span><span class="params">(<span class="type">const</span> <span class="type">char</span>* pszUserName, <span class="type">const</span> <span class="type">char</span>* pszNetworkID)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">     <span class="keyword">return</span> PLUGIN_CONTINUE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>【广告推销时间】我有一个写MC插件的教程，我详细介绍了插件的涵义与含义，以及插件是怎么插进服务器的，与MC服务器相同的是，L4D2服务器也有一个插件引导文件，后缀名为vdf，可以新建一个vdf文件（非中文名），然后放到addons文件夹（这个读者应该清楚吧），在vdf里面写上以下内容：</p><p>这段代码我建议手打，而且最好用notepad++编辑，不然服务器识别不出来就完蛋，而且缩进最好用tab键。（我是基于metamod包里面自带的那个vdf文件修改的）</p><p>Bash</p><p>“Plugin”<br>{<br>“file”    “这里填写你的插件的目录，如果你dll文件放在addons目录里面，那么这里你可以写addons&#x2F;文件名（不带.dll），注意，最外边两个引号你得留着”<br>}</p><p>运行服务器查看插件运行状态</p><p>没意外的情况下，服务器应该能运行起来了，这个时候在控制台输入plugin_print，应该可以看到插件了（如果只有两条杠，杠之间啥也没有，那你失败了，重新来过），或者你也可以留言寻求帮助（当然你得问明白），这个只是一个什么也没有做的空插件，我会在这个论坛写一些插件供参考。</p><p>尾声</p><p>到这儿成功的朋友和我击个掌吧！（挺不容易的），因为这个时候你已经游于自由的海洋之中了，我可以毫不负责任的讲，现在你啥都可以做，你可以在cpp文件里引用windows.h然后为你的插件创建一个窗口，窗口里调用d3d功能然后模拟一个客户端绘制并且监控当前服务器内正在发生画面（这个可以做到，当然我不会做，因为需要算法的知识），还可以与酷Q机器人进行对接，不需要数据库，实现QQ群内输入指令检查当前服务器的人数和所有玩家的名称，能想到并且能做到的事情太多了，还能够把代码交给单片机集群去处理（相信我，能实现），甚至还能够与MC服务器进行数据对接，非常神奇，然而这一切的一切，不过就是从一个小小的HelloWorld与一份浇不灭的信心，相信想钻的读者一定能够成功，最后，自由万岁</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;【写在前面】&lt;/p&gt;
&lt;p&gt;写C++的同志并且想搞这个服务器插件的，我觉得您得看一看这篇文章。&lt;/p&gt;
&lt;p&gt;原帖地址：本帖非搬运，原帖可能已经失效，原作者就是我&lt;/p&gt;
&lt;p&gt;最后，请不要介意本文屎一样的排版&lt;/p&gt;
&lt;p&gt;使用Source SDK编写Source引擎服务</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>努比亚Z11  小白兔rom miui8破解版，可长期使用</title>
    <link href="https://qzkyl.ml/posts/40880.html"/>
    <id>https://qzkyl.ml/posts/40880.html</id>
    <published>2018-04-11T04:00:59.000Z</published>
    <updated>2018-04-11T04:00:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>2017年3月份，我就已成功绕过小白兔的验证了，猥琐的方法。</p><p>期间一直跟随原rom作者更新继续使用，无任何大问题。</p><p>一直想过发布的，可一直没心思写帖子，时间过去一年，机器也快残废了，发布出来也算对得起原作者吧。</p><p>目前存在以下问题：</p><ol><li><p>短按Home是无法使用的(曾有人解决，但没共享)</p></li><li><p>最新版好像全屏状态下无法下拉通知栏</p></li><li><p>无法开启nfc-sim</p></li></ol><p>其实上述问题影响不大，Home键可以用xp模块解决</p><p>最新完整包(原版无修改)：<a href="https://pan.baidu.com/s/1hvKN4Gv1pOn8ykP5wyn92A">https://pan.baidu.com/s/1hvKN4Gv1pOn8ykP5wyn92A</a></p><p>破解补丁(任意版本都可以使用)：<a href="https://pan.baidu.com/s/1O2J2IHbdaZzzcxyXtBI7ww">https://pan.baidu.com/s/1O2J2IHbdaZzzcxyXtBI7ww</a></p><p>注意：先刷完整包，再刷破解补丁，开机长达10分钟左右</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;2017年3月份，我就已成功绕过小白兔的验证了，猥琐的方法。&lt;/p&gt;
&lt;p&gt;期间一直跟随原rom作者更新继续使用，无任何大问题。&lt;/p&gt;
&lt;p&gt;一直想过发布的，可一直没心思写帖子，时间过去一年，机器也快残废了，发布出来也算对得起原作者吧。&lt;/p&gt;
&lt;p&gt;目前存在以下问题：&lt;</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Boomer 爆炸后模糊完美去除</title>
    <link href="https://qzkyl.ml/posts/4207.html"/>
    <id>https://qzkyl.ml/posts/4207.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>这是一款去Boomer模糊效果的模型，请尽量不要使用它来玩对抗模式，它与作弊没什么区别。使用MOD以后，无论是被胖子喷到还是被爆炸波及到，视线无任何影响，但胆汁造成的仇恨值依旧存在。</p><p>下载地址:<a href="https://pan.baidu.com/s/1slhFsHv">https://pan.baidu.com/s/1slhFsHv</a> 密码:4fve</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这是一款去Boomer模糊效果的模型，请尽量不要使用它来玩对抗模式，它与作弊没什么区别。使用MOD以后，无论是被胖子喷到还是被爆炸波及到，视线无任何影响，但胆汁造成的仇恨值依旧存在。&lt;/p&gt;
&lt;p&gt;下载地址:&lt;a href=&quot;https://pan.baidu.com/s/</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Charger/Hunter 冲刺扑人彩色轨迹</title>
    <link href="https://qzkyl.ml/posts/28985.html"/>
    <id>https://qzkyl.ml/posts/28985.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_amy6p97owhl5mb8.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_amy6p97owhl5mb8.png"></p><p>下载地址：<a href="https://pan.baidu.com/s/1kV36lUZ">https://pan.baidu.com/s/1kV36lUZ</a> 密码:flb7</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_ik5xksjtnpjpmro.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_ik5xksjtnpjpmro.png"></p><p>下载地址：<a href="https://pan.baidu.com/s/1mi6lWu8">https://pan.baidu.com/s/1mi6lWu8</a> 密码:qym9</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_amy6p97owhl5mb</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>SP源码编译成SMX插件</title>
    <link href="https://qzkyl.ml/posts/39393.html"/>
    <id>https://qzkyl.ml/posts/39393.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>SP源码需要用到控件才能编译为SMX格式的插件</p><p>编译方式分两种，一种可以看是否有错误内容，一种直接编译</p><p>方法一(可看报错内容)：</p><p>将SP文件拖到 X:\left4dead2\addons\sourcemod\scripting\compile.exe 会弹出一个窗口，表示正在编译，没任何错误的话就像下图这样</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_4tz729lu08chzel.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_4tz729lu08chzel.png"></p><p>注意，此编译方式，需要在SP源码文件位置创建compiled文件夹，否则报错，生成的SMX插件在compiled文件夹里</p><p>方法二(无法查看报错)：</p><p>将SP文件拖到 X:\left4dead2\addons\sourcemod\scripting\spcomp.exe，该方式无论源码是否有错误，都会尝试进行编译，源码正确SMX插件将在你SP源码处生成，源码错误，无任何输出。只有当你确定源码百分百无错才可使用此方式</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;SP源码需要用到控件才能编译为SMX格式的插件&lt;/p&gt;
&lt;p&gt;编译方式分两种，一种可以看是否有错误内容，一种直接编译&lt;/p&gt;
&lt;p&gt;方法一(可看报错内容)：&lt;/p&gt;
&lt;p&gt;将SP文件拖到 X:&#92;left4dead2&#92;addons&#92;sourcemod&#92;scripting&#92;co</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>让你的子弹孔显示五颜六色</title>
    <link href="https://qzkyl.ml/posts/36169.html"/>
    <id>https://qzkyl.ml/posts/36169.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_7m1f9d2suz06ksl.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_7m1f9d2suz06ksl.png"></p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2gnhffghfg.smx">l4d2gnhffghfg.smx</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_7m1f9d2suz06ks</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>伪装服务器端开服显示今日消息</title>
    <link href="https://qzkyl.ml/posts/7369.html"/>
    <id>https://qzkyl.ml/posts/7369.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>今日消息只有在服务端开服的情况下，客户端进入才会显示</p><p>用了这个插件，即使你是客户端开游戏也能显示</p><p>下载地址：<a href="https://pan.baidu.com/s/1gf2ZuyJ">https://pan.baidu.com/s/1gf2ZuyJ</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;今日消息只有在服务端开服的情况下，客户端进入才会显示&lt;/p&gt;
&lt;p&gt;用了这个插件，即使你是客户端开游戏也能显示&lt;/p&gt;
&lt;p&gt;下载地址：&lt;a href=&quot;https://pan.baidu.com/s/1gf2ZuyJ&quot;&gt;https://pan.baidu.com/s/1g</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>解决使用医疗包治疗自己或队友不能满血的问题</title>
    <link href="https://qzkyl.ml/posts/13344.html"/>
    <id>https://qzkyl.ml/posts/13344.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">include</span> &lt;sourcemod&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;sdkhooks&gt;</span><br><span class="line">public <span class="constructor">OnPluginStart()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="constructor">HookEvent(<span class="string">&quot;heal_success&quot;</span>,Event_HealSuccess)</span>;</span><br><span class="line">&#125;</span><br><span class="line"> public Action:<span class="constructor">Event_HealSuccess(Handle:<span class="params">event</span>, String:<span class="params">event_name</span>[], <span class="params">bool</span>:<span class="params">dontBroadcast</span>)</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> HealSucTarget = <span class="constructor">GetClientOfUserId(GetEventInt(<span class="params">event</span>, <span class="string">&quot;subject&quot;</span>)</span>);</span><br><span class="line"><span class="keyword">new</span> MaxHP = <span class="constructor">GetEntProp(HealSucTarget, Prop_Data, <span class="string">&quot;m_iMaxHealth&quot;</span>)</span>;</span><br><span class="line"><span class="constructor">SetEntProp(HealSucTarget, Prop_Data, <span class="string">&quot;m_iHealth&quot;</span>, MaxHP)</span>;</span><br><span class="line">return Plugin_Continue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight reasonml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span cl</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>另一款双主武器插件，E+右键切换</title>
    <link href="https://qzkyl.ml/posts/35881.html"/>
    <id>https://qzkyl.ml/posts/35881.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>这插件作者是： 非本龟</p><p>玩家可以同时拥有两个主武器,操作方法:拿出主武器,然后按 E+右击 ,此时现主武器将储存为后备主武器,然后替换为先前的后备主武器,连续按 E+右击 可以实现切换.</p><p>使用起来这个应该比较好吧，不容易按错切换。</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/[L4D]shuanngzhuwuqi.sp">L4Dshuanngzhuwuqi.sp</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这插件作者是： 非本龟&lt;/p&gt;
&lt;p&gt;玩家可以同时拥有两个主武器,操作方法:拿出主武器,然后按 E+右击 ,此时现主武器将储存为后备主武器,然后替换为先前的后备主武器,连续按 E+右击 可以实现切换.&lt;/p&gt;
&lt;p&gt;使用起来这个应该比较好吧，不容易按错切换。&lt;/p&gt;
&lt;p&gt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>让子弹弹道拥有五颜六色的特效</title>
    <link href="https://qzkyl.ml/posts/57711.html"/>
    <id>https://qzkyl.ml/posts/57711.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_f11z0fni1h6q6tb.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_f11z0fni1h6q6tb.png"></p><p>效果如图，输入指令!ray开启</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">include</span> &lt;sourcemod&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;sdktools&gt;</span><br><span class="line">#<span class="keyword">include</span> &lt;sdkhooks&gt;</span><br><span class="line"><span class="keyword">new</span> g_Sprite;</span><br><span class="line"><span class="keyword">new</span> shexian = <span class="number">0</span>;</span><br><span class="line">public Plugin:myinfo=</span><br><span class="line">&#123;</span><br><span class="line">        name = <span class="string">&quot;子弹射线&quot;</span>,</span><br><span class="line">        author = <span class="string">&quot;笨蛋海绵&quot;</span>,</span><br><span class="line">        description = <span class="string">&quot;子弹射线&quot;</span>,</span><br><span class="line">        url = <span class="string">&quot;https://abbw.ml&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line">public <span class="constructor">OnPluginStart()</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="constructor">RegAdminCmd(<span class="string">&quot;sm_ray&quot;</span>,<span class="params">abbw_shexian</span>, ADMFLAG_ROOT, <span class="string">&quot;开关&quot;</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line">public <span class="constructor">OnMapStart()</span></span><br><span class="line">&#123;</span><br><span class="line">        g_Sprite = <span class="constructor">PrecacheModel(<span class="string">&quot;materials/sprites/laserbeam.vmt&quot;</span>)</span>;                        </span><br><span class="line">&#125;</span><br><span class="line">public Action:abbw<span class="constructor">_shexian(<span class="params">client</span>, <span class="params">args</span>)</span> </span><br><span class="line">&#123;</span><br><span class="line">        <span class="keyword">if</span> (shexian<span class="operator"> == </span><span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">                <span class="constructor">PrintHintTextToAll(<span class="string">&quot;关闭子弹射线&quot;</span>)</span>;</span><br><span class="line">                shexian = <span class="number">0</span>;</span><br><span class="line">                <span class="constructor">UnhookEvent(<span class="string">&quot;bullet_impact&quot;</span>, Event_ZDPZ)</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">                <span class="constructor">PrintHintTextToAll(<span class="string">&quot;开启子弹射线&quot;</span>)</span>;</span><br><span class="line">                shexian = <span class="number">1</span>;</span><br><span class="line">                <span class="constructor">HookEvent(<span class="string">&quot;bullet_impact&quot;</span>, Event_ZDPZ)</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">public <span class="constructor">Event_ZDPZ(Handle:<span class="params">event</span>,<span class="params">const</span> String:<span class="params">name</span>[],<span class="params">bool</span>:<span class="params">dontBroadcast</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">     <span class="keyword">new</span> client = <span class="constructor">GetClientOfUserId(GetEventInt(<span class="params">event</span>, <span class="string">&quot;userid&quot;</span>)</span>);</span><br><span class="line">     decl Float:Origin<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line">     Origin<span class="literal">[<span class="number">0</span>]</span> = <span class="constructor">GetEventFloat(<span class="params">event</span>,<span class="string">&quot;x&quot;</span>)</span>;</span><br><span class="line">     Origin<span class="literal">[<span class="number">1</span>]</span> = <span class="constructor">GetEventFloat(<span class="params">event</span>,<span class="string">&quot;y&quot;</span>)</span>;</span><br><span class="line">     Origin<span class="literal">[<span class="number">2</span>]</span> = <span class="constructor">GetEventFloat(<span class="params">event</span>,<span class="string">&quot;z&quot;</span>)</span>;</span><br><span class="line">     decl color<span class="literal">[<span class="number">4</span>]</span>;</span><br><span class="line">     color<span class="literal">[<span class="number">0</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">     color<span class="literal">[<span class="number">1</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">     color<span class="literal">[<span class="number">2</span>]</span> = <span class="constructor">GetRandomInt(0, 255)</span>;</span><br><span class="line">     color<span class="literal">[<span class="number">3</span>]</span> = <span class="number">128</span>;</span><br><span class="line">     decl Float:Pos<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line">     <span class="constructor">GetClientAbsOrigin(<span class="params">client</span>, Pos)</span>;</span><br><span class="line">     decl Float:bulletPos<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line">     bulletPos = Origin;</span><br><span class="line">     decl Float:playerPos<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line">     <span class="constructor">GetClientEyePosition(<span class="params">client</span>, <span class="params">playerPos</span>)</span>;</span><br><span class="line">     decl Float:lineVector<span class="literal">[<span class="number">3</span>]</span>;</span><br><span class="line">     <span class="constructor">SubtractVectors(<span class="params">playerPos</span>, Origin, <span class="params">lineVector</span>)</span>;</span><br><span class="line">     <span class="constructor">NormalizeVector(<span class="params">lineVector</span>, <span class="params">lineVector</span>)</span>;</span><br><span class="line">     <span class="constructor">ScaleVector(<span class="params">lineVector</span>, 20.0)</span>;</span><br><span class="line">     <span class="constructor">SubtractVectors(<span class="params">playerPos</span>, <span class="params">lineVector</span>, Origin)</span>;</span><br><span class="line">     <span class="constructor">TE_SetupBeamPoints(Origin, <span class="params">bulletPos</span>, <span class="params">g_Sprite</span>, 0, 0, 0, 0.5, 0.5, 0.5, 1, 0.0, <span class="params">color</span>, 0)</span>;</span><br><span class="line">     <span class="constructor">TE_SendToAll()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_f11z0fni1h6q6t</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>带开局提示的丢物品插件</title>
    <link href="https://qzkyl.ml/posts/20038.html"/>
    <id>https://qzkyl.ml/posts/20038.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>内容</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8_bg7km8z9owy8if2.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8_bg7km8z9owy8if2.png"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8_upjy8l2amjfqo8i.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8_upjy8l2amjfqo8i.png"></p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2drop.smx">l4d2drop.smx</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;内容&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/8_bg7k</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>幸存者可以携带两把主武器|刀|投掷</title>
    <link href="https://qzkyl.ml/posts/26306.html"/>
    <id>https://qzkyl.ml/posts/26306.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>怎么使用：</p><p>方法一：1,2,3,4,5</p><p>方法二：按两次(例如：11,22,33,44,55)</p><p>或者使用命令：!sm_s0</p><p>恢复：!shove</p><p>命令：</p><p>!me: 选择切换武器的方法</p><p>!s0: 切换项目<br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_y1trqw7wmtsdvsp.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_y1trqw7wmtsdvsp.jpg"><br><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_y1trqw7wmtsdvsp.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_y1trqw7wmtsdvsp.jpg"></p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d_multiple_equipment_all.sp">l4d_multiple_equipment_all.sp</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;怎么使用：&lt;/p&gt;
&lt;p&gt;方法一：1,2,3,4,5&lt;/p&gt;
&lt;p&gt;方法二：按两次(例如：11,22,33,44,55)&lt;/p&gt;
&lt;p&gt;或者使用命令：!sm_s0&lt;/p&gt;
&lt;p&gt;恢复：!shove&lt;/p&gt;
&lt;p&gt;命令：&lt;/p&gt;
&lt;p&gt;!me: 选择切换武器的方法&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>手持近战武器自动切换到第三人称视觉</title>
    <link href="https://qzkyl.ml/posts/60156.html"/>
    <id>https://qzkyl.ml/posts/60156.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>只要你使用近身武器，就自动切换到第三人称，不使用就变回第一人称</p><p>需要开关的，回复艾特我修改</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_auto_thirdperson_melee.sp">l4d2_auto_thirdperson_melee.sp</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;只要你使用近身武器，就自动切换到第三人称，不使用就变回第一人称&lt;/p&gt;
&lt;p&gt;需要开关的，回复艾特我修改&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_auto_thirdperson_m</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>捡起武器自动开启或关闭红外线</title>
    <link href="https://qzkyl.ml/posts/62608.html"/>
    <id>https://qzkyl.ml/posts/62608.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>默认设置的是管理员输入指令开启后，捡起武器自动开启红外线</p><p>想非管理员也可以用的，把指令改成通用就好了</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_abbw_hwx.sp">l4d2_abbw_hwx.sp</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;默认设置的是管理员输入指令开启后，捡起武器自动开启红外线&lt;/p&gt;
&lt;p&gt;想非管理员也可以用的，把指令改成通用就好了&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_abbw_hwx.sp&quot;&gt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>任意模式下接管坦克控制权</title>
    <link href="https://qzkyl.ml/posts/33815.html"/>
    <id>https://qzkyl.ml/posts/33815.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>对抗模式下自动禁用</p><p>使用方法：需要接管Tank的，输入指令!tank，如果有多名玩家输入指令，则随机抽选一名幸运观众</p><p>指令：</p><p>!tank 玩家参与控制tank</p><p>!notank 管理员关闭接管tank功能</p><p>注意：</p><p>因为本身是配合我自己写的多人插件来使用的，所以为了适应，你接管的tank后，也将处死你，毕竟我不知道别人的自动BOT处理方式</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_abbw_tank.smx">l4d2_abbw_tank.smx</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;对抗模式下自动禁用&lt;/p&gt;
&lt;p&gt;使用方法：需要接管Tank的，输入指令!tank，如果有多名玩家输入指令，则随机抽选一名幸运观众&lt;/p&gt;
&lt;p&gt;指令：&lt;/p&gt;
&lt;p&gt;!tank 玩家参与控制tank&lt;/p&gt;
&lt;p&gt;!notank 管理员关闭接管tank功能&lt;/p&gt;
&lt;p&gt;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>无限推，无cd时间，推到手麻木都可以</title>
    <link href="https://qzkyl.ml/posts/30291.html"/>
    <id>https://qzkyl.ml/posts/30291.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>官方默认推是有限制的，此插件可以解除限制</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/ShoveSpamming.smx">ShoveSpamming.smx</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;官方默认推是有限制的，此插件可以解除限制&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/ShoveSpamming.smx&quot;&gt;ShoveSpamming.smx&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>服用 药丸/服用肾上腺/拉人/电起队友/帮队友打包 触发人品事件</title>
    <link href="https://qzkyl.ml/posts/10403.html"/>
    <id>https://qzkyl.ml/posts/10403.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#include &lt;sourcemod&gt;</span></span><br><span class="line"><span class="comment">#include &lt;sdktools&gt;</span></span><br><span class="line"><span class="keyword">new</span> g_iNextPAttO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iVMStartTimeO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iShotStartDurO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iShotInsertDurO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iShotEndDurO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iPlayRateO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iShotRelStateO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iNextAttO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iTimeIdleO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iActiveWO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">new</span> g_iViewModelO= -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHAutoS = <span class="number">0.666666</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHAutoI = <span class="number">0.4</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHAutoE = <span class="number">0.675</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHSpasS = <span class="number">0.5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHSpasI = <span class="number">0.375</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHSpasE = <span class="number">0.699999</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHPumpS = <span class="number">0.5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHPumpI = <span class="number">0.5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">Float</span>: g_flSoHPumpE = <span class="number">0.6</span>;</span><br><span class="line"><span class="keyword">new</span> slaptimer[MAXPLAYERS+<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>: hunmanspeed[MAXPLAYERS+<span class="number">1</span>] = <span class="number">1.0</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">bool</span>: speedchange[MAXPLAYERS+<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">bool</span>: weaponspeed[MAXPLAYERS+<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="keyword">bool</span>: reloadspeed[MAXPLAYERS+<span class="number">1</span>] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_random = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_1 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_2 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_3 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_4 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_5 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_6 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_7 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_8 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_9 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_10 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_11 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarevent_12 = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarhpback = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarspeedupsp = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarspeeddownsp = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarspeedchangetimer = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarfreezetimer = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvargodtimer = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarslaptimer = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarweaponspeeduptimer = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarreloadspeeduptimer = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarweaponspeedupsp = INVALID_HANDLE;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>: g_cvarreloadspeedupsp = INVALID_HANDLE;</span><br><span class="line"><span class="comment">//插件信息</span></span><br><span class="line"><span class="keyword">public</span> Plugin:myinfo = </span><br><span class="line">&#123;</span><br><span class="line">name = <span class="string">&quot;服用药丸/服用肾上腺/拉人/电起队友/帮队友打包触发RP事件&quot;</span>,</span><br><span class="line">author = <span class="string">&quot;非本龟&quot;</span>,</span><br><span class="line">description = <span class="string">&quot;救援副作用&quot;</span>,</span><br><span class="line">version = <span class="string">&quot;0.0.2&quot;</span>,</span><br><span class="line">url = <span class="string">&quot;http://bbs.jumpgame.net&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//设置CFG选项</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_ invoke__">OnPluginStart</span>()</span><br><span class="line">&#123;</span><br><span class="line">g_cvarevent_random = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_random&quot;</span>, <span class="string">&quot;35&quot;</span>, <span class="string">&quot;触发救援副作用的概率(0~100)&quot;</span>);</span><br><span class="line">g_cvarevent_1 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_1&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件回血&quot;</span>);</span><br><span class="line">g_cvarevent_2 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_2&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件加速&quot;</span>);</span><br><span class="line">g_cvarevent_3 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_3&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件减速&quot;</span>);</span><br><span class="line">g_cvarevent_4 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_4&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件冰冻&quot;</span>);</span><br><span class="line">g_cvarevent_5 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_5&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件眩晕&quot;</span>);</span><br><span class="line">g_cvarevent_6 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_6&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件亮灯&quot;</span>);</span><br><span class="line">g_cvarevent_7 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_7&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件无敌&quot;</span>);</span><br><span class="line">g_cvarevent_8 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_8&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件拍打&quot;</span>);</span><br><span class="line">g_cvarevent_9 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_9&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件获得燃烧弹&quot;</span>);</span><br><span class="line">g_cvarevent_10 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_10&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件获得高爆弹&quot;</span>);</span><br><span class="line">g_cvarevent_11 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_11&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件武器攻击速度提升&quot;</span>);</span><br><span class="line">g_cvarevent_12 = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_12&quot;</span>, <span class="string">&quot;1&quot;</span>, <span class="string">&quot;救援副作用是否允许事件武器上弹速度提升&quot;</span>);</span><br><span class="line"></span><br><span class="line">g_cvarhpback = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_hpback&quot;</span>, <span class="string">&quot;40&quot;</span>, <span class="string">&quot;救援副作用回血的血量&quot;</span>);</span><br><span class="line">g_cvarspeedupsp = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_speedupsp&quot;</span>, <span class="string">&quot;1.3&quot;</span>, <span class="string">&quot;救援副作用加速的速度&quot;</span>);</span><br><span class="line">g_cvarspeeddownsp = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_speeddownsp&quot;</span>, <span class="string">&quot;0.7&quot;</span>, <span class="string">&quot;救援副作用减速的速度&quot;</span>);</span><br><span class="line">g_cvarspeedchangetimer = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_speedchangetimer&quot;</span>, <span class="string">&quot;20.0&quot;</span>, <span class="string">&quot;救援副作用速度改变的时间&quot;</span>);</span><br><span class="line">g_cvarfreezetimer = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_freezetimer&quot;</span>, <span class="string">&quot;7&quot;</span>, <span class="string">&quot;救援副作用冰冻的时间&quot;</span>);</span><br><span class="line">g_cvargodtimer = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_godtimer&quot;</span>, <span class="string">&quot;20.0&quot;</span>, <span class="string">&quot;救援副作用无敌的时间&quot;</span>);</span><br><span class="line">g_cvarslaptimer = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_slaptimer&quot;</span>, <span class="string">&quot;5&quot;</span>, <span class="string">&quot;救援副作用拍打的时间&quot;</span>);</span><br><span class="line">g_cvarweaponspeeduptimer = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_weaponspeeduptimer&quot;</span>, <span class="string">&quot;30.0&quot;</span>, <span class="string">&quot;救援副作用武器攻击速度提升时间&quot;</span>);</span><br><span class="line">g_cvarreloadspeeduptimer = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_reloadspeeduptimer&quot;</span>, <span class="string">&quot;30.0&quot;</span>, <span class="string">&quot;救援副作用武器上弹速度提升时间&quot;</span>);</span><br><span class="line">g_cvarweaponspeedupsp = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_weaponspeedupsp&quot;</span>, <span class="string">&quot;1.2&quot;</span>, <span class="string">&quot;救援副作用武器攻击的速度&quot;</span>);</span><br><span class="line">g_cvarreloadspeedupsp = <span class="title function_ invoke__">CreateConVar</span>(<span class="string">&quot;sm_drug_used_event_reloadspeedupsp&quot;</span>, <span class="string">&quot;0.5&quot;</span>, <span class="string">&quot;救援副作用武器上弹的速度&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">AutoExecConfig</span>(<span class="literal">true</span>, <span class="string">&quot;rescued_rp_event_0_0_2&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">HookEvents</span>();</span><br><span class="line"></span><br><span class="line">g_iNextPAttO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseCombatWeapon&quot;</span>,<span class="string">&quot;m_flNextPrimaryAttack&quot;</span>);</span><br><span class="line">g_iShotStartDurO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseShotgun&quot;</span>,<span class="string">&quot;m_reloadStartDuration&quot;</span>);</span><br><span class="line">g_iShotInsertDurO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseShotgun&quot;</span>,<span class="string">&quot;m_reloadInsertDuration&quot;</span>);</span><br><span class="line">g_iShotEndDurO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseShotgun&quot;</span>,<span class="string">&quot;m_reloadEndDuration&quot;</span>);</span><br><span class="line">g_iPlayRateO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseCombatWeapon&quot;</span>,<span class="string">&quot;m_flPlaybackRate&quot;</span>);</span><br><span class="line">g_iShotRelStateO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseShotgun&quot;</span>,<span class="string">&quot;m_reloadState&quot;</span>);</span><br><span class="line">g_iNextAttO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CTerrorPlayer&quot;</span>,<span class="string">&quot;m_flNextAttack&quot;</span>);</span><br><span class="line">g_iTimeIdleO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CTerrorGun&quot;</span>,<span class="string">&quot;m_flTimeWeaponIdle&quot;</span>);</span><br><span class="line">g_iVMStartTimeO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CTerrorViewModel&quot;</span>,<span class="string">&quot;m_flLayerStartTime&quot;</span>);</span><br><span class="line">g_iActiveWO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CBaseCombatCharacter&quot;</span>,<span class="string">&quot;m_hActiveWeapon&quot;</span>);</span><br><span class="line">g_iViewModelO=<span class="title function_ invoke__">FindSendPropInfo</span>(<span class="string">&quot;CTerrorPlayer&quot;</span>,<span class="string">&quot;m_hViewModel&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义事件</span></span><br><span class="line"><span class="title function_ invoke__">HookEvents</span>()</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">HookEvent</span>(<span class="string">&quot;heal_success&quot;</span>, Event_Rescued_RP);</span><br><span class="line"><span class="title function_ invoke__">HookEvent</span>(<span class="string">&quot;adrenaline_used&quot;</span>, Event_Rescued_RP);</span><br><span class="line"><span class="title function_ invoke__">HookEvent</span>(<span class="string">&quot;pills_used&quot;</span>, Event_Rescued_RP);</span><br><span class="line"><span class="title function_ invoke__">HookEvent</span>(<span class="string">&quot;defibrillator_used&quot;</span>, Event_Rescued_RP);</span><br><span class="line"><span class="title function_ invoke__">HookEvent</span>(<span class="string">&quot;revive_success&quot;</span>, Event_Rescued_RP);</span><br><span class="line"><span class="title function_ invoke__">HookEvent</span>(<span class="string">&quot;weapon_reload&quot;</span>, Event_Reload);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//药物副作用事件</span></span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">Event_Rescued_RP</span>(<span class="attr">Handle</span>:event, <span class="attr">String</span>:event_name[], <span class="attr">bool</span>:dontBroadcast)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> client = <span class="title function_ invoke__">GetClientOfUserId</span>(<span class="title function_ invoke__">GetEventInt</span>(event, <span class="string">&quot;userid&quot;</span>));</span><br><span class="line"><span class="keyword">if</span>(!client || !<span class="title function_ invoke__">IsClientInGame</span>(client) || !<span class="title function_ invoke__">IsPlayerAlive</span>(client) || <span class="title function_ invoke__">IsFakeClient</span>(client)) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">new</span> random = <span class="title function_ invoke__">GetRandomInt</span>(<span class="number">1</span>, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_random) &gt;= random)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> rp = <span class="title function_ invoke__">GetRandomInt</span>(<span class="number">0</span>, <span class="number">11</span>);</span><br><span class="line"><span class="keyword">switch</span>(rp)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_1))</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(!<span class="title function_ invoke__">GetEntProp</span>(client, Prop_Send, <span class="string">&quot;m_isIncapacitated&quot;</span>)) </span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SetEntProp</span>(client,Prop_Send,<span class="string">&quot;m_iHealth&quot;</span>,<span class="title function_ invoke__">GetEntProp</span>(client,Prop_Send,<span class="string">&quot;m_iHealth&quot;</span>) + <span class="title function_ invoke__">GetConVarInt</span>(g_cvarhpback));</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:回血%d.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarhpback));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_2) &amp;&amp; speedchange[client] == <span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line">speedchange[client] = <span class="literal">true</span>;</span><br><span class="line">hunmanspeed[client] = <span class="title function_ invoke__">GetEntPropFloat</span>(client, Prop_Data, <span class="string">&quot;m_flLaggedMovementValue&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntPropFloat</span>(client, Prop_Data, <span class="string">&quot;m_flLaggedMovementValue&quot;</span>, <span class="title function_ invoke__">GetConVarFloat</span>(g_cvarspeedupsp) * hunmanspeed[client]);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:速度加快%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarspeedchangetimer));</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarspeedchangetimer), Event_Speed_End, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_3) &amp;&amp; speedchange[client] == <span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line">speedchange[client] = <span class="literal">true</span>;</span><br><span class="line">hunmanspeed[client] = <span class="title function_ invoke__">GetEntPropFloat</span>(client, Prop_Data, <span class="string">&quot;m_flLaggedMovementValue&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntPropFloat</span>(client, Prop_Data, <span class="string">&quot;m_flLaggedMovementValue&quot;</span>, <span class="title function_ invoke__">GetConVarFloat</span>(g_cvarspeeddownsp) * hunmanspeed[client]);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:速度减慢%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarspeedchangetimer));</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarspeedchangetimer), Event_Speed_End, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_4))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">ServerCommand</span>(<span class="string">&quot;sm_freeze \&quot;%N\&quot; \&quot;%d\&quot;&quot;</span>,client,<span class="title function_ invoke__">GetConVarInt</span>(g_cvarfreezetimer)); </span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:冰冻%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarfreezetimer));</span><br><span class="line"><span class="title function_ invoke__">PrintToChatAll</span>(<span class="string">&quot;\x05【%N】\x04 触发了牛逼的副作用：\x03冰冻%d秒&quot;</span>, client), <span class="title function_ invoke__">GetConVarInt</span>(g_cvarfreezetimer);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_5))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">ServerCommand</span>(<span class="string">&quot;sm_drug \&quot;%N\&quot; \&quot;10\&quot;&quot;</span>,client);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:眩晕.&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChatAll</span>(<span class="string">&quot;\x05【%N】\x04 触发了牛逼的副作用：\x03眩晕&quot;</span>, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_6))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">ServerCommand</span>(<span class="string">&quot;sm_beacon \&quot;%N\&quot;&quot;</span>,client);</span><br><span class="line"><span class="title function_ invoke__">ServerCommand</span>(<span class="string">&quot;sm_beacon_radius \&quot;80\&quot;&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:亮灯.&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChatAll</span>(<span class="string">&quot;\x05【%N】\x04 触发了牛逼的副作用：\x03亮灯&quot;</span>, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_7))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SetEntProp</span>(client, Prop_Data, <span class="string">&quot;m_takedamage&quot;</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:无敌%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvargodtimer));</span><br><span class="line"><span class="title function_ invoke__">PrintToChatAll</span>(<span class="string">&quot;\x05【%N】\x04 触发了牛逼的副作用：\x03无敌%d秒&quot;</span>, client, <span class="title function_ invoke__">GetConVarInt</span>(g_cvargodtimer));</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="title function_ invoke__">GetConVarFloat</span>(g_cvargodtimer), Event_God_End, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_8))</span><br><span class="line">&#123;</span><br><span class="line">slaptimer[client] = <span class="title function_ invoke__">GetConVarInt</span>(g_cvarslaptimer);</span><br><span class="line"><span class="title function_ invoke__">ServerCommand</span>(<span class="string">&quot;sm_slap \&quot;%N\&quot; \&quot;1\&quot;&quot;</span>,client);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:拍打%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarslaptimer));</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">1.0</span>, Event_Slap, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">8</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_9))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">CheatCommand</span>(client, <span class="string">&quot;upgrade_add&quot;</span>, <span class="string">&quot;INCENDIARY_AMMO&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:获得燃烧弹.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">9</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_10))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">CheatCommand</span>(client, <span class="string">&quot;upgrade_add&quot;</span>, <span class="string">&quot;EXPLOSIVE_AMMO&quot;</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:获得高爆弹.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">10</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_11))</span><br><span class="line">&#123;</span><br><span class="line">weaponspeed[client] = <span class="literal">true</span>;</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:武器攻击速度上升%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarweaponspeeduptimer));</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarweaponspeeduptimer), Event_Weapon_Speed_Up_End, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">case</span> <span class="number">11</span>:</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetConVarInt</span>(g_cvarevent_12))</span><br><span class="line">&#123;</span><br><span class="line">reloadspeed[client] = <span class="literal">true</span>;</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*你引发了救援的副作用:武器上弹速度上升%d秒.&quot;</span>, <span class="title function_ invoke__">GetConVarInt</span>(g_cvarreloadspeeduptimer));</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeeduptimer), Event_Reload_Speed_Up_End, client);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//武器攻击速度和上弹速度</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_ invoke__">Event_Reload</span>(<span class="attr">Handle</span>:event, <span class="keyword">const</span> <span class="attr">String</span>:name[], <span class="attr">bool</span>:dontBroadcast)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">GetClientOfUserId</span>(<span class="title function_ invoke__">GetEventInt</span>(event, <span class="string">&quot;userid&quot;</span>));</span><br><span class="line"><span class="keyword">if</span>(iCid == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line"><span class="keyword">if</span>(reloadspeed[iCid] == <span class="literal">true</span>) <span class="title function_ invoke__">SoH_OnReload</span>(iCid);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">SoH_OnReload</span>(iCid)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetClientTeam</span>(iCid) == <span class="number">2</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> iEntid = <span class="title function_ invoke__">GetEntDataEnt2</span>(iCid,g_iActiveWO);</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">IsValidEntity</span>(iEntid) == <span class="literal">false</span>) <span class="keyword">return</span>;</span><br><span class="line">decl String:stClass[<span class="number">32</span>];</span><br><span class="line"><span class="title function_ invoke__">GetEntityNetClass</span>(iEntid,stClass,<span class="number">32</span>);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">StrContains</span>(stClass,<span class="string">&quot;shotgun&quot;</span>,<span class="literal">false</span>) == -<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SoH_MagStart</span>(iEntid,iCid);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="title function_ invoke__">StrContains</span>(stClass,<span class="string">&quot;autoshotgun&quot;</span>,<span class="literal">false</span>) != -<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>:hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iEntid);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">0.1</span>,SoH_AutoshotgunStart,hPack);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="title function_ invoke__">StrContains</span>(stClass,<span class="string">&quot;shotgun_spas&quot;</span>,<span class="literal">false</span>) != -<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>:hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iEntid);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">0.1</span>,SoH_SpasShotgunStart,hPack);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="title function_ invoke__">StrContains</span>(stClass,<span class="string">&quot;pumpshotgun&quot;</span>,<span class="literal">false</span>) != -<span class="number">1</span> || <span class="title function_ invoke__">StrContains</span>(stClass,<span class="string">&quot;shotgun_chrome&quot;</span>,<span class="literal">false</span>) != -<span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>:hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iEntid);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">0.1</span>,SoH_PumpshotgunStart,hPack);</span><br><span class="line"><span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">SoH_MagStart</span>(iEntid, iCid)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flGameTime = <span class="title function_ invoke__">GetGameTime</span>();</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flNextTime_ret = <span class="title function_ invoke__">GetEntDataFloat</span>(iEntid,g_iNextPAttO);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flNextTime_calc = (flNextTime_ret - flGameTime) * <span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>/<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp), <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(flNextTime_calc, SoH_MagEnd, iEntid);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Handle</span>:hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flStartTime_calc = flGameTime - (flNextTime_ret - flGameTime) * (<span class="number">1</span> - <span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp)) ;</span><br><span class="line"><span class="title function_ invoke__">WritePackFloat</span>(hPack, flStartTime_calc);</span><br><span class="line"><span class="keyword">if</span>((flNextTime_calc - <span class="number">0.4</span>) &gt; <span class="number">0</span>) <span class="title function_ invoke__">CreateTimer</span>(flNextTime_calc - <span class="number">0.4</span>, SoH_MagEnd2, hPack);</span><br><span class="line">flNextTime_calc += flGameTime;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iTimeIdleO, flNextTime_calc, <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iNextPAttO, flNextTime_calc, <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iCid, g_iNextAttO, flNextTime_calc, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_AutoshotgunStart</span>(<span class="attr">Handle</span>:timer, <span class="attr">Handle</span>:hPack)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>() == <span class="literal">false</span>) <span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"><span class="title function_ invoke__">ResetPack</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iEntid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line">hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iEntid);</span><br><span class="line"><span class="keyword">if</span>(iCid &lt;= <span class="number">0</span></span><br><span class="line">|| iEntid &lt;= <span class="number">0</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iCid) == <span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iEntid) == <span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsClientInGame</span>(iCid) == <span class="literal">false</span>)</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotStartDurO,g_flSoHAutoS*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotInsertDurO,g_flSoHAutoI*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotEndDurO,g_flSoHAutoE*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>/<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp), <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">0.3</span>,SoH_ShotgunEnd,hPack,TIMER_REPEAT);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_SpasShotgunStart</span>(<span class="attr">Handle</span>:timer, <span class="attr">Handle</span>:hPack)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>()==<span class="literal">false</span>) <span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"><span class="title function_ invoke__">ResetPack</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iEntid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line">hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iEntid);</span><br><span class="line"><span class="keyword">if</span>(iCid &lt;= <span class="number">0</span></span><br><span class="line">|| iEntid &lt;= <span class="number">0</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iCid)==<span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iEntid)==<span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsClientInGame</span>(iCid)==<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotStartDurO,g_flSoHSpasS*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotInsertDurO,g_flSoHSpasI*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotEndDurO,g_flSoHSpasE*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>/<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp), <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">0.3</span>,SoH_ShotgunEnd,hPack,TIMER_REPEAT);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_PumpshotgunStart</span>(<span class="attr">Handle</span>:timer, <span class="attr">Handle</span>:hPack)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>() == <span class="literal">false</span>) <span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"><span class="title function_ invoke__">ResetPack</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iEntid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line">hPack = <span class="title function_ invoke__">CreateDataPack</span>();</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iCid);</span><br><span class="line"><span class="title function_ invoke__">WritePackCell</span>(hPack, iEntid);</span><br><span class="line"><span class="keyword">if</span>(iCid &lt;= <span class="number">0</span></span><br><span class="line">|| iEntid &lt;= <span class="number">0</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iCid)==<span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iEntid)==<span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsClientInGame</span>(iCid)==<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotStartDurO,g_flSoHPumpS*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotInsertDurO,g_flSoHPumpI*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iShotEndDurO,g_flSoHPumpE*<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp),<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>/<span class="title function_ invoke__">GetConVarFloat</span>(g_cvarreloadspeedupsp), <span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">0.3</span>,SoH_ShotgunEnd,hPack,TIMER_REPEAT);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_MagEnd</span>(<span class="attr">Handle</span>:timer, <span class="attr">any</span>:iEntid)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>() == <span class="literal">false</span>) <span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"><span class="keyword">if</span>(iEntid &lt;= <span class="number">0</span> || <span class="title function_ invoke__">IsValidEntity</span>(iEntid) == <span class="literal">false</span>) <span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_MagEnd2</span>(<span class="attr">Handle</span>:timer, <span class="attr">Handle</span>:hPack)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>() == <span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_ invoke__">ResetPack</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flStartTime_calc = <span class="title function_ invoke__">ReadPackFloat</span>(hPack);</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line"><span class="keyword">if</span>(iCid &lt;= <span class="number">0</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iCid)==<span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsClientInGame</span>(iCid)==<span class="literal">false</span>)</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> iVMid = <span class="title function_ invoke__">GetEntDataEnt2</span>(iCid,g_iViewModelO);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iVMid, g_iVMStartTimeO, flStartTime_calc, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_ShotgunEnd</span> (<span class="attr">Handle</span>:timer, <span class="attr">Handle</span>:hPack)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">ResetPack</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iEntid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>() == <span class="literal">false</span></span><br><span class="line">|| iCid &lt;= <span class="number">0</span></span><br><span class="line">|| iEntid &lt;= <span class="number">0</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iCid) == <span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iEntid) == <span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsClientInGame</span>(iCid) == <span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="title function_ invoke__">GetEntData</span>(iEntid,g_iShotRelStateO) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flTime = <span class="title function_ invoke__">GetGameTime</span>() + <span class="number">0.2</span>;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iCid,g_iNextAttO,flTime,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iTimeIdleO,flTime,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iNextPAttO,flTime,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Plugin_Continue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">SoH_ShotgunEndCock</span> (<span class="attr">Handle</span>:timer, <span class="attr">any</span>:hPack)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">ResetPack</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iCid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">new</span> iEntid = <span class="title function_ invoke__">ReadPackCell</span>(hPack);</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsServerProcessing</span>() == <span class="literal">false</span></span><br><span class="line">|| iCid &lt;= <span class="number">0</span></span><br><span class="line">|| iEntid &lt;= <span class="number">0</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iCid) == <span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsValidEntity</span>(iEntid) == <span class="literal">false</span></span><br><span class="line">|| <span class="title function_ invoke__">IsClientInGame</span>(iCid) == <span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetEntData</span>(iEntid,g_iShotRelStateO) == <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid, g_iPlayRateO, <span class="number">1.0</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:flTime = <span class="title function_ invoke__">GetGameTime</span>() + <span class="number">1.0</span>;</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iCid,g_iNextAttO,flTime,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iTimeIdleO,flTime,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">SetEntDataFloat</span>(iEntid,g_iNextPAttO,flTime,<span class="literal">true</span>);</span><br><span class="line"><span class="title function_ invoke__">KillTimer</span>(timer);</span><br><span class="line"><span class="title function_ invoke__">CloseHandle</span>(hPack);</span><br><span class="line"><span class="keyword">return</span> Plugin_Stop;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Plugin_Continue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">OnPlayerRunCmd</span>(client, &amp;buttons, &amp;impulse, <span class="attr">Float</span>:vel[<span class="number">3</span>], <span class="attr">Float</span>:angles[<span class="number">3</span>], &amp;weapon)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">IsClientInGame</span>(client) &amp;&amp; !<span class="title function_ invoke__">IsFakeClient</span>(client) &amp;&amp; <span class="title function_ invoke__">IsPlayerAlive</span>(client) &amp;&amp; <span class="title function_ invoke__">GetClientTeam</span>(client) == <span class="number">2</span> &amp;&amp; weaponspeed[client] == <span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(buttons &amp; IN_ATTACK || buttons &amp; IN_ATTACK2)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">String</span>:name[<span class="number">64</span>];</span><br><span class="line"><span class="title function_ invoke__">GetClientWeapon</span>(client, name, <span class="title function_ invoke__">sizeof</span>(name));</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_smg&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_smg_silenced&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_smg_mp5&quot;</span>)</span><br><span class="line">|| <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_rifle&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_rifle_sg552&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_rifle_ak47&quot;</span>)</span><br><span class="line">|| <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_autoshotgun&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_shotgun_spas&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_rifle_m60&quot;</span>)</span><br><span class="line">|| <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_sniper_awp&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_sniper_military&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_sniper_scout&quot;</span>)</span><br><span class="line">|| <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_hunting_rifle&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_pumpshotgun&quot;</span>) || <span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_shotgun_chrome&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">AdjustWeaponSpeed</span>(client, <span class="title function_ invoke__">GetConVarFloat</span>(g_cvarweaponspeedupsp), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="title function_ invoke__">StrEqual</span>(name, <span class="string">&quot;weapon_melee&quot;</span>))</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">AdjustWeaponSpeed</span>(client, <span class="title function_ invoke__">GetConVarFloat</span>(g_cvarweaponspeedupsp), <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> Plugin_Continue;</span><br><span class="line">&#125;</span><br><span class="line">stock <span class="title function_ invoke__">AdjustWeaponSpeed</span>(client, <span class="attr">Float</span>:Amount, slot)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot) &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:m_flNextPrimaryAttack = <span class="title function_ invoke__">GetEntPropFloat</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_flNextPrimaryAttack&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:m_flNextSecondaryAttack = <span class="title function_ invoke__">GetEntPropFloat</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_flNextSecondaryAttack&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Float</span>:m_flCycle = <span class="title function_ invoke__">GetEntPropFloat</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_flCycle&quot;</span>);</span><br><span class="line"><span class="keyword">new</span> m_bInReload = <span class="title function_ invoke__">GetEntProp</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_bInReload&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(m_flCycle == <span class="number">0.000000</span> &amp;&amp; m_bInReload &lt; <span class="number">1</span>)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SetEntPropFloat</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_flPlaybackRate&quot;</span>, Amount);</span><br><span class="line"><span class="title function_ invoke__">SetEntPropFloat</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_flNextPrimaryAttack&quot;</span>, m_flNextPrimaryAttack - ((Amount - <span class="number">1.0</span>) / <span class="number">2</span>));</span><br><span class="line"><span class="title function_ invoke__">SetEntPropFloat</span>(<span class="title function_ invoke__">GetPlayerWeaponSlot</span>(client, slot), Prop_Send, <span class="string">&quot;m_flNextSecondaryAttack&quot;</span>, m_flNextSecondaryAttack - ((Amount - <span class="number">1.0</span>) / <span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//结束事件</span></span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">Event_Speed_End</span>(<span class="attr">Handle</span>:timer, <span class="attr">any</span>:client)</span><br><span class="line">&#123;</span><br><span class="line">speedchange[client] = <span class="literal">false</span>;</span><br><span class="line"><span class="title function_ invoke__">SetEntPropFloat</span>(client, Prop_Data, <span class="string">&quot;m_flLaggedMovementValue&quot;</span>, hunmanspeed[client]);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*救援的副作用速度改变事件结束.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">Event_God_End</span>(<span class="attr">Handle</span>:timer, <span class="attr">any</span>:client)</span><br><span class="line">&#123;</span><br><span class="line"><span class="title function_ invoke__">SetEntProp</span>(client, Prop_Data, <span class="string">&quot;m_takedamage&quot;</span>, <span class="number">2</span>, <span class="number">1</span>);</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*救援的副作用无敌事件结束.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">Event_Slap</span>(<span class="attr">Handle</span>:timer, <span class="attr">any</span>:client)</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(slaptimer[client] &gt; <span class="number">0</span>)</span><br><span class="line">&#123;</span><br><span class="line">slaptimer[client] --;</span><br><span class="line"><span class="title function_ invoke__">ServerCommand</span>(<span class="string">&quot;sm_slap \&quot;%N\&quot; \&quot;1\&quot;&quot;</span>,client);</span><br><span class="line"><span class="title function_ invoke__">CreateTimer</span>(<span class="number">1.0</span>, Event_Slap, client);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*救援的副作用拍打事件结束.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">Event_Weapon_Speed_Up_End</span>(<span class="attr">Handle</span>:timer, <span class="attr">any</span>:client)</span><br><span class="line">&#123;</span><br><span class="line">weaponspeed[client] = <span class="literal">false</span>;</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*救援的副作用武器攻击速度加快事件结束.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> Action:<span class="title function_ invoke__">Event_Reload_Speed_Up_End</span>(<span class="attr">Handle</span>:timer, <span class="attr">any</span>:client)</span><br><span class="line">&#123;</span><br><span class="line">reloadspeed[client] = <span class="literal">false</span>;</span><br><span class="line"><span class="title function_ invoke__">PrintToChat</span>(client,<span class="string">&quot;*救援的副作用武器上弹速度加快事件结束.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//作弊指令</span></span><br><span class="line">stock <span class="title function_ invoke__">CheatCommand</span>(Client, <span class="keyword">const</span> <span class="attr">String</span>:command[], <span class="keyword">const</span> <span class="attr">String</span>:arguments[])</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!Client) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">new</span> admindata = <span class="title function_ invoke__">GetUserFlagBits</span>(Client);</span><br><span class="line">    <span class="title function_ invoke__">SetUserFlagBits</span>(Client, ADMFLAG_ROOT);</span><br><span class="line">    <span class="keyword">new</span> flags = <span class="title function_ invoke__">GetCommandFlags</span>(command);</span><br><span class="line">    <span class="title function_ invoke__">SetCommandFlags</span>(command, flags &amp; ~FCVAR_CHEAT);</span><br><span class="line">    <span class="title function_ invoke__">FakeClientCommand</span>(Client, <span class="string">&quot;%s %s&quot;</span>, command, arguments);</span><br><span class="line">    <span class="title function_ invoke__">SetCommandFlags</span>(command, flags);</span><br><span class="line">    <span class="title function_ invoke__">SetUserFlagBits</span>(Client, admindata);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight php&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="sp源码" scheme="https://qzkyl.ml/tags/sp%E6%BA%90%E7%A0%81/"/>
    
  </entry>
  
  <entry>
    <title>望夜的公告击杀排名去广告</title>
    <link href="https://qzkyl.ml/posts/44616.html"/>
    <id>https://qzkyl.ml/posts/44616.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>原版是会带上<code>-by望夜</code>的，现已去除</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_harh6enr3lzjyi6.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_harh6enr3lzjyi6.png"></p><p>说明:</p><p>聊天窗时时公告显示击杀特感排名,默认2分钟公告一次</p><p>参数修改在<code>\L4D2\left4dead2\cfg\sourcemod\l4d2_kill_mvp.cfg</code></p><p>可输入!mvp 立即显示排名</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_kill_mvp.smx">l4d2_kill_mvp.smx</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;原版是会带上&lt;code&gt;-by望夜&lt;/code&gt;的，现已去除&lt;/p&gt;
&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>让电脑玩家也能投掷各种手雷</title>
    <link href="https://qzkyl.ml/posts/5100.html"/>
    <id>https://qzkyl.ml/posts/5100.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>这是一个允许BOT在tank出现的时候投掷手雷，不是tank下，暂时没测试出来</p><p>指令：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">!sm_botgrenade <span class="regexp">//</span>强迫所有BOT装备手雷</span><br><span class="line">!sm_botthrowpipebomb <span class="regexp">//</span>强迫所有BOT丢出土质</span><br><span class="line">!sm_botthrowvomitjar <span class="regexp">//</span>强迫所有BOT丢出胆汁</span><br><span class="line">!sm_botthrowmolotov <span class="regexp">//</span>强迫所有BOT丢出火瓶</span><br><span class="line">!sm_botthrowgrenade <span class="regexp">//</span>强迫所有BOT丢出任何手雷</span><br><span class="line">!sm_botthrowrandomgrenade <span class="regexp">//</span>随机选择一名BOT丢出任何手雷</span><br><span class="line">!sm_botthrowrandompipebomb <span class="regexp">//</span>随机选择一名BOT丢出土质</span><br><span class="line">!sm_botthrowrandommolotov <span class="regexp">//</span>随机选择一名BOT丢出火瓶</span><br><span class="line">!sm_botthrowrandomvomitjar <span class="regexp">//</span>随机选择一名BOT丢出胆汁</span><br></pre></td></tr></table></figure><p>cfg中可设置在tank出现是否投掷手雷。</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/l4d2_botgrenade.sp">l4d2_botgrenade.sp</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这是一个允许BOT在tank出现的时候投掷手雷，不是tank下，暂时没测试出来&lt;/p&gt;
&lt;p&gt;指令：&lt;/p&gt;
&lt;figure class=&quot;highlight awk&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>绳索插件，中文修改版本，增加管理员机制</title>
    <link href="https://qzkyl.ml/posts/17494.html"/>
    <id>https://qzkyl.ml/posts/17494.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>这个绳索插件的汉化全是我一个人完成的，并且在原本的插件里面添加了管理员通道(就是管理员才能使用)这样就不会出现任何玩家输入指令就可以获得绳索的场景了，太作弊了，并且的话文字加上了彩色字体(纯属好看)，喜欢的话可以自行下载</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/rope_l4d.sp">rope_l4d.sp</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;这个绳索插件的汉化全是我一个人完成的，并且在原本的插件里面添加了管理员通道(就是管理员才能使用)这样就不会出现任何玩家输入指令就可以获得绳索的场景了，太作弊了，并且的话文字加上了彩色字体(纯属好看)，喜欢的话可以自行下载&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://gc</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
    <category term="smx插件" scheme="https://qzkyl.ml/tags/smx%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>自带语音改为尖叫声等</title>
    <link href="https://qzkyl.ml/posts/55413.html"/>
    <id>https://qzkyl.ml/posts/55413.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_yeki41nhhf187kr.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_yeki41nhhf187kr.png"></p><p>下载地址：<a href="https://pan.baidu.com/s/1eRU41j0">https://pan.baidu.com/s/1eRU41j0</a> 密码:keji</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_yeki41nhhf187k</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>邪恶的Zoey模型（裸体Zoey）</title>
    <link href="https://qzkyl.ml/posts/16917.html"/>
    <id>https://qzkyl.ml/posts/16917.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>下载地址：<a href="https://pan.baidu.com/s/1bo4m2BX">https://pan.baidu.com/s/1bo4m2BX</a> 密码：tyy0</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;下载地址：&lt;a href=&quot;https://pan.baidu.com/s/1bo4m2BX&quot;&gt;https://pan.baidu.com/s/1bo4m2BX&lt;/a&gt; 密码：tyy0&lt;/p&gt;
</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>安卓手机清除锁屏密码终极方法，可再次设置新密码</title>
    <link href="https://qzkyl.ml/posts/50929.html"/>
    <id>https://qzkyl.ml/posts/50929.html</id>
    <published>2016-12-18T04:00:00.000Z</published>
    <updated>2016-12-18T04:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>具备前提条件：能进入系统目录的手机，无论什么方法都行，在这不一一举例。</p><p>所有锁屏密码文件存放于：data&#x2F;system 目录</p><p>网上说的删除gatekeeper.password.key和gatekeeper.pattern.key文件，删除后，虽然可以不用密码了，但是无法再次锁屏密码</p><p>这里我给一个亲身经历的教程，可以再次设置锁屏密码的方法</p><p>只要依次删除以下5个文件即可：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">gatekeeper<span class="selector-class">.password</span><span class="selector-class">.key</span></span><br><span class="line">gatekeeper<span class="selector-class">.pattern</span><span class="selector-class">.key</span></span><br><span class="line">devicepolicies<span class="selector-class">.xml</span></span><br><span class="line">locksettings<span class="selector-class">.db-shm</span></span><br><span class="line">locksettings.db-wal</span><br></pre></td></tr></table></figure><p>删除完成后，重启手机，就可以正常解锁，并且设置新的密码了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;具备前提条件：能进入系统目录的手机，无论什么方法都行，在这不一一举例。&lt;/p&gt;
&lt;p&gt;所有锁屏密码文件存放于：data&amp;#x2F;system 目录&lt;/p&gt;
&lt;p&gt;网上说的删除gatekeeper.password.key和gatekeeper.pattern.key文件，</summary>
      
    
    
    
    <category term="随笔" scheme="https://qzkyl.ml/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
  </entry>
  
  <entry>
    <title>Linux 网站及数据库自动本地备份并FTP上传备份脚本</title>
    <link href="https://qzkyl.ml/posts/46218.html"/>
    <id>https://qzkyl.ml/posts/46218.html</id>
    <published>2016-12-17T17:00:00.000Z</published>
    <updated>2016-12-17T17:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>准备工作：</p><p>需要提前在服务器上安装好lftp，lftp功能上比较强大。</p><p>CentOS直接执行：</p><p><code>yum install lftp</code></p><p>Debian执行：</p><p><code>apt-get install lftp</code></p><p>需要在服务器上创建&#x2F;home&#x2F;backup&#x2F; 目录，在FTP上创建backup目录。</p><p>下面将备份脚本进行部分注释说明：</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash</span></span><br><span class="line"><span class="comment">#Funciont: Backup website and mysql database</span></span><br><span class="line"><span class="comment">#Author: licess</span></span><br><span class="line"><span class="comment">#Website: https://lnmp.org</span></span><br><span class="line"><span class="comment">#IMPORTANT!!!Please Setting the following Values!</span></span><br><span class="line"><span class="comment">######~Set Directory you want to backup~######将下面的目录修改成自己要备份的目录，一般按我的都是在/home/wwwroot/下面所有直接写了需要备份的目录。可以继续再加：Backup\_Dir5=你的目录 ，Backup\_Dir后面的数字依次递增。如果不足4个，直接删除不需要的就可以，同时修改下面tar zcf 部分。</span></span><br><span class="line">Backup\_Dir1=vpser.net</span><br><span class="line">Backup\_Dir2=lnmp.org</span><br><span class="line">Backup\_Dir3=licess.org</span><br><span class="line">Backup\_Dir4=jungehost.com</span><br><span class="line"><span class="comment">######~Set MySQL UserName and password######设置MySQL的用户名和密码，最好是root，其他用户可能因为权限问题无法导出部分数据库。</span></span><br><span class="line">MYSQL\_UserName=root</span><br><span class="line">MYSQL\_PassWord=yourmysqlrootpassword</span><br><span class="line"><span class="comment">######~Set MySQL Database you want to backup~######设置要部分的数据库，可以继续再加：Backup\_Database\_Name5=数据库名，Backup\_Database\_Name后面的数字依次递增。</span></span><br><span class="line">Backup\_Database\_Name1=abbw</span><br><span class="line">Backup\_Database\_Name2=bbs</span><br><span class="line">Backup\_Database\_Name3=mysql</span><br><span class="line">Backup\_Database\_Name4=test</span><br><span class="line"><span class="comment">######~Set FTP Information~######设置用来存放备份数据的FTP信息</span></span><br><span class="line">FTP\_HostName=<span class="number">127.0</span>.<span class="number">0.1</span>            <span class="regexp">//</span>FTP服务器的IP或者域名</span><br><span class="line">FTP\_UserName=root                 <span class="regexp">//</span>FTP服务器用户名</span><br><span class="line">FTP\_PassWord=yourftppassword      <span class="regexp">//</span>FTP服务器用户对应的密码</span><br><span class="line">FTP\_BackupDir=backup              <span class="regexp">//</span>备份到FTP上的目录，需要提前创建好。</span><br><span class="line"><span class="comment">#Values Setting END!</span></span><br><span class="line">TodayWWWBackup=www-\*-$(date +<span class="string">&quot;%Y%m%d&quot;</span>).tar.gz</span><br><span class="line">TodayDBBackup=db-\*-$(date +<span class="string">&quot;%Y%m%d&quot;</span>).sql</span><br><span class="line">OldWWWBackup=www-\*-$(date -d -<span class="number">3</span>day +<span class="string">&quot;%Y%m%d&quot;</span>).tar.gz</span><br><span class="line">OldDBBackup=db-\*-$(date -d -<span class="number">3</span>day +<span class="string">&quot;%Y%m%d&quot;</span>).sql</span><br><span class="line">tar zcf <span class="regexp">/home/</span>backup<span class="regexp">/www-$Backup\_Dir1-$(date +&quot;%Y%m%d&quot;).tar.gz -C /</span>home<span class="regexp">/wwwroot/</span> <span class="variable">$Backup</span>\_Dir1 --exclude=soft</span><br><span class="line">tar zcf <span class="regexp">/home/</span>backup<span class="regexp">/www-$Backup\_Dir2-$(date +&quot;%Y%m%d&quot;).tar.gz -C /</span>home<span class="regexp">/wwwroot/</span> <span class="variable">$Backup</span>\_Dir2</span><br><span class="line">tar zcf <span class="regexp">/home/</span>backup<span class="regexp">/www-$Backup\_Dir3-$(date +&quot;%Y%m%d&quot;).tar.gz -C /</span>home<span class="regexp">/wwwroot/</span> <span class="variable">$Backup</span>\_Dir3 --exclude=test</span><br><span class="line">tar zcf <span class="regexp">/home/</span>backup<span class="regexp">/www-$Backup\_Dir4-$(date +&quot;%Y%m%d&quot;).tar.gz -C /</span>home<span class="regexp">/wwwroot/</span> <span class="variable">$Backup</span>\_Dir4</span><br><span class="line"><span class="comment">###上面为备份网站文件数据，因为我的网站比较零散，而且网站目录下面有些目录属于临时目录并不需要备份，所以可以在上面加上--exclude=不备份的目录。如果在前面加了Backup\_Dir5=yourdir，则再加tar zcf /home/backup/www-$Backup\_Dir5-$(date +&quot;%Y%m%d&quot;).tar.gz -C /home/wwwroot/ $Backup\_Dir5 。如果多余则删除多余行。</span></span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mysql/</span>bin<span class="regexp">/mysqldump -u$MYSQL\_UserName -p$MYSQL\_PassWord $Backup\_Database\_Name1 &gt; /</span>home<span class="regexp">/backup/</span>db-<span class="variable">$Backup</span>\_Database\_Name1-$(date +<span class="string">&quot;%Y%m%d&quot;</span>).sql</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mysql/</span>bin<span class="regexp">/mysqldump -u$MYSQL\_UserName -p$MYSQL\_PassWord $Backup\_Database\_Name2 &gt; /</span>home<span class="regexp">/backup/</span>db-<span class="variable">$Backup</span>\_Database\_Name2-$(date +<span class="string">&quot;%Y%m%d&quot;</span>).sql</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mysql/</span>bin<span class="regexp">/mysqldump -u$MYSQL\_UserName -p$MYSQL\_PassWord $Backup\_Database\_Name3 &gt; /</span>home<span class="regexp">/backup/</span>db-<span class="variable">$Backup</span>\_Database\_Name3-$(date +<span class="string">&quot;%Y%m%d&quot;</span>).sql</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/mysql/</span>bin<span class="regexp">/mysqldump -u$MYSQL\_UserName -p$MYSQL\_PassWord $Backup\_Database\_Name4 &gt; /</span>home<span class="regexp">/backup/</span>db-<span class="variable">$Backup</span>\_Database\_Name4-$(date +<span class="string">&quot;%Y%m%d&quot;</span>).sql</span><br><span class="line"><span class="comment">###上面为备份MySQL数据库，如果在前面加了Backup\_Database\_Name5=yourdatabasename，则再加/usr/local/mysql/bin/mysqldump -u$MYSQL\_UserName -p$MYSQL\_PassWord $Backup\_Database\_Name5 &gt; /home/backup/db-$Backup\_Database\_Name5-$(date +&quot;%Y%m%d&quot;).sql 。如果多余则删除多余行。</span></span><br><span class="line">rm <span class="variable">$OldWWWBackup</span></span><br><span class="line">rm <span class="variable">$OldDBBacku</span></span><br><span class="line"><span class="comment">###删除3天前的备份###</span></span><br><span class="line">cd <span class="regexp">/home/</span>backup/</span><br><span class="line"><span class="comment">###下面为自动上传部分，不得不说lftp很强大####</span></span><br><span class="line">lftp <span class="variable">$FTP</span>\_HostName -u <span class="variable">$FTP</span>\_UserName,<span class="variable">$FTP</span>\_PassWord &lt;&lt; EOF</span><br><span class="line">cd <span class="variable">$FTP</span>\_BackupDir</span><br><span class="line">mrm <span class="variable">$OldWWWBackup</span></span><br><span class="line">mrm <span class="variable">$OldDBBackup</span></span><br><span class="line">mput <span class="variable">$TodayWWWBackup</span></span><br><span class="line">mput <span class="variable">$TodayDBBackup</span></span><br><span class="line">bye</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><p>脚本下载地址：<a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/backup.sh" title="backup.sh">backup.sh</a></p><p>下载脚本，将脚本放到&#x2F;home&#x2F; 下面，按上面的注释修改脚本中的参数，并保存，如果不熟悉vi或者nano编辑器，可以用winscp，执行：chmod +x &#x2F;home&#x2F;backup.sh 为脚本添加执行权限，执行：crontab -e 添加定时执行</p><p>在crontab中加入：<code>0 3 \* \* \* /home/backup.sh</code></p><p>凌晨3点自动执行&#x2F;home&#x2F;bakcup.sh 脚本，备份服务器上的数据并上传到FTP上。</p><p>当然也可以手动执行进行备份：</p><p><code>cd home ./backup.sh</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;准备工作：&lt;/p&gt;
&lt;p&gt;需要提前在服务器上安装好lftp，lftp功能上比较强大。&lt;/p&gt;
&lt;p&gt;CentOS直接执行：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;yum install lftp&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Debian执行：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;apt-get </summary>
      
    
    
    
    <category term="Linux" scheme="https://qzkyl.ml/categories/Linux/"/>
    
    
    <category term="Linux脚本" scheme="https://qzkyl.ml/tags/Linux%E8%84%9A%E6%9C%AC/"/>
    
  </entry>
  
  <entry>
    <title>Linux搭建求生之路2正版服务器</title>
    <link href="https://qzkyl.ml/posts/38382.html"/>
    <id>https://qzkyl.ml/posts/38382.html</id>
    <published>2016-12-17T17:00:00.000Z</published>
    <updated>2016-12-17T17:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2017030404034484.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2017030404034484.jpg"></p><blockquote><p>首先说明，此文章所述搭建过程仅适用于Steam正版L4D2，盗版开服请自行解决破解问题</p></blockquote><p>首先说明下服务器环境和配置</p><p>1G内存，1核，1Mbps带宽<br>硬盘是云硬盘，40G<br>Centos 7.0 x64操作系统<br>L4D2并不需要很高配置，但是我们这样的低配置服务器建议还是选择Linux</p><p>一、前期准备<br>在安装之前，如果是64位的Linux需要安装32位运行库，也就是<code>lib32gcc1</code></p><p>如果是64位的debian系的</p><p><code>apt-get install lib32gcc1</code></p><p>如果是32位Redhat系的</p><p><code>yum install glibc libstdc++</code></p><p>如果是64位Redhat系的</p><p><code>yum install glibc.i686 libstdc++.i686</code></p><p>二、开始安装<br>先创建用于运行服务端的用户，我这里是steam，强烈推荐创建非root用户</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">adduser </span>steam</span><br><span class="line">su – steam</span><br></pre></td></tr></table></figure><p>下载steamcmd程序</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> ~/steamcmd</span><br><span class="line"><span class="built_in">cd</span> ~/steamcmd</span><br><span class="line">wget https://steamcdn-a.akamaihd.net/client/installer/steamcmd_linux.tar.gz</span><br><span class="line">tar -zxvf steamcmd_linux.tar.gz</span><br></pre></td></tr></table></figure><p>然后就可以进入steamcmd了，首次下载会需要你更新</p><p><code>./steamcmd.sh</code></p><p>然后设置挂载点，需要切换到root（如果有第二张硬盘）</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">su</span><br><span class="line">cd <span class="regexp">/home/</span>steam</span><br></pre></td></tr></table></figure><p>挂载第二个磁盘到<code>/home/steam/Steam/steamapps</code></p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount <span class="regexp">/dev/</span>vdb1 <span class="regexp">/home/</span>steam<span class="regexp">/Steam/</span>steamapps</span><br><span class="line">chmod <span class="number">777</span> <span class="regexp">/home/</span>steam<span class="regexp">/Steam/</span>steamapps</span><br></pre></td></tr></table></figure><p>为了让让挂载在系统重启后仍然有效<br><code>vi /etc/fstab</code>，在里面加上一行</p><p><code>/dev/vdb1 /home/steam/Steam/steamapps ext4 defaults 0 0</code></p><p>接下来就可以开始安装求生之路的服务端了</p><p>首先我们需要登录匿名账号</p><p><code>login anonymous</code></p><p>然后设置安装目录(不用设置，除非你上一布决定挂载到其他文件夹)</p><p><code>force_install_dir /home/steam/steamapps</code></p><p>开始安装<br>查询可知，求生之路服务端的AppID是<code>222860</code></p><p><code>app_update 222860 validate</code></p><p>Validate 代表验证数据，我们把它加上<br>等待它下载完成就可以了</p><p>运行服务端<br>首先先编辑<code>server.cfg</code>文件，没有的话就创建一个，内容和Windows版的是相同的<br>如果你已经编辑过了的话<br>后台运行steamcmd，使用nohup<br>cd到你安装求生之路服务端的文件夹，路径中如果有空格，请在路径两边加上””</p><p><code>nohup ./srcds_run -game left4dead2 +exec server.cfg</code></p><p>这样你的服务器就可以正常运行了</p><p>如果需要关闭服务器，可以用<code>ps -u &lt;用户名&gt;</code>，这里是<code>ps -u steam</code>查看进程信息，然后kill掉进程就可以了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/2017030404034484</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>Win7使用空密码远程登录用户提示“由于账户限制无法登陆”的解决方法</title>
    <link href="https://qzkyl.ml/posts/39784.html"/>
    <id>https://qzkyl.ml/posts/39784.html</id>
    <published>2016-12-17T17:00:00.000Z</published>
    <updated>2016-12-17T17:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>如果使用win7系统空密码登录远程会弹窗提示“由于账户限制无法登陆”，这时候该怎么办呢？本文将提供win7使用系统账号空密码登录远程提示“由于账户限制无法登陆”的解决方法供大家了解，希望对大家有所帮助</p><p>解决方法：</p><p>只要设置修改windows的安全策略，允许远程桌面连接使用空密码就可以解决问题了</p><p>具体方法如下:</p><p>1、首先确保远程计算机的远程桌面功能是打开。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_1750sgk1bimjqk5.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_1750sgk1bimjqk5.png"></p><p>2、修改windows的安全策略，允许远程桌面连接使用空密码    在远程计算机上启动“组策略编辑器”（开始-运行-GPEDIT.MSC）。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_hlcjb23l0oio2jt.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_hlcjb23l0oio2jt.png"></p><p>3、在“WINDOWS设置-安全设置-本地策略-安全选项”中找到“使用空白密码的本地帐户只允许进行控制台登录”，将其设置为“已停用”。这样就可以使用系统账号、空密码进行远程桌面连接了。</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_mf9qrkxgyg4qkjy.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_mf9qrkxgyg4qkjy.png"></p><p>上述就是对win7使用administrator账号空密码登录远程提示“由于账户限制无法登陆”的解决办法全部内容的介绍，如果你也遇到同样的问题，按照上述的方法进行设置解决！</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;如果使用win7系统空密码登录远程会弹窗提示“由于账户限制无法登陆”，这时候该怎么办呢？本文将提供win7使用系统账号空密码登录远程提示“由于账户限制无法登陆”的解决方法供大家了解，希望对大家有所帮助&lt;/p&gt;
&lt;p&gt;解决方法：&lt;/p&gt;
&lt;p&gt;只要设置修改windows的安全</summary>
      
    
    
    
    <category term="Windows" scheme="https://qzkyl.ml/categories/Windows/"/>
    
    
  </entry>
  
  <entry>
    <title>Windows搭建求生之路2正版服务器</title>
    <link href="https://qzkyl.ml/posts/60034.html"/>
    <id>https://qzkyl.ml/posts/60034.html</id>
    <published>2016-12-17T17:00:00.000Z</published>
    <updated>2016-12-17T17:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>首先需要下载l4d2服务器端，获取渠道steam和一些朋友将备份传网盘空间，这里指导一下如何用steam下载l4d2服务器端：（这里推荐用steam纯粹是因为更简单，专用服务器端下载工具steamcmd请自行研究）</p><p>一、先安装好steam客户端，<a href="http://store.steampowered.com/about/">http://store.steampowered.com/about/</a></p><p>二、运行steam，账号登录，没有就注册一个，注册步骤略</p><p>三、登录后点击“库”下拉的“工具”</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_ruapq6x412mu4k7.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_ruapq6x412mu4k7.jpg"></p><p>四、然后找到Left 4 Dead 2 Dedicated Server，右键“安装”</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_timc9u069m8j2qw.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_timc9u069m8j2qw.jpg"></p><p>五、等待下载完成。如果速度慢请去设置更换下载区，推荐美国城市可能更快</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_nzgouax5wwfuh0j.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_nzgouax5wwfuh0j.jpg"></p><p>六、下载完成后可以关闭退出steam了，打开steam安装目录，如 X:\Steam\SteamApps\common</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_i44436yqdo0h87l.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_i44436yqdo0h87l.jpg"></p><p>如图第二个就是服务器端</p><p>七、运行srcds.exe开启服务器</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_mlx4dyq2aa2tnh1.jpg" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_mlx4dyq2aa2tnh1.jpg"></p><p>八、按上图照自己需求修改然后点击“开始服务器”，没问题的话启动成功，一个正版纯净服就成功建立了</p><p>PS：服务器srcds图形界面运行当然也可以，但相对服务器来说更耗资源，所以推荐使用命令行运行srcds</p><p>简单的方法是：srcds.exe右键建立一个快捷方式，然后右键这个快捷方式打开“属性”，在目标框添加参数（最前面有个空格）：<br><code>-console -game left4dead2 -insecure +hostport 27015 +map c2m1_highway +exec server.cfg</code></p><p>然后确定保存即可，以后运行这个快捷即可</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;首先需要下载l4d2服务器端，获取渠道steam和一些朋友将备份传网盘空间，这里指导一下如何用steam下载l4d2服务器端：（这里推荐用steam纯粹是因为更简单，专用服务器端下载工具steamcmd请自行研究）&lt;/p&gt;
&lt;p&gt;一、先安装好steam客户端，&lt;a href</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>求生之路2 SourceMod手动安装教程</title>
    <link href="https://qzkyl.ml/posts/6086.html"/>
    <id>https://qzkyl.ml/posts/6086.html</id>
    <published>2016-12-17T17:00:00.000Z</published>
    <updated>2016-12-17T17:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_638ckrw7s1yaxp6.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_638ckrw7s1yaxp6.png"></p><p>首先在下载之前，我们需要准备一下本地需要的工具<br>FileZilla，Notepad++，Putty<br>Ftp使用的是FileZilla，当然WinSCP也可以，但是我觉得FileZilla更好用</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_js12auhw46wt5me.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_js12auhw46wt5me.png"></p><p>首先我们需要先下载安装需要的文件</p><p>Sourcemod：<a href="https://www.sourcemod.net/downloads.php?branch=stable">https://www.sourcemod.net/downloads.php?branch=stable</a></p><p>Metamod：<a href="http://www.metamodsource.net/downloads.php/?branch=stable">http://www.metamodsource.net/downloads.php/?branch=stable</a></p><p>VDF File：<a href="http://www.metamodsource.net/vdf">http://www.metamodsource.net/vdf</a></p><p>在里面选择Linux系统（VDF文件在Games里面选择Left4Dead2）下载</p><p>将下载的两个tar.gz文件解压缩</p><p>可以得到一个addons和cfg文件夹</p><p>把下载下来的metamod.vdf文件放入addons文件夹里面</p><p>下面就是根据Windows版教程编辑插件的配置文件</p><p>在编辑之前一定要注意，绝对不要要Windows自带的记事本编辑，可能会发生无法预料的错误，请使用Notepad++编辑。如果已经使用记事本编辑了，请用Notepad++将文件转换成无BOM头的才可以!!</p><p>编辑完成之后，使用Filezilla连接服务器，将服务器的addons和cfg文件夹完整复制下来，当然也可以使用Putty连接到服务器用cp命令直接复制一份到专门的文件夹保存</p><p>然后把本地的addons文件夹里面的内容全部复制到服务器的 游戏目录&#x2F;left4dead2&#x2F;addons文件夹</p><p>cfg文件夹里面的sourcemod文件夹复制到服务器的 游戏目录&#x2F;left4dead2&#x2F;cfg文件夹</p><p>这样就插件就安装完成了</p><p>启动服务器时，在服务器的启动参数里面加上<code>-insecure</code>就可以</p><p>如果是看上一篇搭建的服务器，启动脚本就是</p><p><code>nohup ./srcds_run -game left4dead2 -insecure +exec server.cfg</code></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;img  srcset=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif&quot; data-src=&quot;https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_638ckrw7s1yaxp</summary>
      
    
    
    
    <category term="求生之路" scheme="https://qzkyl.ml/categories/%E6%B1%82%E7%94%9F%E4%B9%8B%E8%B7%AF/"/>
    
    
  </entry>
  
  <entry>
    <title>隐藏Win10此电脑窗口的6个额外文件夹</title>
    <link href="https://qzkyl.ml/posts/35746.html"/>
    <id>https://qzkyl.ml/posts/35746.html</id>
    <published>2016-12-17T17:00:00.000Z</published>
    <updated>2016-12-17T17:00:00.000Z</updated>
    
    <content type="html"><![CDATA[<p>如何隐藏“此电脑”窗口里的六个额外“文件夹”（见下图），它们分别：视频、图片、文档、下载、音乐、桌面。和Win8.1一样，在Win10里你也能见到它们。但是对大多数用户来说，这六个文件夹的使用率并不高，因此有没有它们无关紧要，相反，它们还有点“占地方”，最好能让它们消失。然而，这几个文件夹并不是那么容易请走的，想让它们乖乖离开需要点手段。那么，具体该如何操作呢？</p><p><img  srcset="https://gcore.jsdelivr.net/gh/abbw/CDN/img/ld3.gif" data-src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_isjqc5zbfn7ewqt.png" class="lozad post-image"src="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/1_isjqc5zbfn7ewqt.png"></p><p>说穿了其实很简单，通过修改注册表即可，就如同Win8.1那样，只不过Windows10中的注册表项名称有所变动，但原理是一样的</p><p>为了方便，我已经写成注册表文件，直接导入即可，想手动改的可以百度一下</p><p><a href="https://gcore.jsdelivr.net/gh/abbw/CDN/asset/Win10%E5%88%A0%E9%99%A4%E7%94%B5%E8%84%91%E5%85%AD%E6%96%87%E4%BB%B6%E5%A4%B9.reg">Win10删除电脑六文件夹.reg</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;如何隐藏“此电脑”窗口里的六个额外“文件夹”（见下图），它们分别：视频、图片、文档、下载、音乐、桌面。和Win8.1一样，在Win10里你也能见到它们。但是对大多数用户来说，这六个文件夹的使用率并不高，因此有没有它们无关紧要，相反，它们还有点“占地方”，最好能让它们消失。然</summary>
      
    
    
    
    <category term="Windows" scheme="https://qzkyl.ml/categories/Windows/"/>
    
    
  </entry>
  
</feed>
